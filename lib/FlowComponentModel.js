!function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=6)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(1),i=n(3);!function(e){e[e.unknown=0]="unknown",e[e.ContentString=1]="ContentString",e[e.ContentNumber=2]="ContentNumber",e[e.ContentObject=3]="ContentObject",e[e.ContentBoolean=4]="ContentBoolean",e[e.ContentList=5]="ContentList",e[e.ContentPassword=6]="ContentPassword",e[e.ContentContent=7]="ContentContent",e[e.ContentDateTime=8]="ContentDateTime",e[e.ContentEncrypted=9]="ContentEncrypted"}(o=t.eContentType||(t.eContentType={}));var a=function(){function e(e){if(this.ContentType=o.unknown,this.DeveloperName="",this.TypeElementDeveloperName="",this.TypeElementId="",this.TypeElementPropertyDeveloperName="",this.TypeElementPropertyId="",this.ValueElementId="",e)switch(this.ContentType=o[e.contentType],this.DeveloperName=e.developerName,this.TypeElementDeveloperName=e.typeElementDeveloperName,this.TypeElementId=e.typeElementId,this.TypeElementPropertyDeveloperName=e.typeElementPropertyDeveloperName,this.TypeElementPropertyId=e.typeElementPropertyId,this.ValueElementId=e.valueElementId,this.ContentType){case o.ContentObject:this.Value=e.objectData?new r.FlowObjectData(e.objectData):void 0;break;case o.ContentList:this.Value=e.objectData&&e.objectData[0]?new i.FlowObjectDataArray(e.objectData):new i.FlowObjectDataArray([]);break;default:this.Value=e.contentValue}}return Object.defineProperty(e.prototype,"contentType",{get:function(){return this.ContentType},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"developerName",{get:function(){return this.DeveloperName},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"typeElementDeveloperName",{get:function(){return this.TypeElementDeveloperName},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"typeElementId",{get:function(){return this.TypeElementId},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"typeElementPropertyDeveloperName",{get:function(){return this.TypeElementPropertyDeveloperName},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"typeElementPropertyId",{get:function(){return this.TypeElementPropertyId},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"valueElementId",{get:function(){return this.ValueElementId},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this.Value},set:function(e){this.Value=e},enumerable:!0,configurable:!0}),e.prototype.iFlowField=function(){var e="",t=[];switch(this.ContentType){case o.ContentObject:var n=this.Value;t.push(n.iObjectData());break;case o.ContentList:t=this.Value.iFlowObjectDataArray();break;default:e=this.Value?this.Value:""}return{contentType:o[this.ContentType],contentValue:e,developerName:this.DeveloperName,objectData:t,typeElementDeveloperName:this.TypeElementDeveloperName,typeElementId:this.TypeElementId,typeElementPropertyDeveloperName:this.TypeElementPropertyDeveloperName,typeElementPropertyId:this.TypeElementPropertyId,valueElementId:this.ValueElementId}},e}();t.FlowField=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(10),r=function(){function e(e){if(this.DeveloperName="",this.ExternalId="",this.InternalId="",this.IsSelected=!1,this.Order=0,this.TypeElementId="",this.Properties={},e&&e[0]){var t=e[0];this.DeveloperName=t.developerName,this.InternalId=t.internalId,this.ExternalId=t.externalId,this.Order=t.order,this.IsSelected=t.isSelected,this.TypeElementId=t.typeElementId;for(var n=0,r=t.properties;n<r.length;n++){var i=r[n];this.Properties[i.developerName]=new o.FlowObjectDataProperty(i)}}}return Object.defineProperty(e.prototype,"developerName",{get:function(){return this.DeveloperName},set:function(e){this.DeveloperName=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"externalId",{get:function(){return this.ExternalId},set:function(e){this.ExternalId=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"internalId",{get:function(){return this.InternalId},set:function(e){this.InternalId=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isSelected",{get:function(){return this.IsSelected},set:function(e){this.IsSelected=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"order",{get:function(){return this.Order},set:function(e){this.Order=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"typeElementId",{get:function(){return this.TypeElementId},set:function(e){this.TypeElementId=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"properties",{get:function(){return this.Properties},enumerable:!0,configurable:!0}),e.newInstance=function(e){return new this([{developerName:e,externalId:"",internalId:manywho.utils.guid(),isSelected:!0,order:0,properties:[],typeElementId:""}])},e.prototype.addProperty=function(e){this.Properties[e.developerName]=e},e.prototype.removeProperty=function(e){delete this.Properties[e]},e.prototype.clone=function(t){var n=this,o=e.newInstance(t||this.DeveloperName);return Object.keys(this.properties).forEach((function(e){var t=n.properties[e].clone();o.properties[e]=t})),o},e.prototype.iObjectData=function(){for(var e=[],t=0,n=Object.keys(this.properties);t<n.length;t++){var o=n[t];e.push(this.properties[o].iFlowObjectDataProperty())}return{developerName:this.developerName,externalId:this.externalId,internalId:this.internalId,isSelected:this.isSelected,order:this.order,properties:e,typeElementId:this.TypeElementId}},e.prototype.iFlowObjectDataArray=function(){var e=[];return e.push(this.iObjectData()),e},e}();t.FlowObjectData=r},function(e,t){e.exports=React},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(0),i=n(1);!function(e){e[e.ascending=0]="ascending",e[e.descending=1]="descending"}(o=t.eSortOrder||(t.eSortOrder={}));var a=function(){function e(e){this.Items=[];for(var t=0,n=e||[];t<n.length;t++){var o=n[t];this.Items.push(new i.FlowObjectData([o]))}}return Object.defineProperty(e.prototype,"items",{get:function(){return this.Items},enumerable:!0,configurable:!0}),e.prototype.sort=function(e,t){return e===o.ascending?t?this.Items.sort((function(e,n){var o,i;switch(e.properties[t].contentType){case r.eContentType.ContentNumber:o=parseFloat(e.properties[t].value),i=parseFloat(n.properties[t].value);break;case r.eContentType.ContentDateTime:o=new Date(e.properties[t].value),i=new Date(n.properties[t].value);break;default:o=e.properties[t].value,i=n.properties[t].value}switch(!0){case o<i:return-1;case o>i:return 1;default:return 0}})):this.Items.sort((function(e,t){return e.order-t.order})):t?this.Items.sort((function(e,n){if(!(e&&n&&e.properties&&n.properties&&e.properties[t]&&n.properties[t]&&e.properties[t].value&&n.properties[t].value))return 0;if(!e.properties[t])return 0;switch(!0){case e.properties[t].value<n.properties[t].value:return 1;case e.properties[t].value>n.properties[t].value:return-1;default:return 0}})):this.Items.sort((function(e,t){return e.order-t.order}))},e.prototype.addItem=function(e){this.Items.push(e)},e.prototype.clearItems=function(){this.Items=[]},e.prototype.clone=function(){var t=new e;return this.items.forEach((function(e){t.addItem(e.clone())})),t},e.prototype.iFlowObjectDataArray=function(){for(var e=[],t=0,n=this.Items;t<n.length;t++){var o=n[t];e.push(o.iObjectData())}return e},e.prototype.getItemWithPropertyName=function(e,t,n){for(var o=0,i=this.Items;o<i.length;o++){var a=i[o];if(a.properties[e]&&null!=a.properties[e].value){var s=a.properties[e].value,u=t;switch(a.properties[e].contentType){case r.eContentType.ContentString:s=s.toLowerCase(),u=u.toLowerCase();break;case r.eContentType.ContentNumber:s=s,u=parseFloat(u.toLowerCase());break;case r.eContentType.ContentBoolean:s=s,u="true"===new String(u).toLowerCase()}if(s===u)return a.properties[n]}}return null},e.prototype.getItemWithPropertyValue=function(e,t){for(var n=0,o=this.Items;n<o.length;n++){var i=o[n];if(i.properties[e]&&null!=i.properties[e].value){var a=i.properties[e].value,s=t;switch(i.properties[e].contentType){case r.eContentType.ContentString:a=a.toLowerCase(),s=new String(s).toLowerCase();break;case r.eContentType.ContentNumber:a=a,s=parseFloat(new String(s).toLowerCase());break;case r.eContentType.ContentBoolean:a=a,s="true"===new String(s).toLowerCase()}if(a===s)return i}}},e.prototype.getIndexOfItemWithPropertyValue=function(e,t){for(var n=0;n<this.items.length;n++){var o=this.items[n];if(o.properties[e]&&null!=o.properties[e].value){var i=o.properties[e].value,a=t;switch(o.properties[e].contentType){case r.eContentType.ContentString:i=i.toLowerCase(),a=a.toLowerCase();break;case r.eContentType.ContentNumber:i=i,a=parseFloat(new String(a).toLowerCase());break;case r.eContentType.ContentBoolean:i=i,a="true"===new String(a).toLowerCase()}if(i===a)return n}}return-1},e.prototype.removeItemWithPropertyValue=function(e,t){for(var n=0,o=0;o<this.items.length;o++){var i=this.items[o];if(i.properties[e]&&null!=i.properties[e].value){var a=i.properties[e].value,s=t;switch(i.properties[e].contentType){case r.eContentType.ContentString:a=a.toLowerCase(),s=s.toLowerCase();break;case r.eContentType.ContentNumber:a=a,s=parseFloat(new String(s).toLowerCase());break;case r.eContentType.ContentBoolean:a=a,s="true"===new String(s).toLowerCase()}a===s&&(this.items.splice(o,1),n++)}}return n},e.prototype.removeItemAtIndex=function(e){var t=0;return this.items[e]&&(this.items.splice(e,1),t=e),t},e}();t.FlowObjectDataArray=a},function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{u(o.next(e))}catch(e){i(e)}}function s(e){try{u(o.throw(e))}catch(e){i(e)}}function u(e){e.done?r(e.value):new n((function(t){t(e.value)})).then(a,s)}u((o=o.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var s=n(2);n(8);var u,l=n(5),c=n(9),p=n(0),d=n(1),h=n(3),f=n(11),y=n(12);!function(e){e[e.ready=0]="ready",e[e.loading=1]="loading",e[e.saving=2]="saving",e[e.moving=3]="moving",e[e.inititializing=4]="inititializing",e[e.inititialized=5]="inititialized",e[e.mounting=6]="mounting",e[e.mounted=7]="mounted"}(u=t.eLoadingState||(t.eLoadingState={}));var m=function(e){function t(t){var n=e.call(this,t)||this;n.Fields={},n.Attributes={},n.Outcomes={},n.sendCollaborationMessage=y(n._sendCollaborationMessage,100,null),n.Fields={},n.LoadingState=u.inititializing,n.loadValues=n.loadValues.bind(n),n.dontLoadValues=n.dontLoadValues.bind(n),n.updateValues=n.updateValues.bind(n),n.triggerOutcome=n.triggerOutcome.bind(n),n.ComponentId=n.props.id,n.ParentId=n.props.parentId,n.FlowKey=n.props.flowKey,n.Attributes={},n.loadModel=n.loadModel.bind(n),n.loadAttributes=n.loadAttributes.bind(n),n.loadOutcomes=n.loadOutcomes.bind(n),n.receiveMessage=n.receiveMessage.bind(n),n.getStateValue=n.getStateValue.bind(n),n.setStateValue=n.setStateValue.bind(n),n.getStateValueType=n.getStateValueType.bind(n),n.sendCollaborationMessage=n.sendCollaborationMessage.bind(n),n.onBeforeSend=n.onBeforeSend.bind(n),n.onDone=n.onDone.bind(n),n.calculateValue=n.calculateValue.bind(n),window.addEventListener("message",n.receiveMessage,!1),n.loadModel(),n.loadAttributes(),n.loadOutcomes();var o=manywho.settings.global("platform.uri")||window.location.origin||"https://flow.manywho.com";return n.StateId=manywho.utils.extractStateId(n.props.flowKey),n.TenantId=manywho.utils.extractTenantId(n.props.flowKey),n.url=o+"/api/run/1/state/"+n.StateId+"/values",n.userurl=o+"/api/run/1/state/"+n.StateId+"/values/03dc41dd-1c6b-4b33-bf61-cbd1d0778fff",n.valueurl=o+"/api/run/1/state/"+n.StateId+"/values/name",n.LoadingState=u.inititialized,n}return r(t,e),Object.defineProperty(t.prototype,"tenantId",{get:function(){return this.TenantId},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"stateId",{get:function(){return this.StateId},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"flowKey",{get:function(){return this.FlowKey},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"componentId",{get:function(){return this.ComponentId},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parentId",{get:function(){return this.ParentId},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isReady",{get:function(){return this.LoadingState===u.ready},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"loadingState",{get:function(){return this.LoadingState},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"outcomes",{get:function(){return this.Outcomes},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"attributes",{get:function(){return this.Attributes},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fields",{get:function(){return this.Fields},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"model",{get:function(){return this.Model},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"user",{get:function(){return this.User},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"joinURI",{get:function(){return window.location.href},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isDesignTime",{get:function(){return this.IsDesignTime},enumerable:!0,configurable:!0}),t.prototype.getAttribute=function(e,t){return this.attributes[e]?this.attributes[e].value:t||""},t.prototype.onBeforeSend=function(e,t){if(t){var n=this.getOutcomeById(t.mapElementInvokeRequest.selectedOutcomeId),o=manywho.eventManager.outcomeBeingTriggered;n&&(o&&o.id===n.id||(manywho.eventManager.outcomeBeingTriggered=n))}else manywho.eventManager.outcomeBeingTriggered=void 0},t.prototype.calculateValue=function(e){return i(this,void 0,void 0,(function(){var t,n,o,r,i,s;return a(this,(function(a){switch(a.label){case 0:if(!e.startsWith("{{")||!e.endsWith("}}"))return[3,7];t=(t=e.replace("{{","")).replace("}}",""),n=void 0,o="",r=t.split("."),i=0,a.label=1;case 1:return i<r.length?0!==i?[3,4]:this.fields[r[i]]?[3,3]:[4,this.loadValue(r[i])]:[3,6];case 2:a.sent(),a.label=3;case 3:return(n=this.fields[r[i]])?n.ContentType!==p.eContentType.ContentObject&&n.ContentType!==p.eContentType.ContentList&&(o=n.value):(console.log("The Value ["+r[i]+"] was not found, have you included it in your flow"),o=e),[3,5];case 4:n&&(s=n.value.properties[r[i]])?s.contentType===p.eContentType.ContentObject||s.contentType===p.eContentType.ContentList?n=n.value.properties[r[i]].value:o=n.value.properties[r[i]].value:o=e,a.label=5;case 5:return i++,[3,1];case 6:return[2,o];case 7:return[2,e]}}))}))},t.prototype.onDone=function(e,t){var n=this;if(manywho.eventManager.outcomeBeingTriggered&&manywho.eventManager.outcomeBeingTriggered.attributes){var o=manywho.eventManager.outcomeBeingTriggered;Object.keys(manywho.eventManager.outcomeBeingTriggered.attributes).forEach((function(e){return i(n,void 0,void 0,(function(){var t,n,r;return a(this,(function(i){switch(i.label){case 0:switch(t=manywho.eventManager.outcomeBeingTriggered.attributes[e],t.name.toLowerCase()){case"autoclose":return[3,1];case"autoopen":return[3,2];case"autonav":case"automove":return[3,6];case"autoprint":return[3,10]}return[3,11];case 1:return"true"===t.value.toLowerCase()&&window.close(),[3,11];case 2:return(n=o.attributes.AutoOpenUrl||void 0)&&n.value.length>0?[4,this.calculateValue(n.value)]:[3,4];case 3:return r=i.sent(),window.open(r,"_blank"),[3,5];case 4:alert("No 'AutoOpenUrl' specified in the outcome's attributes"),i.label=5;case 5:return[3,11];case 6:return(n=o.attributes.AutoNavUrl||void 0)&&n.value.length>0?[4,this.calculateValue(n.value)]:[3,8];case 7:return r=i.sent(),window.open(r,"_blank"),[3,9];case 8:alert("No 'AutoNavUrl' specified in the outcome's attributes"),i.label=9;case 9:return[3,11];case 10:return window.print(),[3,11];case 11:return[2]}}))}))}))}this.LoadingState=u.ready,manywho.eventManager.outcomeBeingTriggered=void 0},t.prototype.componentDidMount=function(){return i(this,void 0,void 0,(function(){var e,t,n,o;return a(this,(function(r){switch(r.label){case 0:switch(this.LoadingState=u.mounting,manywho.eventManager.addDoneListener(this.onDone,this.componentId+"_core"),manywho.eventManager.addBeforeSendListener(this.onBeforeSend,this.componentId+"_core"),e=manywho.model.getComponent(this.ComponentId,this.FlowKey),t=manywho.state.getComponent(this.componentId,this.flowKey)||{},e.contentType){case"ContentObject":return[3,1];case"ContentList":return[3,4]}return[3,7];case 1:return n=void 0,t.objectData&&t.objectData.length>0?(n=t.objectData,n=JSON.parse(JSON.stringify(n)),[4,this.setStateValue(new d.FlowObjectData(n),!0)]):[3,3];case 2:r.sent(),r.label=3;case 3:return[3,9];case 4:return o=void 0,t.objectData&&t.objectData.length>0?(o=t.objectData,o=JSON.parse(JSON.stringify(o)),[4,this.setStateValue(new h.FlowObjectDataArray(o),!0)]):[3,6];case 5:r.sent(),r.label=6;case 6:return[3,9];case 7:return[4,this.setStateValue(e.contentValue,!0)];case 8:return r.sent(),[3,9];case 9:return this.LoadingState=u.mounted,manywho.utils.removeLoadingIndicator("loader"),[2,Promise.resolve()]}}))}))},t.prototype.componentWillUnmount=function(){return i(this,void 0,void 0,(function(){return a(this,(function(e){return manywho.eventManager.removeBeforeSendListener(this.componentId+"_core"),manywho.eventManager.removeDoneListener(this.componentId+"_core"),[2,Promise.resolve()]}))}))},t.prototype.loadOutcome=function(e){if(e){var t=manywho.model.getOutcome(e,this.props.flowKey);if(t)return this.Outcomes[t.developerName]=new f.FlowOutcome(t),this.Outcomes[t.developerName]}},t.prototype.loadOutcomes=function(){this.Outcomes={};for(var e=manywho.model.getOutcomes(this.props.id,this.props.flowKey),t=0,n=e;t<n.length;t++){var o=n[t];this.Outcomes[o.developerName]=new f.FlowOutcome(o)}for(var r=0,i=e=manywho.model.getOutcomes("",this.props.flowKey);r<i.length;r++){o=i[r];this.Outcomes[o.developerName]=new f.FlowOutcome(o)}},t.prototype.getOutcomeById=function(e){var t,n=this;return Object.keys(this.outcomes).forEach((function(o){n.outcomes[o].id===e&&(t=n.outcomes[o])})),t||(t=this.loadOutcome(e)),t},t.prototype.loadAttributes=function(){var e=manywho.model.getComponent(this.ComponentId,this.FlowKey).attributes;if(e)for(var t=0,n=Object.keys(e);t<n.length;t++){var o=n[t];this.Attributes[o]=new l.FlowAttribute(o,e[o])}},t.prototype.loadModel=function(){var e=manywho.model.getComponent(this.ComponentId,this.FlowKey);if(e){this.Model={contentType:e.contentType,dataSource:new h.FlowObjectDataArray([]),developerName:e.developerName,displayColumns:[],enabled:e.isEnabled,height:e.height,helpInfo:e.helpInfo,hintInfo:e.hintValue,joinUri:this.joinURI,label:e.label,maxSize:e.maxSize,multiSelect:e.isMultiSelect,readOnly:!e.isEditable,required:e.isRequired,size:e.size,validationMessage:e.validationMessage,visible:e.isVisible,width:e.width};var t=e.objectData;if(t)for(var n=0,o=t;n<o.length;n++){var r=o[n];this.Model.dataSource.addItem(new d.FlowObjectData([r]))}var i=e.columns;if(i)for(var a=0,s=i;a<s.length;a++){var u=s[a];this.Model.displayColumns.push(new c.FlowDisplayColumn(u))}}},t.prototype.loadValue=function(e){return i(this,void 0,void 0,(function(){var t;return a(this,(function(n){return this.LoadingState=u.loading,(t=manywho.connection.request(this,"",this.valueurl+"/"+e,"GET",this.TenantId,this.StateId,manywho.state.getAuthenticationToken(this.FlowKey),{}))&&(this.Fields[t.developerName]=new p.FlowField(t)),this.LoadingState=u.ready,[2,Promise.resolve()]}))}))},t.prototype.getResultBodyText=function(e){return i(this,void 0,void 0,(function(){return a(this,(function(t){return[2,e.text().then((function(e){return e.startsWith('"')&&(e=e.substr(1)),e.endsWith('"')&&(e=e.substr(0,e.length-1)),e}))]}))}))},t.prototype.callRequest=function(e,t,n,o){return i(this,void 0,void 0,(function(){var r,s,u=this;return a(this,(function(l){switch(l.label){case 0:return r=[],(s={}).method=t,s.headers={"Content-Type":"application/json",Authorization:o,ManyWhoTenant:this.tenantId},s.credentials="same-origin","POST"!==t&&"PUT"!==t||(s.body=n),[4,fetch(e,s).then((function(e){return i(u,void 0,void 0,(function(){var t,n;return a(this,(function(o){switch(o.label){case 0:return 200!==e.status?[3,2]:[4,this.getResultBodyText(e)];case 1:return t=o.sent(),JSON.parse(t).forEach((function(e){r.push(e)})),console.log("Loaded Values"),[2,r];case 2:return[4,this.getResultBodyText(e)];case 3:return n=o.sent(),console.log("Can't load values - "+n),[2,r]}}))}))}))];case 1:return l.sent(),[2]}}))}))},t.prototype.callRequestOld=function(e,t,n){return i(this,void 0,void 0,(function(){return a(this,(function(n){switch(n.label){case 0:return[4,manywho.connection.request(this,null,e,t,this.TenantId,this.StateId,manywho.state.getAuthenticationToken(this.FlowKey),null)];case 1:return[2,n.sent()]}}))}))},t.prototype.loadValues=function(){return i(this,void 0,void 0,(function(){var e,t,n,o=this;return a(this,(function(r){switch(r.label){case 0:return this.LoadingState=u.loading,this.Fields={},[4,this.callRequestOld(this.url,"GET",{})];case 1:return(r.sent()||[]).map((function(e){e&&(o.Fields[e.developerName]=new p.FlowField(e))})),[4,this.callRequestOld(this.userurl,"GET",{})];case 2:return(e=r.sent())&&(t=new p.FlowField(e),n=t.value.properties,this.User={directoryId:n["Directory Id"].value,directoryName:n["Directory Name"].value,email:n.Email.value||"mark",firstName:n["First Name"].value,groupId:n["Primary Group Id"].value,groupName:n["Primary Group Name"].value,id:n["User ID"].value,ipAddress:n["IP Address"].value,language:n.Language.value,lastName:n["Last Name"].value,location:n.Location.value,roleId:n["Role Id"].value,roleName:n["Role Name"].value,status:n.Status.value,userName:n.Username.value}),this.LoadingState=u.ready,[2,Promise.resolve()]}}))}))},t.prototype.dontLoadValues=function(){return i(this,void 0,void 0,(function(){return a(this,(function(e){return this.LoadingState=u.ready,[2,Promise.resolve()]}))}))},t.prototype.getStateValue=function(){var e=manywho.state.getComponent(this.componentId,this.flowKey)||{},t=manywho.model.getComponent(this.ComponentId,this.FlowKey);switch(t.contentType){case"ContentObject":return new d.FlowObjectData(e.objectData&&e.objectData[0]?e.objectData[0]:t.objectData[0]);case"ContentList":return new h.FlowObjectDataArray(e.objectData?e.objectData:t.objectData);default:return e.contentValue?e.contentValue:""}},t.prototype.getStateValueType=function(){var e=manywho.state.getComponent(this.componentId,this.flowKey)||{},t=manywho.model.getComponent(this.ComponentId,this.FlowKey);switch(t.contentType){case"ContentObject":return new d.FlowObjectData(e.objectData&&e.objectData[0]?e.objectData[0]:t.objectData[0]);case"ContentList":return new h.FlowObjectDataArray(e.objectData?e.objectData:t.objectData);default:return e.contentValue?e.contentValue:""}},t.prototype.setStateValue=function(e,t){return i(this,void 0,void 0,(function(){var t,n,o,r,i;return a(this,(function(a){if(this.LoadingState===u.mounting||this.LoadingState===u.ready){switch(t=this.loadingState,this.LoadingState=u.saving,n=manywho.model.getComponent(this.ComponentId,this.FlowKey),manywho.state.getComponent(this.componentId,this.flowKey)||{},o=void 0,n.contentType){case"ContentObject":r=null,e&&(r=e.iFlowObjectDataArray(),r=JSON.parse(JSON.stringify(r))),o={objectData:r},manywho.state.setComponent(this.componentId,o,this.flowKey,!0);break;case"ContentList":i=null,e&&(i=e.iFlowObjectDataArray(),i=JSON.parse(JSON.stringify(i))),o={objectData:i},manywho.state.setComponent(this.componentId,o,this.flowKey,!0);break;case"ContentDate":o={contentValue:e.toISOString()},manywho.state.setComponent(this.componentId,o,this.flowKey,!0);break;default:o={contentValue:e},manywho.state.setComponent(this.componentId,o,this.flowKey,!0)}this.LoadingState=t,manywho.collaboration.isInitialized(this.flowKey)}return[2,Promise.resolve()]}))}))},t.prototype.eventHandled=function(e,t){console.log("ping")},t.prototype.updateValues=function(e){return i(this,void 0,void 0,(function(){var t,n,o,r,i=this;return a(this,(function(a){switch(a.label){case 0:if(this.LoadingState=u.saving,t=[],e.constructor.name===p.FlowField.name)t.push(e.iFlowField());else for(n=0,o=e;n<o.length;n++)r=o[n],t.push(r.iFlowField());return[4,manywho.connection.request(this,null,this.url,"POST",this.TenantId,this.StateId,manywho.state.getAuthenticationToken(this.FlowKey),t)];case 1:return a.sent(),manywho.collaboration.isInitialized(this.flowKey)&&t.forEach((function(e){manywho.collaboration.push(i.ComponentId,{message:{action:"REFRESH_FIELD",fieldName:e.developerName}},i.flowKey)})),this.LoadingState=u.ready,[2,Promise.resolve()]}}))}))},t.prototype._sendCollaborationMessage=function(e){manywho.collaboration.isInitialized(this.flowKey)&&manywho.collaboration.push(this.ComponentId,{message:e},this.flowKey)},t.prototype.triggerOutcome=function(e,t){return i(this,void 0,void 0,(function(){var n;return a(this,(function(o){switch(o.label){case 0:return this.LoadingState=u.moving,t||(t=[]),this.outcomes[e]&&(n=this.outcomes[e].iFlowOutcome()),n?[4,manywho.component.onOutcome(n,t,this.FlowKey)]:[3,2];case 1:return o.sent(),[3,3];case 2:this.log("Could not find outcome "+e),o.label=3;case 3:return[2,Promise.resolve()]}}))}))},t.prototype.moveTo=function(e,t){return i(this,void 0,void 0,(function(){return a(this,(function(e){return this.LoadingState=u.moving,t||(t=[]),[2,Promise.resolve()]}))}))},t.prototype.log=function(e){var t=new Date,n="["+[("0"+t.getHours()).slice(-2),("0"+t.getMinutes()).slice(-2),("0"+t.getSeconds()).slice(-2)].join(":")+"] ";console.log(n+e)},t.prototype.launchFlowSilent=function(e,t,n,o){return i(this,void 0,void 0,(function(){var e,n,r;return a(this,(function(i){return e=manywho.settings.global("platform.uri")||"https://flow.manywho.com",n=e+"/api/run/1/state",(r={}).id=t,r.developerName=null,r.inputs=o?o.iFlowObjectDataArray():null,manywho.connection.request(this,"",n,"POST",this.TenantId,"",manywho.state.getAuthenticationToken(this.FlowKey),r),[2,Promise.resolve()]}))}))},t.prototype.launchFlowTab=function(e,t,n,o){return i(this,void 0,void 0,(function(){var o,r;return a(this,(function(i){return o=manywho.settings.global("platform.uri")||"https://flow.boomi.com",r=o+"/"+e+"/play/"+n+"?flow-id="+t,window.open(r,"_new"),[2,Promise.resolve()]}))}))},t.prototype.componentDidUpdate=function(){return i(this,void 0,void 0,(function(){var e,t;return a(this,(function(n){switch(n.label){case 0:if(e=manywho.state.getComponent(this.componentId,this.flowKey),t=e.message,this.loadModel(),t&&manywho.state.setComponent(this.componentId,{message:{}},this.flowKey,!1),!t||!t.action)return[3,6];switch(t.action.toUpperCase()){case"REFRESH_FIELDS":return[3,1];case"REFRESH_FIELD":return[3,3]}return[3,5];case 1:return[4,this.loadValues()];case 2:return n.sent(),[3,6];case 3:return[4,this.loadValue(t.fieldName)];case 4:return n.sent(),[3,6];case 5:return[3,6];case 6:return[2,t]}}))}))},t.prototype.receiveMessage=function(e){return i(this,void 0,void 0,(function(){var t;return a(this,(function(n){switch(n.label){case 0:if(!e.data)return[3,9];if(!(t=e.data).action)return[3,9];switch(t.action.toUpperCase()){case"OUTCOME":return[3,1];case"REFRESH_FIELDS":return[3,3];case"REFRESH_FIELD":return[3,5]}return[3,7];case 1:return[4,this.triggerOutcome(t.data)];case 2:return n.sent(),[3,9];case 3:return[4,this.loadValues()];case 4:return n.sent(),[3,9];case 5:return[4,this.loadValue(t.fieldName)];case 6:return n.sent(),[3,9];case 7:return[4,this.handleMessage(t)];case 8:return n.sent(),[3,9];case 9:return[2,Promise.resolve()]}}))}))},t.prototype.handleMessage=function(e){return i(this,void 0,void 0,(function(){return a(this,(function(e){return[2,Promise.resolve()]}))}))},t}(s.Component);t.FlowBaseComponent=m},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){this.Name=e,this.Value=t}return Object.defineProperty(e.prototype,"name",{get:function(){return this.Name},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this.Value},enumerable:!0,configurable:!0}),e}();t.FlowAttribute=o},function(e,t,n){"use strict";function o(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),o(n(7)),o(n(14)),o(n(15)),o(n(17))},function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{u(o.next(e))}catch(e){i(e)}}function s(e){try{u(o.throw(e))}catch(e){i(e)}}function u(e){e.done?r(e.value):new n((function(t){t(e.value)})).then(a,s)}u((o=o.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var s=function(e){function t(t){return e.call(this,t)||this}return r(t,e),t.prototype.componentDidMount=function(){return i(this,void 0,void 0,(function(){return a(this,(function(t){switch(t.label){case 0:return[4,e.prototype.componentDidMount.call(this)];case 1:return t.sent(),[4,this.dontLoadValues()];case 2:return t.sent(),[2]}}))}))},t.prototype.componentDidUpdate=function(){return i(this,void 0,void 0,(function(){return a(this,(function(t){switch(t.label){case 0:return[4,e.prototype.componentDidUpdate.call(this)];case 1:return t.sent(),[2]}}))}))},t}(n(4).FlowBaseComponent);t.FlowComponent=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),manywho.eventManager||(manywho.eventManager={},manywho.eventManager.beforeSendListeners={},manywho.eventManager.doneListeners={},manywho.eventManager.failListeners={},manywho.eventManager.outcomeBeingTriggered,manywho.eventManager.beforeSend=function(e,t){for(var n in manywho.eventManager.beforeSendListeners)manywho.eventManager.beforeSendListeners[n](e,t)},manywho.eventManager.done=function(e,t){for(var n in manywho.eventManager.doneListeners)manywho.eventManager.doneListeners[n](e,t)},manywho.eventManager.fail=function(e,t){for(var n in manywho.eventManager.failListeners)manywho.eventManager.failListeners[n](e,t)},manywho.eventManager.addBeforeSendListener=function(e,t){manywho.eventManager.beforeSendListeners[t]=e},manywho.eventManager.removeBeforeSendListener=function(e){delete manywho.eventManager.beforeSendListeners[e]},manywho.eventManager.addDoneListener=function(e,t){manywho.eventManager.doneListeners[t]=e},manywho.eventManager.removeDoneListener=function(e){delete manywho.eventManager.doneListeners[e]},manywho.eventManager.addFailListener=function(e,t){manywho.eventManager.failListeners[t]=e},manywho.eventManager.removeFailListener=function(e){delete manywho.eventManager.failListeners[e]},manywho.settings.initialize(null,{invoke:{beforeSend:manywho.eventManager.beforeSend,done:manywho.eventManager.done,fail:manywho.eventManager.fail}}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),r=function(){function e(e){this.Column=e,this.ComponentType=e.componentType,this.ContentFormat=e.contentFormat,this.ContentType=o.eContentType[e.contentType],this.DeveloperName=e.developerName,this.DisplayOrder=e.order,this.Label=e.label,this.ReadOnly=!e.isEditable,this.TypeElememtPropertyToDisplayId=e.typeElememtPropertyToDisplayId,this.TypeElementPropertyId=e.typeElementPropertyId,this.Visible=e.isDisplayValue}return Object.defineProperty(e.prototype,"componentType",{get:function(){return this.ComponentType},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"contentFormat",{get:function(){return this.ContentFormat},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"contentType",{get:function(){return this.ContentType},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"developerName",{get:function(){return this.DeveloperName},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"visible",{get:function(){return this.Visible},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"readOnly",{get:function(){return this.ReadOnly},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"label",{get:function(){return this.Label},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"displayOrder",{get:function(){return this.DisplayOrder},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"typeElementPropertyId",{get:function(){return this.TypeElementPropertyId},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"typeElememtPropertyToDisplayId",{get:function(){return this.TypeElememtPropertyToDisplayId},enumerable:!0,configurable:!0}),e.prototype.iFlowDisplayColumn=function(){return this.Column},e}();t.FlowDisplayColumn=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),r=n(1),i=n(3),a=function(){function e(e){if(this.ContentFormat="",this.ContentType=o.eContentType.unknown,this.DeveloperName="",this.TypeElementId="",this.TypeElementPropertyId="",e)switch(this.DeveloperName=e.developerName,this.ContentType=o.eContentType[e.contentType],this.ContentFormat=e.contentFormat?e.contentFormat:"",this.TypeElementId=e.typeElementId?e.typeElementId:"",this.TypeElementPropertyId=e.typeElementPropertyId,this.ContentType){case o.eContentType.ContentObject:this.Value=e.objectData?new r.FlowObjectData(e.objectData):void 0;break;case o.eContentType.ContentList:this.value=e.objectData?new i.FlowObjectDataArray(e.objectData):new i.FlowObjectDataArray([]);break;default:this.value=e.contentValue?e.contentValue:""}}return e.newInstance=function(e,t,n){var r="",i=[];switch(t){case o.eContentType.ContentObject:var a=n;i.push(a.iObjectData());break;case o.eContentType.ContentList:i=n.iFlowObjectDataArray();break;default:r=n}return new this({contentFormat:"",contentType:o.eContentType[t],contentValue:r,developerName:e,objectData:i,typeElementId:"",typeElementPropertyId:""})},Object.defineProperty(e.prototype,"contentFormat",{get:function(){return this.ContentFormat},set:function(e){this.contentFormat=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"contentType",{get:function(){return this.ContentType},set:function(e){this.ContentType=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"developerName",{get:function(){return this.DeveloperName},set:function(e){this.DeveloperName=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"typeElementId",{get:function(){return this.TypeElementId},set:function(e){this.TypeElementId=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"typeElementPropertyId",{get:function(){return this.TypeElementPropertyId},set:function(e){this.TypeElementPropertyId=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){switch(this.contentType){case o.eContentType.ContentNumber:return parseFloat(this.Value?this.Value:"0");case o.eContentType.ContentBoolean:return"true"===new String(this.Value).toLowerCase();default:return this.Value}},set:function(e){this.Value=e},enumerable:!0,configurable:!0}),e.prototype.clone=function(){var t;switch(this.contentType){case o.eContentType.ContentList:t=new i.FlowObjectDataArray,this.value.items.forEach((function(e){t.addItem(e.clone(e.developerName))}));break;case o.eContentType.ContentObject:t=this.value.clone(this.value.developerName);break;default:t=this.value}return e.newInstance(this.developerName,this.contentType,t)},e.prototype.iFlowObjectDataProperty=function(){var e="",t=[];switch(this.ContentType){case o.eContentType.ContentObject:var n=this.Value;n&&n.developerName&&n.developerName.length>0&&t.push(n.iObjectData());break;case o.eContentType.ContentList:t=this.Value.iFlowObjectDataArray();break;default:e=this.Value}return{contentFormat:this.ContentFormat,contentType:o.eContentType[this.ContentType],contentValue:e,developerName:this.DeveloperName,objectData:t,typeElementId:this.TypeElementId,typeElementPropertyId:this.TypeElementPropertyId}},Object.defineProperty(e.prototype,"displayString",{get:function(){var e="";if(this.Value)switch(this.ContentType){case o.eContentType.ContentString:case o.eContentType.ContentNumber:e=this.Value;break;case o.eContentType.ContentBoolean:e=!0===this.Value?"True":"False";break;case o.eContentType.ContentDateTime:var t=Date.parse(this.Value);if(!isNaN(t)){var n=new Date(t);return e.length<=10?n.toLocaleDateString():n.toLocaleString()}break;default:e=o.eContentType[this.ContentType]}else e="Undefined";return e},enumerable:!0,configurable:!0}),e}();t.FlowObjectDataProperty=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(5);!function(e){e.Save="SAVE",e.PartialSave="PARTIAL_SAVE",e.NoSave="NO_SAVE"}(t.ePageActionBindingType||(t.ePageActionBindingType={})),function(e){e.New="NEW",e.Query="QUERY",e.Insert="INSERT",e.Update="UPDATE",e.Upsert="UPSERT",e.Delete="DELETE",e.Remove="REMOVE",e.Add="ADD",e.Edit="EDIT",e.Next="NEXT",e.Back="BACK",e.Done="DONE",e.Save="SAVE",e.Cancel="CANCEL",e.Apply="APPLY",e.Import="IMPORT",e.Close="CLOSE",e.Open="OPEN",e.Submit="SUBMIT",e.Escalate="ESCALATE",e.Reject="REJECT",e.Delegate="DELEGATE"}(t.ePageActionType||(t.ePageActionType={}));var r=function(){function e(e){if(this.DeveloperName=e.developerName,this.Id=e.id,this.IsBulkAction=e.isBulkAction,this.IsOut=e.isOut,this.Label=e.label,this.Order=e.order,this.PageActionBindingType=e.pageActionBindingType,this.PageActionType=e.pageActionType,this.PageObjectBindingId=e.pageObjectBindingId,this.Attributes={},e.attributes)for(var t=0,n=Object.keys(e.attributes);t<n.length;t++){var r=n[t];this.Attributes[r]=new o.FlowAttribute(r,e.attributes[r])}this.Outcome=e}return Object.defineProperty(e.prototype,"developerName",{get:function(){return this.DeveloperName},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this.Id},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isBulkAction",{get:function(){return this.IsBulkAction},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isOut",{get:function(){return this.IsOut},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"label",{get:function(){return this.Label},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"order",{get:function(){return this.Order},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pageActionBindingType",{get:function(){return this.PageActionBindingType},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pageActionType",{get:function(){return this.PageActionType},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pageObjectBindingId",{get:function(){return this.PageObjectBindingId},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"attributes",{get:function(){return this.Attributes},enumerable:!0,configurable:!0}),e.prototype.iFlowOutcome=function(){return this.Outcome},e}();t.FlowOutcome=r},function(e,t,n){(function(t){var n="Expected a function",o=NaN,r="[object Symbol]",i=/^\s+|\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,u=/^0o[0-7]+$/i,l=parseInt,c="object"==typeof t&&t&&t.Object===Object&&t,p="object"==typeof self&&self&&self.Object===Object&&self,d=c||p||Function("return this")(),h=Object.prototype.toString,f=Math.max,y=Math.min,m=function(){return d.Date.now()};function b(e,t,o){var r,i,a,s,u,l,c=0,p=!1,d=!1,h=!0;if("function"!=typeof e)throw new TypeError(n);function b(t){var n=r,o=i;return r=i=void 0,c=t,s=e.apply(o,n)}function w(e){var n=e-l;return void 0===l||n>=t||n<0||d&&e-c>=a}function O(){var e=m();if(w(e))return C(e);u=setTimeout(O,function(e){var n=t-(e-l);return d?y(n,a-(e-c)):n}(e))}function C(e){return u=void 0,h&&r?b(e):(r=i=void 0,s)}function T(){var e=m(),n=w(e);if(r=arguments,i=this,l=e,n){if(void 0===u)return function(e){return c=e,u=setTimeout(O,t),p?b(e):s}(l);if(d)return u=setTimeout(O,t),b(l)}return void 0===u&&(u=setTimeout(O,t)),s}return t=v(t)||0,g(o)&&(p=!!o.leading,a=(d="maxWait"in o)?f(v(o.maxWait)||0,t):a,h="trailing"in o?!!o.trailing:h),T.cancel=function(){void 0!==u&&clearTimeout(u),c=0,r=l=i=u=void 0},T.flush=function(){return void 0===u?s:C(m())},T}function g(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function v(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&h.call(e)==r}(e))return o;if(g(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=g(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(i,"");var n=s.test(e);return n||u.test(e)?l(e.slice(2),n?2:8):a.test(e)?o:+e}e.exports=function(e,t,o){var r=!0,i=!0;if("function"!=typeof e)throw new TypeError(n);return g(o)&&(r="leading"in o?!!o.leading:r,i="trailing"in o?!!o.trailing:i),b(e,t,{leading:r,maxWait:t,trailing:i})}}).call(this,n(13))},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{u(o.next(e))}catch(e){i(e)}}function s(e){try{u(o.throw(e))}catch(e){i(e)}}function u(e){e.done?r(e.value):new n((function(t){t(e.value)})).then(a,s)}u((o=o.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var s=function(e){function t(t){var n=e.call(this,t)||this;return n.reloadValues=n.reloadValues.bind(n),n}return r(t,e),t.prototype.componentDidMount=function(){return i(this,void 0,void 0,(function(){return a(this,(function(t){switch(t.label){case 0:return[4,e.prototype.componentDidMount.call(this)];case 1:return t.sent(),manywho.eventManager.addDoneListener(this.reloadValues,this.componentId+"_PG"),[4,this.loadValues()];case 2:return t.sent(),[2,Promise.resolve()]}}))}))},t.prototype.componentDidUpdate=function(){return i(this,void 0,void 0,(function(){return a(this,(function(t){switch(t.label){case 0:return[4,e.prototype.componentDidUpdate.call(this)];case 1:return t.sent(),[2]}}))}))},t.prototype.componentWillUnmount=function(){return i(this,void 0,void 0,(function(){return a(this,(function(t){switch(t.label){case 0:return[4,e.prototype.componentWillUnmount.call(this)];case 1:return t.sent(),manywho.eventManager.removeDoneListener(this.componentId+"_PG"),[2,Promise.resolve()]}}))}))},t.prototype.triggerOutcome=function(t,n){return i(this,void 0,void 0,(function(){return a(this,(function(o){switch(o.label){case 0:return[4,e.prototype.triggerOutcome.call(this,t,n)];case 1:return o.sent(),[2,Promise.resolve()]}}))}))},t.prototype.reloadValues=function(e,t){return i(this,void 0,void 0,(function(){return a(this,(function(e){switch(e.label){case 0:return[4,this.loadModel()];case 1:return e.sent(),[4,this.loadValues()];case 2:return e.sent(),[4,this.forceUpdate()];case 3:return e.sent(),[2,Promise.resolve()]}}))}))},t}(n(4).FlowBaseComponent);t.FlowPage=s},function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(2);n(16);var a,s=function(e,t){this.label=e,this.handler=t};t.modalDialogButton=s,function(e){e[e.unknown=0]="unknown",e[e.canvas=1]="canvas",e[e.table=2]="table",e[e.link=3]="link",e[e.dialog=4]="dialog"}(a=t.eDragEventType||(t.eDragEventType={}));var u=function(){function e(){this.type=a.unknown,this.sourceElement=null,this.targetElement=null,this.mouseX=0,this.mouseY=0,this.mouseOffsetX=0,this.mouseOffsetY=0}return e.start=function(t,n,o,r){var i=new e;return i.type=t,i.sourceElement=n,i.targetElement=null,i.mouseX=o,i.mouseY=r,i.mouseOffsetX=o,i.mouseOffsetY=r,i},e.prototype.drag=function(e,t){this.mouseX=e,this.mouseY=t},e.prototype.end=function(e,t,n){this.targetElement=e,this.mouseX=t,this.mouseY=n,this.type=a.unknown},e}();t.DragEvent=u;var l=function(e){function t(t){var n=e.call(this,t)||this;return n.dragEvent=new u,n.top=0,n.left=0,n.handleKeyUp=n.handleKeyUp.bind(n),n.handleOutsideClick=n.handleOutsideClick.bind(n),n.onCloseRequest=n.onCloseRequest.bind(n),n}return r(t,e),t.prototype.stopEventBubble=function(e){return e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),e.cancelBubble=!0,e.returnValue=!1,!1},t.prototype.componentDidMount=function(){if(this.dialog){var e=this.dialog.offsetParent.clientWidth/2,t=this.dialog.offsetParent.clientHeight/2,n=this.dialog.clientWidth/2,o=this.dialog.clientHeight/2;this.left=e-n,this.top=t-o,this.forceUpdate(),this.dialog.classList.add("shown"),this.forceUpdate()}},t.prototype.componentWillUnmount=function(){},t.prototype.onCloseRequest=function(){this.props.onCloseRequest&&this.props.onCloseRequest()},t.prototype.handleKeyUp=function(e){var t=this,n={27:function(){e.preventDefault(),t.onCloseRequest()}};n[e.keyCode]&&n[e.keyCode]()},t.prototype.handleOutsideClick=function(e){this.dialog||this.dialog.contains(e.target)||this.onCloseRequest()},t.prototype.render=function(){var e=this,t={};t.left=this.left,t.top=this.top;for(var n=[],o=function(e){n.push(i.createElement("button",{className:"modal-dialog-button-bar-button",title:"Cancel",onMouseDown:function(t){t.stopPropagation(),e.handler()}},e.label))},r=0,a=this.props.buttons;r<a.length;r++){o(a[r])}return i.createElement("div",{className:"modal-redaction",onMouseMove:function(t){e.onMouseMove(t)},onMouseUp:function(t){e.onMouseUp(t)},onMouseDown:function(t){e.handleOutsideClick(t)}},i.createElement("div",{style:t,className:"modal-content",ref:function(t){return e.dialog=t}},i.createElement("div",{className:"modal-dialog"},i.createElement("div",{className:"modal-dialog-header",onMouseDown:function(t){e.onMouseDown(t)}},i.createElement("div",{style:{display:"flex",flexDirection:"row",flexGrow:1}},i.createElement("span",{className:"modal-dialog-header-title"},this.props.title)),i.createElement("div",{style:{display:"flex",flexDirection:"row",marginLeft:"auto",flexGrow:0}},i.createElement("span",{className:"glyphicon glyphicon-remove modal-dialog-header-button",style:{cursor:"pointer",color:"#fefefe",marginRight:"5px",fontSize:"14pt"},title:"Close",onMouseDown:function(t){t.stopPropagation(),e.props.onClose("cancel")}}))),i.createElement("div",{className:"modal-dialog-body"},i.createElement("div",{className:"modal-dialog-body-client"},this.props.children)),i.createElement("div",{className:"modal-dialog-button-bar"},n))))},t.prototype.moveMe=function(e,t){this.left=e,this.top=t,this.forceUpdate()},t.prototype.onMouseDown=function(e){var t=e.target.getBoundingClientRect(),n=e.clientY-t.top;console.log("grab dialog"),this.dragEvent=u.start(a.dialog,this,e.clientX-t.left,n)},t.prototype.onMouseMove=function(e){this.dragEvent.type===a.dialog&&(console.log("move dialog"),this.moveMe(e.clientX-this.dragEvent.mouseOffsetX,e.clientY-this.dragEvent.mouseOffsetY))},t.prototype.onMouseUp=function(e){this.dragEvent.type===a.dialog&&(console.log("drop dialog"),this.dragEvent.end(null,e.clientX,e.clientY))},t}(i.Component);t.default=l},function(e,t,n){},function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(2);n(18);var a=function(e){function t(t){var n=e.call(this,t)||this;return n.icons={},n.selectedItem=n.props.onChangeValue,n.icons.asterisk={name:"asterisk",title:"Asterisk",code:"&#x2a;"},n.icons.plus={name:"plus",title:"Plus",code:"&#x2b;"},n.icons.euro={name:"euro",title:"Euro",code:"&#x20ac;"},n.icons.minus={name:"minus",title:"Minus",code:"&#x2212;"},n.icons.cloud={name:"cloud",title:"Cloud",code:"&#x2601;"},n.onchange=n.onchange.bind(n),n}return r(t,e),t.prototype.onchange=function(e){this.selectedItem=e.target.innerText,this.props.onChange&&this.props.onChange(this.selectedItem),this.forceUpdate()},t.prototype.render=function(){for(var e=this,t=[],n=0,o=Object.keys(this.icons);n<o.length;n++){var r=o[n],a="glyphicon glyphicon-"+this.icons[r].name+" icon-picker-icon";t.push(i.createElement("li",{onClick:function(t){e.onchange(t)}},i.createElement("span",{className:a}),this.icons[r].name))}return i.createElement("div",{className:"btn-group"},i.createElement("button",{type:"button",className:"btn btn-default dropdown-toggle","data-toggle":"dropdown"},i.createElement("span",{className:"glyphicon glyphicon-"+this.selectedItem}),i.createElement("span",{className:"caret"})),i.createElement("ul",{className:"dropdown-menu",role:"menu"},t))},t}(i.Component);t.default=a},function(e,t,n){}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL0Zsb3dGaWVsZC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvRmxvd09iamVjdERhdGEudHMiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwiUmVhY3RcIiIsIndlYnBhY2s6Ly8vLi9zcmMvRmxvd09iamVjdERhdGFBcnJheS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvRmxvd0Jhc2VDb21wb25lbnQudHN4Iiwid2VicGFjazovLy8uL3NyYy9GbG93QXR0cmlidXRlLnRzIiwid2VicGFjazovLy8uL3NyYy9pbmRleC50c3giLCJ3ZWJwYWNrOi8vLy4vc3JjL0Zsb3dDb21wb25lbnQudHN4Iiwid2VicGFjazovLy8uL3NyYy9FdmVudE1hbmFnZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0Zsb3dEaXNwbGF5Q29sdW1uLnRzIiwid2VicGFjazovLy8uL3NyYy9GbG93T2JqZWN0RGF0YVByb3BlcnR5LnRzIiwid2VicGFjazovLy8uL3NyYy9GbG93T3V0Y29tZS50cyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoLnRocm90dGxlL2luZGV4LmpzIiwid2VicGFjazovLy8od2VicGFjaykvYnVpbGRpbi9nbG9iYWwuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0Zsb3dQYWdlLnRzeCIsIndlYnBhY2s6Ly8vLi9zcmMvTW9kYWxEaWFsb2cudHN4Iiwid2VicGFjazovLy8uL3NyYy9JY29uUGlja2VyLnRzeCJdLCJuYW1lcyI6WyJlbnVtZXJhYmxlIiwiZ2V0IiwiZ2V0dGVyIiwidmFsdWUiLCJrZXkiLCJiaW5kIiwibW9kdWxlIiwiT2JqZWN0IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwib2JqZWN0IiwicHJvcGVydHkiLCJlQ29udGVudFR5cGUiLCJmaWVsZCIsIkNvbnRlbnRUeXBlIiwidW5rbm93biIsIkRldmVsb3Blck5hbWUiLCJUeXBlRWxlbWVudERldmVsb3Blck5hbWUiLCJUeXBlRWxlbWVudElkIiwiVHlwZUVsZW1lbnRQcm9wZXJ0eURldmVsb3Blck5hbWUiLCJUeXBlRWxlbWVudFByb3BlcnR5SWQiLCJWYWx1ZUVsZW1lbnRJZCIsInRoaXMiLCJjb250ZW50VHlwZSIsImRldmVsb3Blck5hbWUiLCJ0eXBlRWxlbWVudERldmVsb3Blck5hbWUiLCJ0eXBlRWxlbWVudElkIiwidHlwZUVsZW1lbnRQcm9wZXJ0eURldmVsb3Blck5hbWUiLCJ0eXBlRWxlbWVudFByb3BlcnR5SWQiLCJ2YWx1ZUVsZW1lbnRJZCIsIkNvbnRlbnRPYmplY3QiLCJWYWx1ZSIsIm9iamVjdERhdGEiLCJGbG93T2JqZWN0RGF0YSIsInVuZGVmaW5lZCIsIkNvbnRlbnRMaXN0IiwiRmxvd09iamVjdERhdGFBcnJheSIsImNvbnRlbnRWYWx1ZSIsImlGbG93RmllbGQiLCJvZCIsInB1c2giLCJpT2JqZWN0RGF0YSIsImlGbG93T2JqZWN0RGF0YUFycmF5IiwiRmxvd0ZpZWxkIiwiZGF0YSIsIkV4dGVybmFsSWQiLCJJbnRlcm5hbElkIiwiSXNTZWxlY3RlZCIsIk9yZGVyIiwiUHJvcGVydGllcyIsImludGVybmFsSWQiLCJleHRlcm5hbElkIiwib3JkZXIiLCJpc1NlbGVjdGVkIiwicHJvcGVydGllcyIsIkZsb3dPYmplY3REYXRhUHJvcGVydHkiLCJuZXdJbnN0YW5jZSIsIm1hbnl3aG8iLCJ1dGlscyIsImd1aWQiLCJhZGRQcm9wZXJ0eSIsIm5ld1Byb3BlcnR5IiwicmVtb3ZlUHJvcGVydHkiLCJjbG9uZSIsIm5ld1R5cGVOYW1lIiwia2V5cyIsImZvckVhY2giLCJuZXdQcm9wIiwicHJvcHMiLCJpRmxvd09iamVjdERhdGFQcm9wZXJ0eSIsIm91dHB1dCIsImV4cG9ydHMiLCJSZWFjdCIsImVTb3J0T3JkZXIiLCJhcnJheSIsIkl0ZW1zIiwiaXRlbSIsInNvcnQiLCJmaWVsZE5hbWUiLCJhc2NlbmRpbmciLCJhIiwiYiIsInZhbEEiLCJ2YWxCIiwiQ29udGVudE51bWJlciIsInBhcnNlRmxvYXQiLCJDb250ZW50RGF0ZVRpbWUiLCJEYXRlIiwiYWRkSXRlbSIsImNsZWFySXRlbXMiLCJpdGVtcyIsIm9iaiIsImdldEl0ZW1XaXRoUHJvcGVydHlOYW1lIiwiZmluZFByb3BlcnR5Iiwid2l0aFZhbHVlIiwicmV0dXJuUHJvcGVydHkiLCJjb21wYXJlVG8iLCJDb250ZW50U3RyaW5nIiwidG9Mb3dlckNhc2UiLCJDb250ZW50Qm9vbGVhbiIsIlN0cmluZyIsImdldEl0ZW1XaXRoUHJvcGVydHlWYWx1ZSIsImdldEluZGV4T2ZJdGVtV2l0aFByb3BlcnR5VmFsdWUiLCJwb3MiLCJsZW5ndGgiLCJyZW1vdmVJdGVtV2l0aFByb3BlcnR5VmFsdWUiLCJtb2RpZmllZENvdW50Iiwic3BsaWNlIiwicmVtb3ZlSXRlbUF0SW5kZXgiLCJpbmRleCIsImVMb2FkaW5nU3RhdGUiLCJ0aHJvdHRsZSIsIkZpZWxkcyIsIkF0dHJpYnV0ZXMiLCJPdXRjb21lcyIsInNlbmRDb2xsYWJvcmF0aW9uTWVzc2FnZSIsIl9zZW5kQ29sbGFib3JhdGlvbk1lc3NhZ2UiLCJMb2FkaW5nU3RhdGUiLCJpbml0aXRpYWxpemluZyIsImxvYWRWYWx1ZXMiLCJkb250TG9hZFZhbHVlcyIsInVwZGF0ZVZhbHVlcyIsInRyaWdnZXJPdXRjb21lIiwiQ29tcG9uZW50SWQiLCJpZCIsIlBhcmVudElkIiwicGFyZW50SWQiLCJGbG93S2V5IiwiZmxvd0tleSIsImxvYWRNb2RlbCIsImxvYWRBdHRyaWJ1dGVzIiwibG9hZE91dGNvbWVzIiwicmVjZWl2ZU1lc3NhZ2UiLCJnZXRTdGF0ZVZhbHVlIiwic2V0U3RhdGVWYWx1ZSIsImdldFN0YXRlVmFsdWVUeXBlIiwib25CZWZvcmVTZW5kIiwib25Eb25lIiwiY2FsY3VsYXRlVmFsdWUiLCJ3aW5kb3ciLCJhZGRFdmVudExpc3RlbmVyIiwiYmFzZVVybCIsInNldHRpbmdzIiwiZ2xvYmFsIiwibG9jYXRpb24iLCJvcmlnaW4iLCJTdGF0ZUlkIiwiZXh0cmFjdFN0YXRlSWQiLCJUZW5hbnRJZCIsImV4dHJhY3RUZW5hbnRJZCIsInVybCIsInVzZXJ1cmwiLCJ2YWx1ZXVybCIsImluaXRpdGlhbGl6ZWQiLCJyZWFkeSIsIk1vZGVsIiwiVXNlciIsImhyZWYiLCJJc0Rlc2lnblRpbWUiLCJnZXRBdHRyaWJ1dGUiLCJhdHRyaWJ1dGVOYW1lIiwiZGVmYXVsdFZhbHVlIiwiYXR0cmlidXRlcyIsInhociIsInJlcXVlc3QiLCJvYyIsImdldE91dGNvbWVCeUlkIiwibWFwRWxlbWVudEludm9rZVJlcXVlc3QiLCJzZWxlY3RlZE91dGNvbWVJZCIsIm9jdCIsImV2ZW50TWFuYWdlciIsIm91dGNvbWVCZWluZ1RyaWdnZXJlZCIsInN0YXJ0c1dpdGgiLCJlbmRzV2l0aCIsInN0cmlwcGVkIiwicmVwbGFjZSIsInZhbCIsInJlc3VsdCIsInN0cmlwcGVkQml0cyIsInNwbGl0IiwiZmllbGRzIiwibG9hZFZhbHVlIiwiY29uc29sZSIsImxvZyIsImVsZSIsImF0dHIiLCJuYW1lIiwiY2xvc2UiLCJ0YXJnZXRVcmwiLCJBdXRvT3BlblVybCIsIm9wZW4iLCJhbGVydCIsIkF1dG9OYXZVcmwiLCJwcmludCIsImNvbXBvbmVudERpZE1vdW50IiwibW91bnRpbmciLCJhZGREb25lTGlzdGVuZXIiLCJjb21wb25lbnRJZCIsImFkZEJlZm9yZVNlbmRMaXN0ZW5lciIsImZsb3dNb2RlbCIsIm1vZGVsIiwiZ2V0Q29tcG9uZW50IiwiZmxvd1N0YXRlIiwic3RhdGUiLCJKU09OIiwicGFyc2UiLCJzdHJpbmdpZnkiLCJsaXN0RGF0YSIsIm1vdW50ZWQiLCJyZW1vdmVMb2FkaW5nSW5kaWNhdG9yIiwiUHJvbWlzZSIsInJlc29sdmUiLCJjb21wb25lbnRXaWxsVW5tb3VudCIsInJlbW92ZUJlZm9yZVNlbmRMaXN0ZW5lciIsInJlbW92ZURvbmVMaXN0ZW5lciIsImxvYWRPdXRjb21lIiwib3V0Y29tZUlkIiwib3V0Y29tZSIsImdldE91dGNvbWUiLCJGbG93T3V0Y29tZSIsIm91dHMiLCJnZXRPdXRjb21lcyIsIm91dGNvbWVzIiwiYXR0cnMiLCJGbG93QXR0cmlidXRlIiwiZGF0YVNvdXJjZSIsImRpc3BsYXlDb2x1bW5zIiwiZW5hYmxlZCIsImlzRW5hYmxlZCIsImhlaWdodCIsImhlbHBJbmZvIiwiaGludEluZm8iLCJoaW50VmFsdWUiLCJqb2luVXJpIiwiam9pblVSSSIsImxhYmVsIiwibWF4U2l6ZSIsIm11bHRpU2VsZWN0IiwiaXNNdWx0aVNlbGVjdCIsInJlYWRPbmx5IiwiaXNFZGl0YWJsZSIsInJlcXVpcmVkIiwiaXNSZXF1aXJlZCIsInNpemUiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsInZpc2libGUiLCJpc1Zpc2libGUiLCJ3aWR0aCIsImRzIiwiY29scyIsImNvbHVtbnMiLCJjb2wiLCJGbG93RGlzcGxheUNvbHVtbiIsInZhbHVlTmFtZSIsImxvYWRpbmciLCJjb25uZWN0aW9uIiwiZ2V0QXV0aGVudGljYXRpb25Ub2tlbiIsImdldFJlc3VsdEJvZHlUZXh0IiwicmVzcG9uc2UiLCJ0ZXh0IiwidGhlbiIsInN1YnN0ciIsImNhbGxSZXF1ZXN0IiwibWV0aG9kIiwiYXV0aGVudGljYXRpb25Ub2tlbiIsInJlc3VsdHMiLCJoZWFkZXJzIiwidGVuYW50SWQiLCJjcmVkZW50aWFscyIsImJvZHkiLCJmZXRjaCIsInN0YXR1cyIsImpzb24iLCJlcnJvclRleHQiLCJjYWxsUmVxdWVzdE9sZCIsIm1hcCIsInVzZXJ2YWwiLCJ1IiwiZGlyZWN0b3J5SWQiLCJkaXJlY3RvcnlOYW1lIiwiZW1haWwiLCJmaXJzdE5hbWUiLCJncm91cElkIiwiZ3JvdXBOYW1lIiwiaXBBZGRyZXNzIiwibGFuZ3VhZ2UiLCJsYXN0TmFtZSIsInJvbGVJZCIsInJvbGVOYW1lIiwidXNlck5hbWUiLCJpZ25vcmVTdGF0ZSIsIm9sZFN0YXRlIiwibG9hZGluZ1N0YXRlIiwic2F2aW5nIiwibmV3U3RhdGUiLCJzZXRDb21wb25lbnQiLCJvYmplY3REYXRhQXJyYXkiLCJ0b0lTT1N0cmluZyIsImNvbGxhYm9yYXRpb24iLCJpc0luaXRpYWxpemVkIiwiZXZlbnRIYW5kbGVkIiwidmFsdWVzIiwidXBkYXRlRmllbGRzIiwiY29uc3RydWN0b3IiLCJtZXNzYWdlIiwib3V0Y29tZU5hbWUiLCJtb3ZpbmciLCJpRmxvd091dGNvbWUiLCJjb21wb25lbnQiLCJvbk91dGNvbWUiLCJtb3ZlVG8iLCJmbG93RWxlbWVudElkIiwibm93IiwidGltZXN0YW1wIiwiZ2V0SG91cnMiLCJzbGljZSIsImdldE1pbnV0ZXMiLCJnZXRTZWNvbmRzIiwiam9pbiIsImxhdW5jaEZsb3dTaWxlbnQiLCJ0ZW5hbnQiLCJmbG93SWQiLCJwbGF5ZXIiLCJpbnB1dHMiLCJsYXVuY2hGbG93VGFiIiwiY29tcG9uZW50RGlkVXBkYXRlIiwiYWN0aW9uIiwidG9VcHBlckNhc2UiLCJtc2ciLCJoYW5kbGVNZXNzYWdlIiwiQ29tcG9uZW50IiwiRmxvd0Jhc2VDb21wb25lbnQiLCJOYW1lIiwiRmxvd0NvbXBvbmVudCIsImJlZm9yZVNlbmRMaXN0ZW5lcnMiLCJkb25lTGlzdGVuZXJzIiwiZmFpbExpc3RlbmVycyIsImJlZm9yZVNlbmQiLCJkb25lIiwiZmFpbCIsImhhbmRsZXIiLCJhZGRGYWlsTGlzdGVuZXIiLCJyZW1vdmVGYWlsTGlzdGVuZXIiLCJpbml0aWFsaXplIiwiaW52b2tlIiwiY29sdW1uIiwiQ29sdW1uIiwiQ29tcG9uZW50VHlwZSIsImNvbXBvbmVudFR5cGUiLCJDb250ZW50Rm9ybWF0IiwiY29udGVudEZvcm1hdCIsIkRpc3BsYXlPcmRlciIsIkxhYmVsIiwiUmVhZE9ubHkiLCJUeXBlRWxlbWVtdFByb3BlcnR5VG9EaXNwbGF5SWQiLCJ0eXBlRWxlbWVtdFByb3BlcnR5VG9EaXNwbGF5SWQiLCJWaXNpYmxlIiwiaXNEaXNwbGF5VmFsdWUiLCJpRmxvd0Rpc3BsYXlDb2x1bW4iLCJjdiIsIm9iamQiLCJkIiwiaXNOYU4iLCJkdCIsInRvTG9jYWxlRGF0ZVN0cmluZyIsInRvTG9jYWxlU3RyaW5nIiwiZVBhZ2VBY3Rpb25CaW5kaW5nVHlwZSIsImVQYWdlQWN0aW9uVHlwZSIsIklkIiwiSXNCdWxrQWN0aW9uIiwiaXNCdWxrQWN0aW9uIiwiSXNPdXQiLCJpc091dCIsIlBhZ2VBY3Rpb25CaW5kaW5nVHlwZSIsInBhZ2VBY3Rpb25CaW5kaW5nVHlwZSIsIlBhZ2VBY3Rpb25UeXBlIiwicGFnZUFjdGlvblR5cGUiLCJQYWdlT2JqZWN0QmluZGluZ0lkIiwicGFnZU9iamVjdEJpbmRpbmdJZCIsIk91dGNvbWUiLCJGVU5DX0VSUk9SX1RFWFQiLCJOQU4iLCJzeW1ib2xUYWciLCJyZVRyaW0iLCJyZUlzQmFkSGV4IiwicmVJc0JpbmFyeSIsInJlSXNPY3RhbCIsImZyZWVQYXJzZUludCIsInBhcnNlSW50IiwiZnJlZUdsb2JhbCIsImZyZWVTZWxmIiwic2VsZiIsInJvb3QiLCJGdW5jdGlvbiIsIm9iamVjdFRvU3RyaW5nIiwidG9TdHJpbmciLCJuYXRpdmVNYXgiLCJNYXRoIiwibWF4IiwibmF0aXZlTWluIiwibWluIiwiZGVib3VuY2UiLCJmdW5jIiwid2FpdCIsIm9wdGlvbnMiLCJsYXN0QXJncyIsImxhc3RUaGlzIiwibWF4V2FpdCIsInRpbWVySWQiLCJsYXN0Q2FsbFRpbWUiLCJsYXN0SW52b2tlVGltZSIsImxlYWRpbmciLCJtYXhpbmciLCJ0cmFpbGluZyIsIlR5cGVFcnJvciIsImludm9rZUZ1bmMiLCJ0aW1lIiwiYXJncyIsInRoaXNBcmciLCJhcHBseSIsInNob3VsZEludm9rZSIsInRpbWVTaW5jZUxhc3RDYWxsIiwidGltZXJFeHBpcmVkIiwidHJhaWxpbmdFZGdlIiwic2V0VGltZW91dCIsInJlbWFpbmluZ1dhaXQiLCJkZWJvdW5jZWQiLCJpc0ludm9raW5nIiwiYXJndW1lbnRzIiwibGVhZGluZ0VkZ2UiLCJ0b051bWJlciIsImlzT2JqZWN0IiwiY2FuY2VsIiwiY2xlYXJUaW1lb3V0IiwiZmx1c2giLCJ0eXBlIiwiaXNPYmplY3RMaWtlIiwiaXNTeW1ib2wiLCJvdGhlciIsInZhbHVlT2YiLCJpc0JpbmFyeSIsInRlc3QiLCJnIiwiZSIsInJlbG9hZFZhbHVlcyIsImZvcmNlVXBkYXRlIiwiRmxvd1BhZ2UiLCJlRHJhZ0V2ZW50VHlwZSIsIm1vZGFsRGlhbG9nQnV0dG9uIiwic291cmNlRWxlbWVudCIsInRhcmdldEVsZW1lbnQiLCJtb3VzZVgiLCJtb3VzZVkiLCJtb3VzZU9mZnNldFgiLCJtb3VzZU9mZnNldFkiLCJzdGFydCIsImV2dCIsIkRyYWdFdmVudCIsImRyYWciLCJlbmQiLCJ0YXJnZXQiLCJkcmFnRXZlbnQiLCJ0b3AiLCJsZWZ0IiwiaGFuZGxlS2V5VXAiLCJoYW5kbGVPdXRzaWRlQ2xpY2siLCJvbkNsb3NlUmVxdWVzdCIsInN0b3BFdmVudEJ1YmJsZSIsInN0b3BQcm9wYWdhdGlvbiIsInByZXZlbnREZWZhdWx0IiwiY2FuY2VsQnViYmxlIiwicmV0dXJuVmFsdWUiLCJkaWFsb2ciLCJwYXJlbnRYQ2VudGVyIiwib2Zmc2V0UGFyZW50IiwiY2xpZW50V2lkdGgiLCJwYXJlbnRZQ2VudGVyIiwiY2xpZW50SGVpZ2h0IiwiZGlhbG9nWE9mZnNldCIsImRpYWxvZ1lPZmZzZXQiLCJjbGFzc0xpc3QiLCJhZGQiLCIyNyIsImtleUNvZGUiLCJjb250YWlucyIsInJlbmRlciIsInN0eWxlIiwiYnV0dG9ucyIsImJ1dHRvbiIsImNsYXNzTmFtZSIsInRpdGxlIiwib25Nb3VzZURvd24iLCJvbk1vdXNlTW92ZSIsIm9uTW91c2VVcCIsInJlZiIsIm5vZGUiLCJkaXNwbGF5IiwiZmxleERpcmVjdGlvbiIsImZsZXhHcm93IiwibWFyZ2luTGVmdCIsImN1cnNvciIsImNvbG9yIiwibWFyZ2luUmlnaHQiLCJmb250U2l6ZSIsIm9uQ2xvc2UiLCJjaGlsZHJlbiIsIm1vdmVNZSIsImNsaWVudFJlY3QiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJjbGllbnRZIiwiY2xpZW50WCIsImljb25zIiwic2VsZWN0ZWRJdGVtIiwib25DaGFuZ2VWYWx1ZSIsImFzdGVyaXNrIiwiY29kZSIsInBsdXMiLCJldXJvIiwibWludXMiLCJjbG91ZCIsIm9uY2hhbmdlIiwiaW5uZXJUZXh0Iiwib25DaGFuZ2UiLCJvcHQiLCJvbkNsaWNrIiwicm9sZSIsIkljb25QaWNrZXIiXSwibWFwcGluZ3MiOiJhQUNBLFNBR0EsY0FHQSxRQUNBLG9CQUdBLFlBQ0EsSUFDQSxLQUNBLFlBVUEsT0FOQSxtQ0FHQSxPQUdBLFVBS0EsTUFHQSxNQUdBLG9CQUNBLFVBQ0EsMkJBQTJDQSxZQUFZLEVBQU1DLElBQUtDLEtBS2xFLGdCQUNBLGdEQUNBLDRDQUF5REMsTUFBTyxXQUVoRSxzQ0FBa0RBLE9BQU8sS0FRekQsa0JBRUEsR0FEQSxjQUNBLGFBQ0EscURBQ0EsMEJBR0EsR0FGQSxPQUNBLG1DQUEwQ0gsWUFBWSxFQUFNRyxNQUFPQSxJQUNuRSwyREFBaUgsT0FBT0EsRUFBTUMsSUFBUUMsS0FBSyxLQUFNRCxJQUNqSixVQUlBLGdCQUNBLHNCQUNBLFdBQTRCLE9BQU9FLEVBQWdCLFNBQ25ELFdBQWtDLE9BQU9BLEdBRXpDLE9BREEsYUFDQSxHQUlBLGtCQUF1RCxPQUFPQyxPQUFPQyxVQUFVQyxlQUFlQyxLQUFLQyxFQUFRQyxJQUczRyxPQUlBLFMsZ0ZDbEZBLElBZVlDLEVBZlosT0FDQSxRQWNBLFNBQVlBLEdBQ1IseUJBQ0EscUNBQ0EscUNBQ0EscUNBQ0EsdUNBQ0EsaUNBQ0EseUNBQ0EsdUNBQ0EseUNBQ0EsMkNBVkosQ0FBWUEsRUFBQSxFQUFBQSxlQUFBLEVBQUFBLGFBQVksS0FheEIsaUJBOENJLFdBQVlDLEdBQ1IsR0E5Q0ksS0FBQUMsWUFBNEJGLEVBQWFHLFFBQ3pDLEtBQUFDLGNBQXdCLEdBQ3hCLEtBQUFDLHlCQUFtQyxHQUNuQyxLQUFBQyxjQUF3QixHQUN4QixLQUFBQyxpQ0FBMkMsR0FDM0MsS0FBQUMsc0JBQWdDLEdBQ2hDLEtBQUFDLGVBQXlCLEdBd0MxQlIsRUFVQyxPQVJBUyxLQUFLUixZQUFjRixFQUFhQyxFQUFNVSxhQUN0Q0QsS0FBS04sY0FBZ0JILEVBQU1XLGNBQzNCRixLQUFLTCx5QkFBMkJKLEVBQU1ZLHlC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ekJuZixLQUFLOEMsTUFBTXNjLFVBQ1hwZixLQUFLOEMsTUFBTXNjLFNBQVNwZixLQUFLMGUsY0FFN0IxZSxLQUFLdWEsZUFjVCxZQUFBd0MsT0FBQSxXQUlJLElBSkosV0FFVWpGLEVBQXlCLEdBRWIsTUFBQTlZLE9BQU8yRCxLQUFLM0MsS0FBS3llLE9BQWpCLGVBQXlCLENBQXRDLElBQU1ZLEVBQUcsS0FDSCxFQUFNLHVCQUF5QnJmLEtBQUt5ZSxNQUFNWSxHQUFLalYsS0FBTyxvQkFDNUQwTixFQUFRNVcsS0FBSyxzQkFBSW9lLFFBQVMsU0FBQ2pGLEdBQU8sRUFBSzZFLFNBQVM3RSxLQUNqQyx3QkFBTThDLFVBQVcsSUFDaEJuZCxLQUFLeWUsTUFBTVksR0FBS2pWLE9BSXJDLE9BQ0ksdUJBQUsrUyxVQUFVLGFBQ1gsMEJBQVF0RCxLQUFLLFNBQVNzRCxVQUFVLGtDQUFpQyxjQUFhLFlBQzlFLHdCQUFNQSxVQUFXLHVCQUF5Qm5kLEtBQUswZSxlQUFxQix3QkFBTXZCLFVBQVUsV0FFeEYsc0JBQUlBLFVBQVUsZ0JBQWdCb0MsS0FBSyxRQUM5QnpILEtBVWpCLEVBckRBLENBQXlCNVUsRUFBTWtRLFdBd0QvQixVQUFlb00sRyIsImZpbGUiOiJGbG93Q29tcG9uZW50TW9kZWwuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gNik7XG4iLCJpbXBvcnQge0Zsb3dPYmplY3REYXRhLCBJRmxvd09iamVjdERhdGF9IGZyb20gJy4vRmxvd09iamVjdERhdGEnO1xyXG5pbXBvcnQge0Zsb3dPYmplY3REYXRhQXJyYXl9IGZyb20gJy4vRmxvd09iamVjdERhdGFBcnJheSc7XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIElGbG93RmllbGQge1xyXG4gICAgY29udGVudFR5cGU6IHN0cmluZztcclxuICAgIGNvbnRlbnRWYWx1ZTogc3RyaW5nO1xyXG4gICAgZGV2ZWxvcGVyTmFtZTogc3RyaW5nO1xyXG4gICAgb2JqZWN0RGF0YTogSUZsb3dPYmplY3REYXRhW107XHJcbiAgICB0eXBlRWxlbWVudERldmVsb3Blck5hbWU6IHN0cmluZztcclxuICAgIHR5cGVFbGVtZW50SWQ6IHN0cmluZztcclxuICAgIHR5cGVFbGVtZW50UHJvcGVydHlEZXZlbG9wZXJOYW1lOiBzdHJpbmc7XHJcbiAgICB0eXBlRWxlbWVudFByb3BlcnR5SWQ6IHN0cmluZztcclxuICAgIHZhbHVlRWxlbWVudElkOiBzdHJpbmc7XHJcbn1cclxuXHJcbmV4cG9ydCBlbnVtIGVDb250ZW50VHlwZSB7XHJcbiAgICB1bmtub3duLFxyXG4gICAgQ29udGVudFN0cmluZyxcclxuICAgIENvbnRlbnROdW1iZXIsXHJcbiAgICBDb250ZW50T2JqZWN0LFxyXG4gICAgQ29udGVudEJvb2xlYW4sXHJcbiAgICBDb250ZW50TGlzdCxcclxuICAgIENvbnRlbnRQYXNzd29yZCxcclxuICAgIENvbnRlbnRDb250ZW50LFxyXG4gICAgQ29udGVudERhdGVUaW1lLFxyXG4gICAgQ29udGVudEVuY3J5cHRlZCxcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIEZsb3dGaWVsZCB7XHJcbiAgICBwcml2YXRlIENvbnRlbnRUeXBlOiBlQ29udGVudFR5cGUgPSBlQ29udGVudFR5cGUudW5rbm93bjtcclxuICAgIHByaXZhdGUgRGV2ZWxvcGVyTmFtZTogc3RyaW5nID0gXCJcIjtcclxuICAgIHByaXZhdGUgVHlwZUVsZW1lbnREZXZlbG9wZXJOYW1lOiBzdHJpbmcgPSBcIlwiO1xyXG4gICAgcHJpdmF0ZSBUeXBlRWxlbWVudElkOiBzdHJpbmcgPSBcIlwiO1xyXG4gICAgcHJpdmF0ZSBUeXBlRWxlbWVudFByb3BlcnR5RGV2ZWxvcGVyTmFtZTogc3RyaW5nID0gXCJcIjtcclxuICAgIHByaXZhdGUgVHlwZUVsZW1lbnRQcm9wZXJ0eUlkOiBzdHJpbmcgPSBcIlwiO1xyXG4gICAgcHJpdmF0ZSBWYWx1ZUVsZW1lbnRJZDogc3RyaW5nID0gXCJcIjtcclxuICAgIHByaXZhdGUgVmFsdWU6IHN0cmluZyB8IG51bWJlciB8IERhdGUgfCBib29sZWFuIHwgRmxvd09iamVjdERhdGEgfCBGbG93T2JqZWN0RGF0YUFycmF5IHwgdW5kZWZpbmVkO1xyXG5cclxuICAgIGdldCBjb250ZW50VHlwZSgpOiBlQ29udGVudFR5cGUge1xyXG4gICAgICAgIHJldHVybiB0aGlzLkNvbnRlbnRUeXBlO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBkZXZlbG9wZXJOYW1lKCk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuRGV2ZWxvcGVyTmFtZTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgdHlwZUVsZW1lbnREZXZlbG9wZXJOYW1lKCk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuVHlwZUVsZW1lbnREZXZlbG9wZXJOYW1lO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCB0eXBlRWxlbWVudElkKCk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuVHlwZUVsZW1lbnRJZDtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgdHlwZUVsZW1lbnRQcm9wZXJ0eURldmVsb3Blck5hbWUoKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5UeXBlRWxlbWVudFByb3BlcnR5RGV2ZWxvcGVyTmFtZTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgdHlwZUVsZW1lbnRQcm9wZXJ0eUlkKCk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuVHlwZUVsZW1lbnRQcm9wZXJ0eUlkO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCB2YWx1ZUVsZW1lbnRJZCgpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiB0aGlzLlZhbHVlRWxlbWVudElkO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCB2YWx1ZSgpOiBzdHJpbmcgfCBudW1iZXIgfCBEYXRlIHwgYm9vbGVhbiB8IEZsb3dPYmplY3REYXRhIHwgRmxvd09iamVjdERhdGFBcnJheSB8IHVuZGVmaW5lZCB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuVmFsdWU7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0IHZhbHVlKHZhbHVlOiBzdHJpbmcgfCBudW1iZXIgfCBEYXRlIHwgYm9vbGVhbiB8IEZsb3dPYmplY3REYXRhIHwgRmxvd09iamVjdERhdGFBcnJheSB8IHVuZGVmaW5lZCkge1xyXG4gICAgICAgIHRoaXMuVmFsdWUgPSB2YWx1ZTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdHJ1Y3RvcihmaWVsZD86IElGbG93RmllbGQpIHtcclxuICAgICAgICBpZihmaWVsZClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMuQ29udGVudFR5cGUgPSBlQ29udGVudFR5cGVbZmllbGQuY29udGVudFR5cGUgYXMga2V5b2YgdHlwZW9mIGVDb250ZW50VHlwZV07XHJcbiAgICAgICAgICAgIHRoaXMuRGV2ZWxvcGVyTmFtZSA9IGZpZWxkLmRldmVsb3Blck5hbWU7XHJcbiAgICAgICAgICAgIHRoaXMuVHlwZUVsZW1lbnREZXZlbG9wZXJOYW1lID0gZmllbGQudHlwZUVsZW1lbnREZXZlbG9wZXJOYW1lO1xyXG4gICAgICAgICAgICB0aGlzLlR5cGVFbGVtZW50SWQgPSBmaWVsZC50eXBlRWxlbWVudElkO1xyXG4gICAgICAgICAgICB0aGlzLlR5cGVFbGVtZW50UHJvcGVydHlEZXZlbG9wZXJOYW1lID0gZmllbGQudHlwZUVsZW1lbnRQcm9wZXJ0eURldmVsb3Blck5hbWU7XHJcbiAgICAgICAgICAgIHRoaXMuVHlwZUVsZW1lbnRQcm9wZXJ0eUlkID0gZmllbGQudHlwZUVsZW1lbnRQcm9wZXJ0eUlkO1xyXG4gICAgICAgICAgICB0aGlzLlZhbHVlRWxlbWVudElkID0gZmllbGQudmFsdWVFbGVtZW50SWQ7XHJcblxyXG4gICAgICAgICAgICBzd2l0Y2ggKHRoaXMuQ29udGVudFR5cGUpIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgZUNvbnRlbnRUeXBlLkNvbnRlbnRPYmplY3Q6XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5WYWx1ZSA9IGZpZWxkLm9iamVjdERhdGEgPyBuZXcgRmxvd09iamVjdERhdGEoZmllbGQub2JqZWN0RGF0YSkgOiB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgY2FzZSBlQ29udGVudFR5cGUuQ29udGVudExpc3Q6XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5WYWx1ZSA9IGZpZWxkLm9iamVjdERhdGEgJiYgZmllbGQub2JqZWN0RGF0YVswXSA/IG5ldyBGbG93T2JqZWN0RGF0YUFycmF5KGZpZWxkLm9iamVjdERhdGEpIDogbmV3IEZsb3dPYmplY3REYXRhQXJyYXkoW10pO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5WYWx1ZSA9IGZpZWxkLmNvbnRlbnRWYWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBpRmxvd0ZpZWxkKCk6IElGbG93RmllbGQge1xyXG4gICAgICAgIGxldCBjb250ZW50VmFsdWU6IHN0cmluZyA9IFwiXCI7XHJcbiAgICAgICAgbGV0IG9iamVjdERhdGE6IElGbG93T2JqZWN0RGF0YVtdID0gW107XHJcblxyXG4gICAgICAgIHN3aXRjaCAodGhpcy5Db250ZW50VHlwZSkge1xyXG4gICAgICAgICAgICBjYXNlIGVDb250ZW50VHlwZS5Db250ZW50T2JqZWN0OlxyXG4gICAgICAgICAgICAgICAgY29uc3Qgb2Q6IEZsb3dPYmplY3REYXRhID0gdGhpcy5WYWx1ZSBhcyBGbG93T2JqZWN0RGF0YTtcclxuICAgICAgICAgICAgICAgIG9iamVjdERhdGEucHVzaChvZC5pT2JqZWN0RGF0YSgpKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgY2FzZSBlQ29udGVudFR5cGUuQ29udGVudExpc3Q6XHJcbiAgICAgICAgICAgICAgICBjb25zdCBvZGE6IEZsb3dPYmplY3REYXRhQXJyYXkgPSB0aGlzLlZhbHVlIGFzIEZsb3dPYmplY3REYXRhQXJyYXk7XHJcbiAgICAgICAgICAgICAgICBvYmplY3REYXRhID0gb2RhLmlGbG93T2JqZWN0RGF0YUFycmF5KCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICBjb250ZW50VmFsdWUgPSB0aGlzLlZhbHVlPyB0aGlzLlZhbHVlIGFzIHN0cmluZyA6IFwiXCI7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IG91dHB1dDogSUZsb3dGaWVsZCA9IHtcclxuICAgICAgICAgICAgY29udGVudFR5cGU6IGVDb250ZW50VHlwZVt0aGlzLkNvbnRlbnRUeXBlXSxcclxuICAgICAgICAgICAgY29udGVudFZhbHVlLFxyXG4gICAgICAgICAgICBkZXZlbG9wZXJOYW1lOiB0aGlzLkRldmVsb3Blck5hbWUsXHJcbiAgICAgICAgICAgIG9iamVjdERhdGEsXHJcbiAgICAgICAgICAgIHR5cGVFbGVtZW50RGV2ZWxvcGVyTmFtZTogdGhpcy5UeXBlRWxlbWVudERldmVsb3Blck5hbWUsXHJcbiAgICAgICAgICAgIHR5cGVFbGVtZW50SWQ6IHRoaXMuVHlwZUVsZW1lbnRJZCxcclxuICAgICAgICAgICAgdHlwZUVsZW1lbnRQcm9wZXJ0eURldmVsb3Blck5hbWU6IHRoaXMuVHlwZUVsZW1lbnRQcm9wZXJ0eURldmVsb3Blck5hbWUsXHJcbiAgICAgICAgICAgIHR5cGVFbGVtZW50UHJvcGVydHlJZDogdGhpcy5UeXBlRWxlbWVudFByb3BlcnR5SWQsXHJcbiAgICAgICAgICAgIHZhbHVlRWxlbWVudElkOiAgdGhpcy5WYWx1ZUVsZW1lbnRJZCxcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICByZXR1cm4gb3V0cHV0O1xyXG4gICAgfVxyXG59XHJcbiIsIi8vIGltcG9ydCB7IGFueSwgc3RyaW5nIH0gZnJvbSAncHJvcC10eXBlcyc7XHJcbi8vIGltcG9ydCB7IG9iamVjdERhdGFIYW5kbGVyIH0gZnJvbSAnLi4vdXRpbHMvcHJveHknO1xyXG5pbXBvcnQge2VDb250ZW50VHlwZX0gZnJvbSAnLi9GbG93RmllbGQnO1xyXG5pbXBvcnQgeyBGbG93T2JqZWN0RGF0YVByb3BlcnR5LCBJRmxvd09iamVjdERhdGFQcm9wZXJ0eSB9IGZyb20gJy4vRmxvd09iamVjdERhdGFQcm9wZXJ0eSc7XHJcbmltcG9ydCB7IElNYW55d2hvLCBJT2JqZWN0RGF0YX0gZnJvbSAnLi9pbnRlcmZhY2VzJztcclxuXHJcbmRlY2xhcmUgY29uc3QgbWFueXdobzogSU1hbnl3aG87XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIElGbG93T2JqZWN0RGF0YSB7XHJcbiAgICBkZXZlbG9wZXJOYW1lOiBzdHJpbmc7XHJcbiAgICBleHRlcm5hbElkOiBzdHJpbmc7XHJcbiAgICBpbnRlcm5hbElkOiBzdHJpbmc7XHJcbiAgICBpc1NlbGVjdGVkOiBib29sZWFuO1xyXG4gICAgb3JkZXI6IG51bWJlcjtcclxuICAgIHByb3BlcnRpZXM6IElGbG93T2JqZWN0RGF0YVByb3BlcnR5W107XHJcbiAgICB0eXBlRWxlbWVudElkOiBzdHJpbmc7XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBGbG93T2JqZWN0RGF0YSB7XHJcbiAgICBwcml2YXRlIERldmVsb3Blck5hbWU6IHN0cmluZyA9IFwiXCI7XHJcbiAgICBwcml2YXRlIEV4dGVybmFsSWQ6IHN0cmluZyA9IFwiXCI7XHJcbiAgICBwcml2YXRlIEludGVybmFsSWQ6IHN0cmluZyA9IFwiXCI7XHJcbiAgICBwcml2YXRlIElzU2VsZWN0ZWQ6IGJvb2xlYW4gPSBmYWxzZTtcclxuICAgIHByaXZhdGUgT3JkZXI6IG51bWJlciA9IDA7XHJcbiAgICBwcml2YXRlIFR5cGVFbGVtZW50SWQ6IHN0cmluZyA9IFwiXCI7XHJcbiAgICBwcml2YXRlIFByb3BlcnRpZXM6IHtba2V5OiBzdHJpbmddOiBGbG93T2JqZWN0RGF0YVByb3BlcnR5fSA9IHt9O1xyXG5cclxuICAgIGdldCBkZXZlbG9wZXJOYW1lKCk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuRGV2ZWxvcGVyTmFtZTtcclxuICAgIH1cclxuICAgIHNldCBkZXZlbG9wZXJOYW1lKGRldmVsb3Blck5hbWU6IHN0cmluZykge1xyXG4gICAgICAgIHRoaXMuRGV2ZWxvcGVyTmFtZSA9IGRldmVsb3Blck5hbWU7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGV4dGVybmFsSWQoKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5FeHRlcm5hbElkO1xyXG4gICAgfVxyXG4gICAgc2V0IGV4dGVybmFsSWQoZXh0ZXJuYWxJZDogc3RyaW5nKSB7XHJcbiAgICAgICAgdGhpcy5FeHRlcm5hbElkID0gZXh0ZXJuYWxJZDtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgaW50ZXJuYWxJZCgpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiB0aGlzLkludGVybmFsSWQ7XHJcbiAgICB9XHJcbiAgICBzZXQgaW50ZXJuYWxJZChpbnRlcm5hbElkOiBzdHJpbmcpIHtcclxuICAgICAgICB0aGlzLkludGVybmFsSWQgPSBpbnRlcm5hbElkO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBpc1NlbGVjdGVkKCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLklzU2VsZWN0ZWQ7XHJcbiAgICB9XHJcbiAgICBzZXQgaXNTZWxlY3RlZChpc1NlbGVjdGVkOiBib29sZWFuKSB7XHJcbiAgICAgICAgdGhpcy5Jc1NlbGVjdGVkID0gaXNTZWxlY3RlZDtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgb3JkZXIoKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5PcmRlcjtcclxuICAgIH1cclxuICAgIHNldCBvcmRlcihvcmRlcjogbnVtYmVyKSB7XHJcbiAgICAgICAgdGhpcy5PcmRlciA9IG9yZGVyO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCB0eXBlRWxlbWVudElkKCk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuVHlwZUVsZW1lbnRJZDtcclxuICAgIH1cclxuICAgIHNldCB0eXBlRWxlbWVudElkKHR5cGVFbGVtZW50SWQ6IHN0cmluZykge1xyXG4gICAgICAgIHRoaXMuVHlwZUVsZW1lbnRJZCA9IHR5cGVFbGVtZW50SWQ7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHByb3BlcnRpZXMoKToge1trZXk6IHN0cmluZ106IEZsb3dPYmplY3REYXRhUHJvcGVydHl9IHtcclxuICAgICAgICByZXR1cm4gdGhpcy5Qcm9wZXJ0aWVzO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0cnVjdG9yKGRhdGE/OiBJRmxvd09iamVjdERhdGFbXSkge1xyXG4gICAgICAgIGlmIChkYXRhICYmIGRhdGFbMF0pIHtcclxuICAgICAgICAgICAgY29uc3Qgb2JqZWN0RGF0YSA9IGRhdGFbMF07XHJcbiAgICAgICAgICAgIHRoaXMuRGV2ZWxvcGVyTmFtZSA9IG9iamVjdERhdGEuZGV2ZWxvcGVyTmFtZTtcclxuICAgICAgICAgICAgdGhpcy5JbnRlcm5hbElkID0gb2JqZWN0RGF0YS5pbnRlcm5hbElkO1xyXG4gICAgICAgICAgICB0aGlzLkV4dGVybmFsSWQgPSBvYmplY3REYXRhLmV4dGVybmFsSWQ7XHJcbiAgICAgICAgICAgIHRoaXMuT3JkZXIgPSBvYmplY3REYXRhLm9yZGVyO1xyXG4gICAgICAgICAgICB0aGlzLklzU2VsZWN0ZWQgPSBvYmplY3REYXRhLmlzU2VsZWN0ZWQ7XHJcbiAgICAgICAgICAgIHRoaXMuVHlwZUVsZW1lbnRJZCA9IG9iamVjdERhdGEudHlwZUVsZW1lbnRJZDtcclxuXHJcbiAgICAgICAgICAgIGZvciAoY29uc3QgcHJvcGVydHkgb2Ygb2JqZWN0RGF0YS5wcm9wZXJ0aWVzKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLlByb3BlcnRpZXNbcHJvcGVydHkuZGV2ZWxvcGVyTmFtZV0gPSBuZXcgRmxvd09iamVjdERhdGFQcm9wZXJ0eShwcm9wZXJ0eSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIG5ld0luc3RhbmNlKGRldmVsb3Blck5hbWU6IHN0cmluZykge1xyXG5cclxuICAgICAgICBjb25zdCBkYXRhOiBJRmxvd09iamVjdERhdGEgPSB7XHJcbiAgICAgICAgICAgIGRldmVsb3Blck5hbWUsXHJcbiAgICAgICAgICAgIGV4dGVybmFsSWQgOiBcIlwiLFxyXG4gICAgICAgICAgICBpbnRlcm5hbElkIDogbWFueXdoby51dGlscy5ndWlkKCksXHJcbiAgICAgICAgICAgIGlzU2VsZWN0ZWQgOiB0cnVlLFxyXG4gICAgICAgICAgICBvcmRlcjogMCxcclxuICAgICAgICAgICAgcHJvcGVydGllcyA6IFtdLFxyXG4gICAgICAgICAgICB0eXBlRWxlbWVudElkIDogXCJcIlxyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmV0dXJuIG5ldyB0aGlzKFtkYXRhXSk7XHJcbiAgICB9XHJcblxyXG4gICAgYWRkUHJvcGVydHkobmV3UHJvcGVydHk6IEZsb3dPYmplY3REYXRhUHJvcGVydHkpIHtcclxuICAgICAgICB0aGlzLlByb3BlcnRpZXNbbmV3UHJvcGVydHkuZGV2ZWxvcGVyTmFtZV0gPSBuZXdQcm9wZXJ0eTtcclxuICAgIH1cclxuXHJcbiAgICByZW1vdmVQcm9wZXJ0eShrZXk6IHN0cmluZykge1xyXG4gICAgICAgIGRlbGV0ZSB0aGlzLlByb3BlcnRpZXNba2V5XTtcclxuICAgIH1cclxuXHJcbiAgICBjbG9uZShuZXdUeXBlTmFtZT86IHN0cmluZykge1xyXG4gICAgICAgIGNvbnN0IGNsb25lOiBGbG93T2JqZWN0RGF0YSA9IEZsb3dPYmplY3REYXRhLm5ld0luc3RhbmNlKG5ld1R5cGVOYW1lIHx8IHRoaXMuRGV2ZWxvcGVyTmFtZSk7XHJcbiAgICAgICAgT2JqZWN0LmtleXModGhpcy5wcm9wZXJ0aWVzKS5mb3JFYWNoKChrZXk6IHN0cmluZykgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBuZXdQcm9wOiBGbG93T2JqZWN0RGF0YVByb3BlcnR5ID0gdGhpcy5wcm9wZXJ0aWVzW2tleV0uY2xvbmUoKTtcclxuICAgICAgICAgICAgY2xvbmUucHJvcGVydGllc1trZXldID0gbmV3UHJvcDtcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gY2xvbmU7XHJcbiAgICB9XHJcblxyXG4gICAgaU9iamVjdERhdGEoKSB7XHJcblxyXG4gICAgICAgIGNvbnN0IHByb3BzOiBJRmxvd09iamVjdERhdGFQcm9wZXJ0eVtdID0gW107XHJcblxyXG4gICAgICAgIGZvciAoY29uc3Qga2V5IG9mIE9iamVjdC5rZXlzKHRoaXMucHJvcGVydGllcykpIHtcclxuICAgICAgICAgICAgcHJvcHMucHVzaCh0aGlzLnByb3BlcnRpZXNba2V5XS5pRmxvd09iamVjdERhdGFQcm9wZXJ0eSgpKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IG9iamVjdERhdGE6IElPYmplY3REYXRhID0ge1xyXG4gICAgICAgICAgICBkZXZlbG9wZXJOYW1lOiB0aGlzLmRldmVsb3Blck5hbWUsXHJcbiAgICAgICAgICAgIGV4dGVybmFsSWQgOiB0aGlzLmV4dGVybmFsSWQsXHJcbiAgICAgICAgICAgIGludGVybmFsSWQgOiB0aGlzLmludGVybmFsSWQsXHJcbiAgICAgICAgICAgIGlzU2VsZWN0ZWQgOiB0aGlzLmlzU2VsZWN0ZWQsXHJcbiAgICAgICAgICAgIG9yZGVyIDogdGhpcy5vcmRlcixcclxuICAgICAgICAgICAgcHJvcGVydGllczogcHJvcHMsXHJcbiAgICAgICAgICAgIHR5cGVFbGVtZW50SWQ6IHRoaXMuVHlwZUVsZW1lbnRJZFxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHJldHVybiBvYmplY3REYXRhO1xyXG4gICAgfVxyXG5cclxuICAgIGlGbG93T2JqZWN0RGF0YUFycmF5KCk6IElGbG93T2JqZWN0RGF0YVtdIHtcclxuICAgICAgICBjb25zdCBvdXRwdXQ6IElGbG93T2JqZWN0RGF0YVtdID0gW107XHJcbiAgICAgICAgb3V0cHV0LnB1c2godGhpcy5pT2JqZWN0RGF0YSgpKTtcclxuICAgICAgICByZXR1cm4gb3V0cHV0O1xyXG4gICAgfVxyXG5cclxufVxyXG4iLCJtb2R1bGUuZXhwb3J0cyA9IFJlYWN0OyIsImltcG9ydCB7IHN0cmluZyB9IGZyb20gJ3Byb3AtdHlwZXMnO1xyXG5pbXBvcnQgeyBlQ29udGVudFR5cGUgfSBmcm9tICcuL0Zsb3dGaWVsZCc7XHJcbmltcG9ydCB7IEZsb3dPYmplY3REYXRhICwgSUZsb3dPYmplY3REYXRhfSBmcm9tICcuL0Zsb3dPYmplY3REYXRhJztcclxuaW1wb3J0IHsgRmxvd09iamVjdERhdGFQcm9wZXJ0eSB9IGZyb20gJy4vRmxvd09iamVjdERhdGFQcm9wZXJ0eSc7XHJcblxyXG5leHBvcnQgZW51bSBlU29ydE9yZGVyIHtcclxuICAgIGFzY2VuZGluZyxcclxuICAgIGRlc2NlbmRpbmcsXHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBGbG93T2JqZWN0RGF0YUFycmF5IHtcclxuXHJcbiAgICBwcml2YXRlIEl0ZW1zOiBGbG93T2JqZWN0RGF0YVtdO1xyXG5cclxuICAgIGdldCBpdGVtcygpOiBGbG93T2JqZWN0RGF0YVtdIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5JdGVtcztcclxuICAgIH1cclxuXHJcbiAgICBzb3J0KG9yZGVyOiBlU29ydE9yZGVyLCBmaWVsZE5hbWU/OiBzdHJpbmcpOiBGbG93T2JqZWN0RGF0YVtdIHtcclxuXHJcbiAgICAgICAgaWYgKG9yZGVyID09PSBlU29ydE9yZGVyLmFzY2VuZGluZykge1xyXG4gICAgICAgICAgICBpZiAoZmllbGROYW1lKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5JdGVtcy5zb3J0KChhLCBiKSA9PiB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGxldCB2YWxBOiBhbnk7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHZhbEI6IGFueTtcclxuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKGEucHJvcGVydGllc1tmaWVsZE5hbWVdLmNvbnRlbnRUeXBlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgIGVDb250ZW50VHlwZS5Db250ZW50TnVtYmVyOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsQSA9IHBhcnNlRmxvYXQoYS5wcm9wZXJ0aWVzW2ZpZWxkTmFtZV0udmFsdWUgYXMgc3RyaW5nKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbEIgPSBwYXJzZUZsb2F0KGIucHJvcGVydGllc1tmaWVsZE5hbWVdLnZhbHVlIGFzIHN0cmluZyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgIGVDb250ZW50VHlwZS5Db250ZW50RGF0ZVRpbWU6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWxBID0gbmV3IERhdGUoYS5wcm9wZXJ0aWVzW2ZpZWxkTmFtZV0udmFsdWUgYXMgc3RyaW5nKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbEIgPSBuZXcgRGF0ZShiLnByb3BlcnRpZXNbZmllbGROYW1lXS52YWx1ZSBhcyBzdHJpbmcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsQSA9IGEucHJvcGVydGllc1tmaWVsZE5hbWVdLnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsQiA9IGIucHJvcGVydGllc1tmaWVsZE5hbWVdLnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoICh0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgdmFsQSA8IHZhbEI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gLTE7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIHZhbEEgPiB2YWxCOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDE7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDA7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLkl0ZW1zLnNvcnQoKGEsIGIpID0+IGEub3JkZXIgLSBiLm9yZGVyKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGlmIChmaWVsZE5hbWUpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLkl0ZW1zLnNvcnQoKGEsIGIpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBpZihhICYmIGIgJiYgYS5wcm9wZXJ0aWVzICYmIGIucHJvcGVydGllcyAmJiBhLnByb3BlcnRpZXNbZmllbGROYW1lXSAmJiBcclxuICAgICAgICAgICAgICAgICAgICAgICAgYi5wcm9wZXJ0aWVzW2ZpZWxkTmFtZV0gJiYgYS5wcm9wZXJ0aWVzW2ZpZWxkTmFtZV0udmFsdWUgJiYgYi5wcm9wZXJ0aWVzW2ZpZWxkTmFtZV0udmFsdWUpXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZihhLnByb3BlcnRpZXNbZmllbGROYW1lXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoICh0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBhLnByb3BlcnRpZXNbZmllbGROYW1lXS52YWx1ZSA8IGIucHJvcGVydGllc1tmaWVsZE5hbWVdLnZhbHVlOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gMTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBhLnByb3BlcnRpZXNbZmllbGROYW1lXS52YWx1ZSA+IGIucHJvcGVydGllc1tmaWVsZE5hbWVdLnZhbHVlOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gLTE7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDA7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuSXRlbXMuc29ydCgoYSwgYikgPT4gYS5vcmRlciAtIGIub3JkZXIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0cnVjdG9yKGFycmF5PzogSUZsb3dPYmplY3REYXRhW10pIHtcclxuICAgICAgICB0aGlzLkl0ZW1zID0gW107XHJcbiAgICAgICAgZm9yIChjb25zdCBpdGVtIG9mIGFycmF5IHx8IFtdKSB7XHJcbiAgICAgICAgICAgIHRoaXMuSXRlbXMucHVzaChuZXcgRmxvd09iamVjdERhdGEoW2l0ZW1dKSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxuXHJcbiAgICBhZGRJdGVtKGl0ZW06IEZsb3dPYmplY3REYXRhKSB7XHJcbiAgICAgICAgdGhpcy5JdGVtcy5wdXNoKGl0ZW0pO1xyXG4gICAgfVxyXG5cclxuICAgIGNsZWFySXRlbXMoKSB7XHJcbiAgICAgICAgdGhpcy5JdGVtcyA9IFtdO1xyXG4gICAgfVxyXG5cclxuICAgIGNsb25lKCkgOiBGbG93T2JqZWN0RGF0YUFycmF5IHtcclxuICAgICAgICBjb25zdCBjbG9uZTogRmxvd09iamVjdERhdGFBcnJheSA9IG5ldyBGbG93T2JqZWN0RGF0YUFycmF5KCk7XHJcblxyXG4gICAgICAgIHRoaXMuaXRlbXMuZm9yRWFjaCgob2JqOiBGbG93T2JqZWN0RGF0YSkgPT4ge1xyXG4gICAgICAgICAgICBjbG9uZS5hZGRJdGVtKG9iai5jbG9uZSgpKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gY2xvbmU7XHJcbiAgICB9XHJcblxyXG4gICAgaUZsb3dPYmplY3REYXRhQXJyYXkoKTogSUZsb3dPYmplY3REYXRhW10ge1xyXG4gICAgICAgIGNvbnN0IG91dHB1dDogSUZsb3dPYmplY3REYXRhW10gPSBbXTtcclxuICAgICAgICBmb3IgKGNvbnN0IG9kIG9mIHRoaXMuSXRlbXMpIHtcclxuICAgICAgICAgICAgb3V0cHV0LnB1c2gob2QuaU9iamVjdERhdGEoKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBvdXRwdXQ7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0SXRlbVdpdGhQcm9wZXJ0eU5hbWUoZmluZFByb3BlcnR5OiBzdHJpbmcsIHdpdGhWYWx1ZTogYW55LCByZXR1cm5Qcm9wZXJ0eTogc3RyaW5nKTogRmxvd09iamVjdERhdGFQcm9wZXJ0eSB8IGFueSB7XHJcbiAgICAgICAgZm9yIChjb25zdCBpdGVtIG9mIHRoaXMuSXRlbXMpIHtcclxuICAgICAgICAgICAgaWYgKGl0ZW0ucHJvcGVydGllc1tmaW5kUHJvcGVydHldICYmIGl0ZW0ucHJvcGVydGllc1tmaW5kUHJvcGVydHldLnZhbHVlICAhPSB1bmRlZmluZWQpIHtcclxuXHJcbiAgICAgICAgICAgICAgICBsZXQgdmFsdWUgPSBpdGVtLnByb3BlcnRpZXNbZmluZFByb3BlcnR5XS52YWx1ZTtcclxuICAgICAgICAgICAgICAgIGxldCBjb21wYXJlVG8gPSB3aXRoVmFsdWU7XHJcblxyXG4gICAgICAgICAgICAgICAgc3dpdGNoIChpdGVtLnByb3BlcnRpZXNbZmluZFByb3BlcnR5XS5jb250ZW50VHlwZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgZUNvbnRlbnRUeXBlLkNvbnRlbnRTdHJpbmc6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gKHZhbHVlIGFzIHN0cmluZykudG9Mb3dlckNhc2UoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29tcGFyZVRvID0gY29tcGFyZVRvLnRvTG93ZXJDYXNlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBjYXNlIGVDb250ZW50VHlwZS5Db250ZW50TnVtYmVyOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb21wYXJlVG8gPSBwYXJzZUZsb2F0KGNvbXBhcmVUby50b0xvd2VyQ2FzZSgpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgZUNvbnRlbnRUeXBlLkNvbnRlbnRCb29sZWFuOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb21wYXJlVG8gPSBuZXcgU3RyaW5nKGNvbXBhcmVUbykudG9Mb3dlckNhc2UoKSA9PT0gJ3RydWUnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlICA9PT0gY29tcGFyZVRvKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGl0ZW0ucHJvcGVydGllc1tyZXR1cm5Qcm9wZXJ0eV07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0SXRlbVdpdGhQcm9wZXJ0eVZhbHVlKGZpbmRQcm9wZXJ0eTogc3RyaW5nLCB3aXRoVmFsdWU6IGFueSk6IEZsb3dPYmplY3REYXRhIHwgdW5kZWZpbmVkIHtcclxuICAgICAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgdGhpcy5JdGVtcykge1xyXG4gICAgICAgICAgICBpZiAoaXRlbS5wcm9wZXJ0aWVzW2ZpbmRQcm9wZXJ0eV0gJiYgaXRlbS5wcm9wZXJ0aWVzW2ZpbmRQcm9wZXJ0eV0udmFsdWUgIT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHZhbHVlID0gaXRlbS5wcm9wZXJ0aWVzW2ZpbmRQcm9wZXJ0eV0udmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGNvbXBhcmVUbyA9IHdpdGhWYWx1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChpdGVtLnByb3BlcnRpZXNbZmluZFByb3BlcnR5XS5jb250ZW50VHlwZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIGVDb250ZW50VHlwZS5Db250ZW50U3RyaW5nOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSAodmFsdWUgYXMgc3RyaW5nKS50b0xvd2VyQ2FzZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcGFyZVRvID0gbmV3IFN0cmluZyhjb21wYXJlVG8pLnRvTG93ZXJDYXNlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgZUNvbnRlbnRUeXBlLkNvbnRlbnROdW1iZXI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcGFyZVRvID0gcGFyc2VGbG9hdChuZXcgU3RyaW5nKGNvbXBhcmVUbykudG9Mb3dlckNhc2UoKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgZUNvbnRlbnRUeXBlLkNvbnRlbnRCb29sZWFuOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBhcmVUbyA9IG5ldyBTdHJpbmcoY29tcGFyZVRvKS50b0xvd2VyQ2FzZSgpID09PSAndHJ1ZSc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gY29tcGFyZVRvKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBpdGVtO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0SW5kZXhPZkl0ZW1XaXRoUHJvcGVydHlWYWx1ZShmaW5kUHJvcGVydHk6IHN0cmluZywgd2l0aFZhbHVlOiBhbnkpOiBudW1iZXIge1xyXG4gICAgICAgIGZvciAobGV0IHBvczogbnVtYmVyID0gMDsgcG9zIDwgdGhpcy5pdGVtcy5sZW5ndGg7IHBvcysrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGl0ZW0gPSB0aGlzLml0ZW1zW3Bvc107XHJcbiAgICAgICAgICAgIGlmIChpdGVtLnByb3BlcnRpZXNbZmluZFByb3BlcnR5XSAmJiBpdGVtLnByb3BlcnRpZXNbZmluZFByb3BlcnR5XS52YWx1ZSAgIT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHZhbHVlID0gaXRlbS5wcm9wZXJ0aWVzW2ZpbmRQcm9wZXJ0eV0udmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGNvbXBhcmVUbyA9IHdpdGhWYWx1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChpdGVtLnByb3BlcnRpZXNbZmluZFByb3BlcnR5XS5jb250ZW50VHlwZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIGVDb250ZW50VHlwZS5Db250ZW50U3RyaW5nOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSAodmFsdWUgYXMgc3RyaW5nKS50b0xvd2VyQ2FzZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcGFyZVRvID0gY29tcGFyZVRvLnRvTG93ZXJDYXNlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgZUNvbnRlbnRUeXBlLkNvbnRlbnROdW1iZXI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcGFyZVRvID0gcGFyc2VGbG9hdChuZXcgU3RyaW5nKGNvbXBhcmVUbykudG9Mb3dlckNhc2UoKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgZUNvbnRlbnRUeXBlLkNvbnRlbnRCb29sZWFuOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBhcmVUbyA9IG5ldyBTdHJpbmcoY29tcGFyZVRvKS50b0xvd2VyQ2FzZSgpID09PSAndHJ1ZSc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gY29tcGFyZVRvKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBwb3M7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gLTE7XHJcbiAgICB9XHJcblxyXG4gICAgcmVtb3ZlSXRlbVdpdGhQcm9wZXJ0eVZhbHVlKGZpbmRQcm9wZXJ0eTogc3RyaW5nLCB3aXRoVmFsdWU6IGFueSk6IG51bWJlciB7XHJcbiAgICAgICAgbGV0IG1vZGlmaWVkQ291bnQ6IG51bWJlciA9IDA7XHJcbiAgICAgICAgZm9yIChsZXQgcG9zOiBudW1iZXIgPSAwOyBwb3MgPCB0aGlzLml0ZW1zLmxlbmd0aDsgcG9zKyspIHtcclxuICAgICAgICAgICAgY29uc3QgaXRlbSA9IHRoaXMuaXRlbXNbcG9zXTtcclxuICAgICAgICAgICAgaWYgKGl0ZW0ucHJvcGVydGllc1tmaW5kUHJvcGVydHldICYmIGl0ZW0ucHJvcGVydGllc1tmaW5kUHJvcGVydHldLnZhbHVlICE9IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCB2YWx1ZSA9IGl0ZW0ucHJvcGVydGllc1tmaW5kUHJvcGVydHldLnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBjb21wYXJlVG8gPSB3aXRoVmFsdWU7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoaXRlbS5wcm9wZXJ0aWVzW2ZpbmRQcm9wZXJ0eV0uY29udGVudFR5cGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBlQ29udGVudFR5cGUuQ29udGVudFN0cmluZzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gKHZhbHVlIGFzIHN0cmluZykudG9Mb3dlckNhc2UoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBhcmVUbyA9IGNvbXBhcmVUby50b0xvd2VyQ2FzZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIGVDb250ZW50VHlwZS5Db250ZW50TnVtYmVyOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBhcmVUbyA9IHBhcnNlRmxvYXQobmV3IFN0cmluZyhjb21wYXJlVG8pLnRvTG93ZXJDYXNlKCkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIGVDb250ZW50VHlwZS5Db250ZW50Qm9vbGVhbjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wYXJlVG8gPSBuZXcgU3RyaW5nKGNvbXBhcmVUbykudG9Mb3dlckNhc2UoKSA9PT0gJ3RydWUnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT09IGNvbXBhcmVUbykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLml0ZW1zLnNwbGljZShwb3MsMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vZGlmaWVkQ291bnQrKztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBtb2RpZmllZENvdW50O1xyXG4gICAgfVxyXG5cclxuICAgIHJlbW92ZUl0ZW1BdEluZGV4KGluZGV4OiBudW1iZXIpOiBudW1iZXIge1xyXG4gICAgICAgIGxldCBtb2RpZmllZENvdW50OiBudW1iZXIgPSAwO1xyXG4gICAgICAgIGlmKHRoaXMuaXRlbXNbaW5kZXhdKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaXRlbXMuc3BsaWNlKGluZGV4LDEpO1xyXG4gICAgICAgICAgICBtb2RpZmllZENvdW50PWluZGV4O1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbW9kaWZpZWRDb3VudDtcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCAnLi9FdmVudE1hbmFnZXInO1xyXG5pbXBvcnQgeyBGbG93QXR0cmlidXRlIH0gZnJvbSAnLi9GbG93QXR0cmlidXRlJztcclxuaW1wb3J0IHsgRmxvd0Rpc3BsYXlDb2x1bW4gfSBmcm9tICcuL0Zsb3dEaXNwbGF5Q29sdW1uJztcclxuaW1wb3J0IHsgRmxvd0ZpZWxkLCBJRmxvd0ZpZWxkLCBlQ29udGVudFR5cGUgfSBmcm9tICcuL0Zsb3dGaWVsZCc7XHJcbmltcG9ydCB7IEZsb3dPYmplY3REYXRhLCBJRmxvd09iamVjdERhdGF9IGZyb20gJy4vRmxvd09iamVjdERhdGEnO1xyXG5pbXBvcnQgeyBGbG93T2JqZWN0RGF0YUFycmF5IH0gZnJvbSAnLi9GbG93T2JqZWN0RGF0YUFycmF5JztcclxuaW1wb3J0IHsgRmxvd091dGNvbWUsIElGbG93T3V0Y29tZSB9IGZyb20gJy4vRmxvd091dGNvbWUnO1xyXG5pbXBvcnQgeyBJQ29tcG9uZW50UHJvcHMsIElNYW55d2hvLCBJT2JqZWN0RGF0YSB9IGZyb20gJy4vaW50ZXJmYWNlcyc7XHJcbmltcG9ydCB7IElDb21wb25lbnRWYWx1ZSB9IGZyb20gJy4vaW50ZXJmYWNlcy9zZXJ2aWNlcy9zdGF0ZSc7XHJcbi8vaW1wb3J0IHt0aHJvdHRsZX0gZnJvbSAnbG9kYXNoJztcclxudmFyIHRocm90dGxlID0gcmVxdWlyZSgnbG9kYXNoLnRocm90dGxlJyk7XHJcblxyXG5cclxuZGVjbGFyZSBjb25zdCBtYW55d2hvOiBJTWFueXdobztcclxuZGVjbGFyZSBjb25zdCAkOiBKUXVlcnlTdGF0aWM7XHJcblxyXG5pbnRlcmZhY2UgSUZsb3dTdGF0ZVZhbHVlIHtcclxuICAgIGNvbnRlbnRUeXBlOiBzdHJpbmc7XHJcbiAgICBjb250ZW50VmFsdWU6IHN0cmluZztcclxuICAgIGRldmVsb3Blck5hbWU6IHN0cmluZztcclxuICAgIG9iamVjdERhdGE6IElPYmplY3REYXRhW107XHJcbiAgICB0eXBlRWxlbWVudERldmVsb3Blck5hbWU6IHN0cmluZztcclxuICAgIHR5cGVFbGVtZW50SWQ6IHN0cmluZztcclxuICAgIHR5cGVFbGVtZW50UHJvcGVydHlEZXZlbG9wZXJOYW1lOiBzdHJpbmc7XHJcbiAgICB0eXBlRWxlbWVudFByb3BlcnR5SWQ6IHN0cmluZztcclxuICAgIHZhbHVlRWxlbWVudElkOiBzdHJpbmc7XHJcbn1cclxuXHJcbmludGVyZmFjZSBJRmxvd1VzZXIge1xyXG4gICAgZGlyZWN0b3J5SWQ6IHN0cmluZztcclxuICAgIGRpcmVjdG9yeU5hbWU6IHN0cmluZztcclxuICAgIGVtYWlsOiBzdHJpbmc7XHJcbiAgICBmaXJzdE5hbWU6IHN0cmluZztcclxuICAgIGdyb3VwSWQ6IHN0cmluZztcclxuICAgIGdyb3VwTmFtZTogc3RyaW5nO1xyXG4gICAgaWQ6IHN0cmluZztcclxuICAgIGlwQWRkcmVzczogc3RyaW5nO1xyXG4gICAgbGFuZ3VhZ2U6IHN0cmluZztcclxuICAgIGxhc3ROYW1lOiBzdHJpbmc7XHJcbiAgICBsb2NhdGlvbjogc3RyaW5nO1xyXG4gICAgcm9sZUlkOiBzdHJpbmc7XHJcbiAgICByb2xlTmFtZTogc3RyaW5nO1xyXG4gICAgc3RhdHVzOiBzdHJpbmc7XHJcbiAgICB1c2VyTmFtZTogc3RyaW5nO1xyXG59XHJcblxyXG5pbnRlcmZhY2UgSUZsb3dNb2RlbCB7XHJcbiAgICBjb250ZW50VHlwZTogc3RyaW5nO1xyXG4gICAgZGF0YVNvdXJjZTogRmxvd09iamVjdERhdGFBcnJheTtcclxuICAgIGRldmVsb3Blck5hbWU6IHN0cmluZztcclxuICAgIGVuYWJsZWQ6IGJvb2xlYW47XHJcbiAgICBoZWlnaHQ6IG51bWJlcjtcclxuICAgIGhlbHBJbmZvOiBzdHJpbmc7XHJcbiAgICBoaW50SW5mbzogc3RyaW5nO1xyXG4gICAgam9pblVyaTogc3RyaW5nO1xyXG4gICAgbGFiZWw6IHN0cmluZztcclxuICAgIG1heFNpemU6IG51bWJlcjtcclxuICAgIG11bHRpU2VsZWN0OiBib29sZWFuO1xyXG4gICAgcmVhZE9ubHk6IGJvb2xlYW47XHJcbiAgICByZXF1aXJlZDogYm9vbGVhbjtcclxuICAgIHNpemU6IG51bWJlcjtcclxuICAgIHZhbGlkYXRpb25NZXNzYWdlOiBzdHJpbmc7XHJcbiAgICB2aXNpYmxlOiBib29sZWFuO1xyXG4gICAgd2lkdGg6IG51bWJlcjtcclxuICAgIGRpc3BsYXlDb2x1bW5zOiBGbG93RGlzcGxheUNvbHVtbltdO1xyXG59XHJcblxyXG4vKlxyXG5pZiAoIShtYW55d2hvIGFzIGFueSkuZXZlbnRNYW5hZ2VyKSB7XHJcbiAgICAobWFueXdobyBhcyBhbnkpLmV2ZW50TWFuYWdlciA9IHt9O1xyXG4gICAgKG1hbnl3aG8gYXMgYW55KS5ldmVudE1hbmFnZXIuYmVmb3JlU2VuZExpc3RlbmVycyA9IHt9O1xyXG4gICAgKG1hbnl3aG8gYXMgYW55KS5ldmVudE1hbmFnZXIuZG9uZUxpc3RlbmVycyA9IHt9O1xyXG4gICAgKG1hbnl3aG8gYXMgYW55KS5ldmVudE1hbmFnZXIuZmFpbExpc3RlbmVycyA9IHt9O1xyXG4gICAgKG1hbnl3aG8gYXMgYW55KS5ldmVudE1hbmFnZXIub3V0Y29tZUJlaW5nVHJpZ2dlcmVkO1xyXG5cclxuICAgIChtYW55d2hvIGFzIGFueSkuZXZlbnRNYW5hZ2VyLmJlZm9yZVNlbmQgPSAoeGhyOiBYTUxIdHRwUmVxdWVzdCwgcmVxdWVzdDogYW55KSA9PiB7XHJcbiAgICAgICAgLy8obWFueXdobyBhcyBhbnkpLmV2ZW50TWFuYWdlci5iZWZvcmVTZW5kTGlzdGVuZXJzLmZvckVhY2goKGxpc3RlbmVyOiBhbnkpID0+IGxpc3RlbmVyKHhociwgcmVxdWVzdCkpO1xyXG4gICAgICAgIGZvcihjb25zdCBrZXkgaW4gKG1hbnl3aG8gYXMgYW55KS5ldmVudE1hbmFnZXIuYmVmb3JlU2VuZExpc3RlbmVycyApXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICAobWFueXdobyBhcyBhbnkpLmV2ZW50TWFuYWdlci5iZWZvcmVTZW5kTGlzdGVuZXJzW2tleV0oeGhyLCByZXF1ZXN0KTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIChtYW55d2hvIGFzIGFueSkuZXZlbnRNYW5hZ2VyLmRvbmUgPSAoeGhyOiBYTUxIdHRwUmVxdWVzdCwgcmVxdWVzdDogYW55KSA9PiB7XHJcbiAgICAgICAgLy8obWFueXdobyBhcyBhbnkpLmV2ZW50TWFuYWdlci5kb25lTGlzdGVuZXJzLmZvckVhY2goKGxpc3RlbmVyOiBhbnkpID0+IGxpc3RlbmVyKHhociwgcmVxdWVzdCkpO1xyXG4gICAgICAgIGZvcihjb25zdCBrZXkgaW4gKG1hbnl3aG8gYXMgYW55KS5ldmVudE1hbmFnZXIuZG9uZUxpc3RlbmVycyApXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICAobWFueXdobyBhcyBhbnkpLmV2ZW50TWFuYWdlci5kb25lTGlzdGVuZXJzW2tleV0oeGhyLCByZXF1ZXN0KTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIChtYW55d2hvIGFzIGFueSkuZXZlbnRNYW5hZ2VyLmZhaWwgPSAoeGhyOiBYTUxIdHRwUmVxdWVzdCwgcmVxdWVzdDogYW55KSA9PiB7XHJcbiAgICAgICAgLy8obWFueXdobyBhcyBhbnkpLmV2ZW50TWFuYWdlci5mYWlsTGlzdGVuZXJzLmZvckVhY2goKGxpc3RlbmVyOiBhbnkpID0+IGxpc3RlbmVyKHhociwgcmVxdWVzdCkpO1xyXG4gICAgICAgIGZvcihjb25zdCBrZXkgaW4gKG1hbnl3aG8gYXMgYW55KS5ldmVudE1hbmFnZXIuZmFpbExpc3RlbmVycyApXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICAobWFueXdobyBhcyBhbnkpLmV2ZW50TWFuYWdlci5mYWlsTGlzdGVuZXJzW2tleV0oeGhyLCByZXF1ZXN0KTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIChtYW55d2hvIGFzIGFueSkuZXZlbnRNYW5hZ2VyLmFkZEJlZm9yZVNlbmRMaXN0ZW5lciA9IChoYW5kbGVyOiAoeGhyOiBYTUxIdHRwUmVxdWVzdCwgcmVxdWVzdDogYW55KSA9PiB2b2lkLCBjb21wb25lbnRJZDogc3RyaW5nKSA9PiB7XHJcbiAgICAgICAgKG1hbnl3aG8gYXMgYW55KS5ldmVudE1hbmFnZXIuYmVmb3JlU2VuZExpc3RlbmVyc1tjb21wb25lbnRJZF0gPSBoYW5kbGVyO1xyXG4gICAgfTtcclxuXHJcbiAgICAobWFueXdobyBhcyBhbnkpLmV2ZW50TWFuYWdlci5yZW1vdmVCZWZvcmVTZW5kTGlzdGVuZXIgPSAoY29tcG9uZW50SWQ6IHN0cmluZykgPT4ge1xyXG4gICAgICAgIGRlbGV0ZSAobWFueXdobyBhcyBhbnkpLmV2ZW50TWFuYWdlci5iZWZvcmVTZW5kTGlzdGVuZXJzW2NvbXBvbmVudElkXTtcclxuICAgIH07XHJcblxyXG4gICAgKG1hbnl3aG8gYXMgYW55KS5ldmVudE1hbmFnZXIuYWRkRG9uZUxpc3RlbmVyID0gKGhhbmRsZXI6ICh4aHI6IFhNTEh0dHBSZXF1ZXN0LCByZXF1ZXN0OiBhbnkpID0+IHZvaWQsIGNvbXBvbmVudElkOiBzdHJpbmcpID0+IHtcclxuICAgICAgICAobWFueXdobyBhcyBhbnkpLmV2ZW50TWFuYWdlci5kb25lTGlzdGVuZXJzW2NvbXBvbmVudElkXSA9IGhhbmRsZXI7XHJcbiAgICB9O1xyXG5cclxuICAgIChtYW55d2hvIGFzIGFueSkuZXZlbnRNYW5hZ2VyLnJlbW92ZURvbmVMaXN0ZW5lciA9IChjb21wb25lbnRJZDogc3RyaW5nKSA9PiB7XHJcbiAgICAgICAgZGVsZXRlIChtYW55d2hvIGFzIGFueSkuZXZlbnRNYW5hZ2VyLmRvbmVMaXN0ZW5lcnNbY29tcG9uZW50SWRdO1xyXG4gICAgfTtcclxuXHJcbiAgICAobWFueXdobyBhcyBhbnkpLmV2ZW50TWFuYWdlci5hZGRGYWlsTGlzdGVuZXIgPSAoaGFuZGxlcjogKHhocjogWE1MSHR0cFJlcXVlc3QsIHJlcXVlc3Q6IGFueSkgPT4gdm9pZCwgY29tcG9uZW50SWQ6IHN0cmluZykgPT4ge1xyXG4gICAgICAgIChtYW55d2hvIGFzIGFueSkuZXZlbnRNYW5hZ2VyLmZhaWxMaXN0ZW5lcnNbY29tcG9uZW50SWRdID0gaGFuZGxlcjtcclxuICAgIH07XHJcblxyXG4gICAgKG1hbnl3aG8gYXMgYW55KS5ldmVudE1hbmFnZXIucmVtb3ZlRmFpbExpc3RlbmVyID0gKGNvbXBvbmVudElkOiBzdHJpbmcpID0+IHtcclxuICAgICAgICBkZWxldGUgKG1hbnl3aG8gYXMgYW55KS5ldmVudE1hbmFnZXIuZmFpbExpc3RlbmVyc1tjb21wb25lbnRJZF07XHJcbiAgICB9O1xyXG5cclxuICAgIG1hbnl3aG8uc2V0dGluZ3MuaW5pdGlhbGl6ZShudWxsLCB7XHJcbiAgICAgICAgaW52b2tlOiB7XHJcbiAgICAgICAgICAgIGJlZm9yZVNlbmQ6IChtYW55d2hvIGFzIGFueSkuZXZlbnRNYW5hZ2VyLmJlZm9yZVNlbmQsXHJcbiAgICAgICAgICAgIGRvbmU6IChtYW55d2hvIGFzIGFueSkuZXZlbnRNYW5hZ2VyLmRvbmUsXHJcbiAgICAgICAgICAgIGZhaWw6IChtYW55d2hvIGFzIGFueSkuZXZlbnRNYW5hZ2VyLmZhaWwsXHJcbiAgICAgICAgfSxcclxuICAgIH0pO1xyXG59XHJcbiovXHJcblxyXG5leHBvcnQgZW51bSBlTG9hZGluZ1N0YXRlIHtcclxuICAgIHJlYWR5LFxyXG4gICAgbG9hZGluZyxcclxuICAgIHNhdmluZyxcclxuICAgIG1vdmluZyxcclxuICAgIGluaXRpdGlhbGl6aW5nLFxyXG4gICAgaW5pdGl0aWFsaXplZCxcclxuICAgIG1vdW50aW5nLFxyXG4gICAgbW91bnRlZFxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgRmxvd0Jhc2VDb21wb25lbnQgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQ8SUNvbXBvbmVudFByb3BzLCBhbnksIGFueT4ge1xyXG5cclxuICAgIHVybDogc3RyaW5nO1xyXG4gICAgdXNlcnVybDogc3RyaW5nO1xyXG4gICAgdmFsdWV1cmw6IHN0cmluZztcclxuICAgIHByaXZhdGUgVXNlcj86IElGbG93VXNlcjtcclxuICAgIHByaXZhdGUgVGVuYW50SWQ6IHN0cmluZztcclxuICAgIHByaXZhdGUgU3RhdGVJZDogc3RyaW5nO1xyXG4gICAgcHJpdmF0ZSBGbG93S2V5OiBzdHJpbmc7XHJcbiAgICBwcml2YXRlIENvbXBvbmVudElkOiBzdHJpbmc7XHJcbiAgICBwcml2YXRlIFBhcmVudElkPzogc3RyaW5nO1xyXG4gICAgcHJpdmF0ZSBGaWVsZHM6IHtba2V5OiBzdHJpbmddOiBGbG93RmllbGR9ID0ge307XHJcbiAgICBwcml2YXRlIExvYWRpbmdTdGF0ZTogZUxvYWRpbmdTdGF0ZTtcclxuICAgIHByaXZhdGUgQXR0cmlidXRlczoge1trZXk6IHN0cmluZ106IEZsb3dBdHRyaWJ1dGV9ID0ge307XHJcbiAgICBwcml2YXRlIE91dGNvbWVzOiB7W2tleTogc3RyaW5nXTogRmxvd091dGNvbWV9ID0ge307XHJcbiAgICBwcml2YXRlIE1vZGVsPzogSUZsb3dNb2RlbDtcclxuICAgIHByaXZhdGUgSXNEZXNpZ25UaW1lOiBib29sZWFuO1xyXG5cclxuICAgIGdldCB0ZW5hbnRJZCgpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiB0aGlzLlRlbmFudElkO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBzdGF0ZUlkKCk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuU3RhdGVJZDtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgZmxvd0tleSgpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiB0aGlzLkZsb3dLZXk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGNvbXBvbmVudElkKCk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuQ29tcG9uZW50SWQ7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHBhcmVudElkKCk6IHN0cmluZyB8IHVuZGVmaW5lZCB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuUGFyZW50SWQ7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGlzUmVhZHkoKTogYm9vbGVhbiB7XHJcbiAgICAgICAgaWYodGhpcy5Mb2FkaW5nU3RhdGUgPT09IGVMb2FkaW5nU3RhdGUucmVhZHkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGdldCBsb2FkaW5nU3RhdGUoKTogZUxvYWRpbmdTdGF0ZSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuTG9hZGluZ1N0YXRlO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBvdXRjb21lcygpOiB7W2tleTogc3RyaW5nXTogRmxvd091dGNvbWV9IHwgdW5kZWZpbmVkIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5PdXRjb21lcztcclxuICAgIH1cclxuXHJcbiAgICBnZXQgYXR0cmlidXRlcygpOiB7W2tleTogc3RyaW5nXTogRmxvd0F0dHJpYnV0ZX0gfCB1bmRlZmluZWQge1xyXG4gICAgICAgIHJldHVybiB0aGlzLkF0dHJpYnV0ZXM7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGZpZWxkcygpOiB7W2tleTogc3RyaW5nXTogRmxvd0ZpZWxkfSB8IHVuZGVmaW5lZCB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuRmllbGRzO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBtb2RlbCgpOiBJRmxvd01vZGVsIHwgdW5kZWZpbmVkIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5Nb2RlbDtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgdXNlcigpOiBJRmxvd1VzZXIgfCB1bmRlZmluZWQge1xyXG4gICAgICAgIHJldHVybiB0aGlzLlVzZXI7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGpvaW5VUkkoKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gd2luZG93LmxvY2F0aW9uLmhyZWY7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGlzRGVzaWduVGltZSgpOiBib29sZWFuIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5Jc0Rlc2lnblRpbWU7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0QXR0cmlidXRlKGF0dHJpYnV0ZU5hbWU6IHN0cmluZywgZGVmYXVsdFZhbHVlPzogc3RyaW5nKTogc3RyaW5nIHtcclxuICAgICAgICBpZiAodGhpcy5hdHRyaWJ1dGVzW2F0dHJpYnV0ZU5hbWVdKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmF0dHJpYnV0ZXNbYXR0cmlidXRlTmFtZV0udmFsdWU7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIGRlZmF1bHRWYWx1ZSB8fCAnJztcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3RydWN0b3IocHJvcHM6IGFueSkge1xyXG4gICAgICAgIHN1cGVyKHByb3BzKTtcclxuXHJcbiAgICAgICAgdGhpcy5GaWVsZHMgPSB7fTtcclxuICAgICAgICB0aGlzLkxvYWRpbmdTdGF0ZSA9IGVMb2FkaW5nU3RhdGUuaW5pdGl0aWFsaXppbmc7XHJcbiAgICAgICAgdGhpcy5sb2FkVmFsdWVzID0gdGhpcy5sb2FkVmFsdWVzLmJpbmQodGhpcyk7XHJcbiAgICAgICAgdGhpcy5kb250TG9hZFZhbHVlcyA9IHRoaXMuZG9udExvYWRWYWx1ZXMuYmluZCh0aGlzKTtcclxuICAgICAgICB0aGlzLnVwZGF0ZVZhbHVlcyA9IHRoaXMudXBkYXRlVmFsdWVzLmJpbmQodGhpcyk7XHJcbiAgICAgICAgdGhpcy50cmlnZ2VyT3V0Y29tZSA9IHRoaXMudHJpZ2dlck91dGNvbWUuYmluZCh0aGlzKTtcclxuICAgICAgICB0aGlzLkNvbXBvbmVudElkID0gdGhpcy5wcm9wcy5pZDtcclxuICAgICAgICB0aGlzLlBhcmVudElkID0gdGhpcy5wcm9wcy5wYXJlbnRJZDtcclxuICAgICAgICB0aGlzLkZsb3dLZXkgPSB0aGlzLnByb3BzLmZsb3dLZXk7XHJcbiAgICAgICAgdGhpcy5BdHRyaWJ1dGVzID0ge307XHJcbiAgICAgICAgdGhpcy5sb2FkTW9kZWwgPSB0aGlzLmxvYWRNb2RlbC5iaW5kKHRoaXMpO1xyXG4gICAgICAgIHRoaXMubG9hZEF0dHJpYnV0ZXMgPSB0aGlzLmxvYWRBdHRyaWJ1dGVzLmJpbmQodGhpcyk7XHJcbiAgICAgICAgdGhpcy5sb2FkT3V0Y29tZXMgPSB0aGlzLmxvYWRPdXRjb21lcy5iaW5kKHRoaXMpO1xyXG4gICAgICAgIHRoaXMucmVjZWl2ZU1lc3NhZ2UgPSB0aGlzLnJlY2VpdmVNZXNzYWdlLmJpbmQodGhpcyk7XHJcbiAgICAgICAgdGhpcy5nZXRTdGF0ZVZhbHVlID0gdGhpcy5nZXRTdGF0ZVZhbHVlLmJpbmQodGhpcyk7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZVZhbHVlID0gdGhpcy5zZXRTdGF0ZVZhbHVlLmJpbmQodGhpcyk7XHJcbiAgICAgICAgdGhpcy5nZXRTdGF0ZVZhbHVlVHlwZSA9IHRoaXMuZ2V0U3RhdGVWYWx1ZVR5cGUuYmluZCh0aGlzKTtcclxuICAgICAgICB0aGlzLnNlbmRDb2xsYWJvcmF0aW9uTWVzc2FnZSA9IHRoaXMuc2VuZENvbGxhYm9yYXRpb25NZXNzYWdlLmJpbmQodGhpcyk7XHJcbiAgICAgICAgdGhpcy5vbkJlZm9yZVNlbmQgPSB0aGlzLm9uQmVmb3JlU2VuZC5iaW5kKHRoaXMpO1xyXG4gICAgICAgIHRoaXMub25Eb25lID0gdGhpcy5vbkRvbmUuYmluZCh0aGlzKTtcclxuICAgICAgICB0aGlzLmNhbGN1bGF0ZVZhbHVlID0gdGhpcy5jYWxjdWxhdGVWYWx1ZS5iaW5kKHRoaXMpO1xyXG5cclxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIHRoaXMucmVjZWl2ZU1lc3NhZ2UsIGZhbHNlKTtcclxuXHJcbiAgICAgICAgdGhpcy5sb2FkTW9kZWwoKTtcclxuICAgICAgICB0aGlzLmxvYWRBdHRyaWJ1dGVzKCk7XHJcbiAgICAgICAgdGhpcy5sb2FkT3V0Y29tZXMoKTtcclxuXHJcbiAgICAgICAgY29uc3QgYmFzZVVybCA9IG1hbnl3aG8uc2V0dGluZ3MuZ2xvYmFsKCdwbGF0Zm9ybS51cmknKSB8fCB3aW5kb3cubG9jYXRpb24ub3JpZ2luIHx8ICdodHRwczovL2Zsb3cubWFueXdoby5jb20nO1xyXG4gICAgICAgIHRoaXMuU3RhdGVJZCA9IG1hbnl3aG8udXRpbHMuZXh0cmFjdFN0YXRlSWQodGhpcy5wcm9wcy5mbG93S2V5KTtcclxuICAgICAgICB0aGlzLlRlbmFudElkID0gbWFueXdoby51dGlscy5leHRyYWN0VGVuYW50SWQodGhpcy5wcm9wcy5mbG93S2V5KTtcclxuXHJcbiAgICAgICAgdGhpcy51cmwgPSBgJHtiYXNlVXJsfS9hcGkvcnVuLzEvc3RhdGUvJHt0aGlzLlN0YXRlSWR9L3ZhbHVlc2A7XHJcbiAgICAgICAgdGhpcy51c2VydXJsID0gYCR7YmFzZVVybH0vYXBpL3J1bi8xL3N0YXRlLyR7dGhpcy5TdGF0ZUlkfS92YWx1ZXMvMDNkYzQxZGQtMWM2Yi00YjMzLWJmNjEtY2JkMWQwNzc4ZmZmYDtcclxuICAgICAgICB0aGlzLnZhbHVldXJsID0gYCR7YmFzZVVybH0vYXBpL3J1bi8xL3N0YXRlLyR7dGhpcy5TdGF0ZUlkfS92YWx1ZXMvbmFtZWA7XHJcblxyXG4gICAgICAgIHRoaXMuTG9hZGluZ1N0YXRlID0gZUxvYWRpbmdTdGF0ZS5pbml0aXRpYWxpemVkO1xyXG4gICAgfVxyXG5cclxuICAgIG9uQmVmb3JlU2VuZCh4aHI6IFhNTEh0dHBSZXF1ZXN0LCByZXF1ZXN0OiBhbnkpIHtcclxuICAgICAgICBpZihyZXF1ZXN0KVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgY29uc3Qgb2M6IEZsb3dPdXRjb21lID0gdGhpcy5nZXRPdXRjb21lQnlJZChyZXF1ZXN0Lm1hcEVsZW1lbnRJbnZva2VSZXF1ZXN0LnNlbGVjdGVkT3V0Y29tZUlkKTtcclxuICAgICAgICAgICAgY29uc3Qgb2N0OiBGbG93T3V0Y29tZSA9IChtYW55d2hvIGFzIGFueSkuZXZlbnRNYW5hZ2VyLm91dGNvbWVCZWluZ1RyaWdnZXJlZDtcclxuICAgICAgICAgICAgaWYob2Mpe1xyXG4gICAgICAgICAgICAgICAgaWYoIW9jdCB8fCBvY3QuaWQgIT09IG9jLmlkKVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIChtYW55d2hvIGFzIGFueSkuZXZlbnRNYW5hZ2VyLm91dGNvbWVCZWluZ1RyaWdnZXJlZCA9IG9jO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICAobWFueXdobyBhcyBhbnkpLmV2ZW50TWFuYWdlci5vdXRjb21lQmVpbmdUcmlnZ2VyZWQgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICB9XHJcblxyXG4gICAgLy8gdGhpcyB0YWtlcyBhIHN0cmluZyBjb250YWluaW5nIGVpdGhlciBhIGxpdGVyYWwgdmFsdWUgb3IgdGhlIG5hbWUgb2YgYSBmaWVsZCBzdXJyb3VuZGVkIHdpdGgge3suLn19XHJcbiAgICAvLyBpZiBpdCdzIGxpdGVyYWwgaXQganVzdCByZXR1cm5zIG90aGVyd2lzZSBpdCBnZXRzIHRoZSB2YWx1ZS5cclxuICAgIC8vIGl0IGNhbiBnbyBkb3duIGxldmVscyBsaWtlIHZhbC5hdHRyaWJ1dGUuc3VidmFsIGV0Y1xyXG4gICAgLy8gTk9URTogdGhlcmUncyBhIGdvb2QgY2hhbmNlIHRpbWluZyB3aXNlIHRoYXQgdGhlcmUgYXJlIG5vIGZpZWxkcyB5ZXRcclxuICAgIC8vIHNvIHdlIGp1c3QgcmV0dXJuIHZhbHVlIGlmIGFueSBlcnJvcnMgYXJlIGVuY291bnRlcmVkIGxpa2UgdmFsID09PSBudWxsXHJcbiAgICBhc3luYyBjYWxjdWxhdGVWYWx1ZSggdmFsdWU6IHN0cmluZyk6IFByb21pc2U8c3RyaW5nPiB7XHJcbiAgICAgICAgLy8gaXMgaXQgcmVwbGFjZWFibGU/ICBzdGFydHMgYW5kIGVuZHMgd2l0aCB7e319XHJcbiAgICAgICAgaWYgKHZhbHVlLnN0YXJ0c1dpdGgoJ3t7JykgJiYgdmFsdWUuZW5kc1dpdGgoJ319JykpIHtcclxuICAgICAgICAgICAgLy8gdmFsdWUgcG9pbnRzIHRvIGEgZmllbGQsIGdldCBpdCdzIHZhbHVlXHJcbiAgICAgICAgICAgIGxldCBzdHJpcHBlZDogc3RyaW5nID0gdmFsdWUucmVwbGFjZSgne3snLCAnJyk7XHJcbiAgICAgICAgICAgIHN0cmlwcGVkID0gc3RyaXBwZWQucmVwbGFjZSgnfX0nLCAnJyk7XHJcblxyXG4gICAgICAgICAgICBsZXQgdmFsOiBhbnk7XHJcbiAgICAgICAgICAgIGxldCByZXN1bHQ6IHN0cmluZyA9ICcnO1xyXG4gICAgICAgICAgICAvLyBpdCBjb3VsZCBiZSBhIHN1YiBmaWVsZCB3aXRoIHBhcmVudC5jaGlsZFxyXG4gICAgICAgICAgICBjb25zdCBzdHJpcHBlZEJpdHM6IHN0cmluZ1tdID0gc3RyaXBwZWQuc3BsaXQoJy4nKTtcclxuXHJcbiAgICAgICAgICAgIC8vIGxvb3Agb3ZlciBiaXRzXHJcbiAgICAgICAgICAgIGZvciAobGV0IHBvcyA9IDAgOyBwb3MgPCBzdHJpcHBlZEJpdHMubGVuZ3RoIDsgcG9zKyspIHtcclxuICAgICAgICAgICAgICAgIC8vIHBvcyAwIHdpbGwgc2V0IHZhbCBmb3IgYW55IGNoaWxkIGVsZW1lbnRzXHJcbiAgICAgICAgICAgICAgICBpZiAocG9zID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoIXRoaXMuZmllbGRzW3N0cmlwcGVkQml0c1twb3NdXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmxvYWRWYWx1ZShzdHJpcHBlZEJpdHNbcG9zXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHZhbCA9IHRoaXMuZmllbGRzW3N0cmlwcGVkQml0c1twb3NdXTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIXZhbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnVGhlIFZhbHVlIFsnICsgc3RyaXBwZWRCaXRzW3Bvc10gKyAnXSB3YXMgbm90IGZvdW5kLCBoYXZlIHlvdSBpbmNsdWRlZCBpdCBpbiB5b3VyIGZsb3cnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbC5Db250ZW50VHlwZSAhPT0gZUNvbnRlbnRUeXBlLkNvbnRlbnRPYmplY3QgJiYgdmFsLkNvbnRlbnRUeXBlICE9PSBlQ29udGVudFR5cGUuQ29udGVudExpc3QpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gdmFsLnZhbHVlIGFzIHN0cmluZztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gZGlkIGJpdHMgMCBnZXQgYSB2YWw/XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBlbGUgPSAodmFsLnZhbHVlIGFzIEZsb3dPYmplY3REYXRhKS5wcm9wZXJ0aWVzW3N0cmlwcGVkQml0c1twb3NdXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVsZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVsZS5jb250ZW50VHlwZSA9PT0gZUNvbnRlbnRUeXBlLkNvbnRlbnRPYmplY3QgfHwgZWxlLmNvbnRlbnRUeXBlID09PSBlQ29udGVudFR5cGUuQ29udGVudExpc3QpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWwgPSAodmFsLnZhbHVlIGFzIEZsb3dPYmplY3REYXRhKS5wcm9wZXJ0aWVzW3N0cmlwcGVkQml0c1twb3NdXS52YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gKHZhbC52YWx1ZSBhcyBGbG93T2JqZWN0RGF0YSkucHJvcGVydGllc1tzdHJpcHBlZEJpdHNbcG9zXV0udmFsdWUgYXMgc3RyaW5nO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSB2YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIG9uRG9uZSh4aHI6IFhNTEh0dHBSZXF1ZXN0LCByZXF1ZXN0OiBhbnkpIHtcclxuICAgICAgICBpZigobWFueXdobyBhcyBhbnkpLmV2ZW50TWFuYWdlci5vdXRjb21lQmVpbmdUcmlnZ2VyZWQgJiYgKG1hbnl3aG8gYXMgYW55KS5ldmVudE1hbmFnZXIub3V0Y29tZUJlaW5nVHJpZ2dlcmVkLmF0dHJpYnV0ZXMpIHtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGNvbnN0IG91dGNvbWU6IEZsb3dPdXRjb21lID0gKG1hbnl3aG8gYXMgYW55KS5ldmVudE1hbmFnZXIub3V0Y29tZUJlaW5nVHJpZ2dlcmVkO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgT2JqZWN0LmtleXMoKG1hbnl3aG8gYXMgYW55KS5ldmVudE1hbmFnZXIub3V0Y29tZUJlaW5nVHJpZ2dlcmVkLmF0dHJpYnV0ZXMpLmZvckVhY2goYXN5bmMgKGtleTogc3RyaW5nKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBhdHRyOiBGbG93QXR0cmlidXRlID0gKG1hbnl3aG8gYXMgYW55KS5ldmVudE1hbmFnZXIub3V0Y29tZUJlaW5nVHJpZ2dlcmVkLmF0dHJpYnV0ZXNba2V5XTtcclxuICAgICAgICAgICAgICAgIGxldCB0YXJnZXRVcmw6IEZsb3dBdHRyaWJ1dGU7XHJcbiAgICAgICAgICAgICAgICBzd2l0Y2goYXR0ci5uYW1lLnRvTG93ZXJDYXNlKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiYXV0b2Nsb3NlXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKGF0dHIudmFsdWUudG9Mb3dlckNhc2UoKSA9PT0gXCJ0cnVlXCIpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmNsb3NlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJhdXRvb3BlblwiOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0VXJsID0gb3V0Y29tZS5hdHRyaWJ1dGVzLkF1dG9PcGVuVXJsIHx8IHVuZGVmaW5lZDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZih0YXJnZXRVcmwgJiYgdGFyZ2V0VXJsLnZhbHVlLmxlbmd0aCA+IDApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHVybDogc3RyaW5nID0gYXdhaXQgdGhpcy5jYWxjdWxhdGVWYWx1ZSh0YXJnZXRVcmwudmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB3bmQgPSB3aW5kb3cub3Blbih1cmwsIFwiX2JsYW5rXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0KFwiTm8gJ0F1dG9PcGVuVXJsJyBzcGVjaWZpZWQgaW4gdGhlIG91dGNvbWUncyBhdHRyaWJ1dGVzXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJhdXRvbmF2XCI6XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcImF1dG9tb3ZlXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXRVcmwgPSBvdXRjb21lLmF0dHJpYnV0ZXMuQXV0b05hdlVybCB8fCB1bmRlZmluZWQ7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYodGFyZ2V0VXJsICYmIHRhcmdldFVybC52YWx1ZS5sZW5ndGggPiAwKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCB1cmw6IHN0cmluZyA9IGF3YWl0IHRoaXMuY2FsY3VsYXRlVmFsdWUodGFyZ2V0VXJsLnZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgd25kID0gd2luZG93Lm9wZW4odXJsLCBcIl9ibGFua1wiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGVydChcIk5vICdBdXRvTmF2VXJsJyBzcGVjaWZpZWQgaW4gdGhlIG91dGNvbWUncyBhdHRyaWJ1dGVzXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJhdXRvcHJpbnRcIjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5wcmludCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgXHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vdHVybiBvZiBtb3ZpbmcgZmxhZ1xyXG4gICAgICAgIHRoaXMuTG9hZGluZ1N0YXRlID0gZUxvYWRpbmdTdGF0ZS5yZWFkeTtcclxuICAgICAgICAobWFueXdobyBhcyBhbnkpLmV2ZW50TWFuYWdlci5vdXRjb21lQmVpbmdUcmlnZ2VyZWQgPSB1bmRlZmluZWQ7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIGFzeW5jIGNvbXBvbmVudERpZE1vdW50KCk6IFByb21pc2U8dm9pZD4ge1xyXG5cclxuICAgICAgICB0aGlzLkxvYWRpbmdTdGF0ZSA9IGVMb2FkaW5nU3RhdGUubW91bnRpbmc7XHJcbiAgICAgICAgLy9hZGQgb3V0Y29tZSBtYW5hZ2VyIHN0dWZmXHJcbiAgICAgICAgKG1hbnl3aG8gYXMgYW55KS5ldmVudE1hbmFnZXIuYWRkRG9uZUxpc3RlbmVyKHRoaXMub25Eb25lLHRoaXMuY29tcG9uZW50SWQgKyBcIl9jb3JlXCIpO1xyXG4gICAgICAgIChtYW55d2hvIGFzIGFueSkuZXZlbnRNYW5hZ2VyLmFkZEJlZm9yZVNlbmRMaXN0ZW5lcih0aGlzLm9uQmVmb3JlU2VuZCx0aGlzLmNvbXBvbmVudElkICsgXCJfY29yZVwiKTtcclxuXHJcbiAgICAgICAgLy8gcHJlc2VydmUgc3RhdGVcclxuICAgICAgICBjb25zdCBmbG93TW9kZWwgPSBtYW55d2hvLm1vZGVsLmdldENvbXBvbmVudCh0aGlzLkNvbXBvbmVudElkLCB0aGlzLkZsb3dLZXkpO1xyXG4gICAgICAgIGNvbnN0IGZsb3dTdGF0ZSA9IG1hbnl3aG8uc3RhdGUuZ2V0Q29tcG9uZW50KHRoaXMuY29tcG9uZW50SWQsIHRoaXMuZmxvd0tleSkgfHwge307XHJcblxyXG4gICAgICAgIHN3aXRjaCAoZmxvd01vZGVsLmNvbnRlbnRUeXBlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgJ0NvbnRlbnRPYmplY3QnOlxyXG4gICAgICAgICAgICAgICAgbGV0IG9iamVjdERhdGE6IGFueTtcclxuICAgICAgICAgICAgICAgIGlmIChmbG93U3RhdGUub2JqZWN0RGF0YSAmJiBmbG93U3RhdGUub2JqZWN0RGF0YS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgb2JqZWN0RGF0YSA9IGZsb3dTdGF0ZS5vYmplY3REYXRhO1xyXG4gICAgICAgICAgICAgICAgICAgIG9iamVjdERhdGEgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KG9iamVjdERhdGEpKTtcclxuICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnNldFN0YXRlVmFsdWUobmV3IEZsb3dPYmplY3REYXRhKG9iamVjdERhdGEpLHRydWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy9lbHNlIHtcclxuICAgICAgICAgICAgICAgIC8vICAgIG9iamVjdERhdGEgPSBmbG93TW9kZWwub2JqZWN0RGF0YTtcclxuICAgICAgICAgICAgICAgIC8vfVxyXG5cclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgLy9tYW55d2hvLnN0YXRlLnNldENvbXBvbmVudCh0aGlzLmNvbXBvbmVudElkLCBuZXdTdGF0ZSwgdGhpcy5mbG93S2V5LCB0cnVlKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgY2FzZSAnQ29udGVudExpc3QnOlxyXG4gICAgICAgICAgICAgICAgbGV0IGxpc3REYXRhOiBhbnk7XHJcbiAgICAgICAgICAgICAgICBpZiAoZmxvd1N0YXRlLm9iamVjdERhdGEgJiYgZmxvd1N0YXRlLm9iamVjdERhdGEubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxpc3REYXRhID0gZmxvd1N0YXRlLm9iamVjdERhdGE7XHJcbiAgICAgICAgICAgICAgICAgICAgbGlzdERhdGEgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGxpc3REYXRhKSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuc2V0U3RhdGVWYWx1ZShuZXcgRmxvd09iamVjdERhdGFBcnJheShsaXN0RGF0YSksdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvLyAgICBsaXN0RGF0YSA9IGZsb3dNb2RlbC5vYmplY3REYXRhXHJcbiAgICAgICAgICAgICAgICAvL31cclxuXHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIC8vbWFueXdoby5zdGF0ZS5zZXRDb21wb25lbnQodGhpcy5jb21wb25lbnRJZCwgbmV3U3RhdGUsIHRoaXMuZmxvd0tleSwgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnNldFN0YXRlVmFsdWUoZmxvd01vZGVsLmNvbnRlbnRWYWx1ZSx0cnVlKTtcclxuICAgICAgICAgICAgICAgIC8vZmxvd1N0YXRlLmNvbnRlbnRWYWx1ZSA9IGZsb3dNb2RlbC5jb250ZW50VmFsdWU7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuTG9hZGluZ1N0YXRlID0gZUxvYWRpbmdTdGF0ZS5tb3VudGVkO1xyXG4gICAgICAgIG1hbnl3aG8udXRpbHMucmVtb3ZlTG9hZGluZ0luZGljYXRvcignbG9hZGVyJyk7XHJcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBhc3luYyBjb21wb25lbnRXaWxsVW5tb3VudCgpOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgICAgICAobWFueXdobyBhcyBhbnkpLmV2ZW50TWFuYWdlci5yZW1vdmVCZWZvcmVTZW5kTGlzdGVuZXIodGhpcy5jb21wb25lbnRJZCArIFwiX2NvcmVcIik7XHJcbiAgICAgICAgKG1hbnl3aG8gYXMgYW55KS5ldmVudE1hbmFnZXIucmVtb3ZlRG9uZUxpc3RlbmVyKHRoaXMuY29tcG9uZW50SWQgKyBcIl9jb3JlXCIpO1xyXG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcclxuICAgIH1cclxuXHJcbiAgICBsb2FkT3V0Y29tZShvdXRjb21lSWQ6IHN0cmluZykgOiBGbG93T3V0Y29tZXtcclxuICAgICAgICBpZihvdXRjb21lSWQpIHtcclxuICAgICAgICAgICAgY29uc3Qgb3V0Y29tZSA9IG1hbnl3aG8ubW9kZWwuZ2V0T3V0Y29tZShvdXRjb21lSWQsIHRoaXMucHJvcHMuZmxvd0tleSk7XHJcbiAgICAgICAgICAgIGlmKG91dGNvbWUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuT3V0Y29tZXNbb3V0Y29tZS5kZXZlbG9wZXJOYW1lXSA9IG5ldyBGbG93T3V0Y29tZShvdXRjb21lKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLk91dGNvbWVzW291dGNvbWUuZGV2ZWxvcGVyTmFtZV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgbG9hZE91dGNvbWVzKCkge1xyXG5cclxuICAgICAgICB0aGlzLk91dGNvbWVzID0ge307XHJcblxyXG4gICAgICAgIC8vIGFkZCB0aGUgb3V0Y29tZXMgZnJvbSB0aGlzIGNvbXBvbmVudFxyXG4gICAgICAgIGxldCBvdXRzID0gbWFueXdoby5tb2RlbC5nZXRPdXRjb21lcyh0aGlzLnByb3BzLmlkLCB0aGlzLnByb3BzLmZsb3dLZXkpO1xyXG4gICAgICAgIGZvciAoY29uc3Qgb3V0Y29tZSBvZiBvdXRzKSB7XHJcbiAgICAgICAgICAgIHRoaXMuT3V0Y29tZXNbb3V0Y29tZS5kZXZlbG9wZXJOYW1lXSA9IG5ldyBGbG93T3V0Y29tZShvdXRjb21lKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gYW5kIHRoZSBvbmVzIGZyb20gdGhlIHBhcmVudCBwYWdlXHJcbiAgICAgICAgb3V0cyA9IG1hbnl3aG8ubW9kZWwuZ2V0T3V0Y29tZXMoJycsIHRoaXMucHJvcHMuZmxvd0tleSk7XHJcbiAgICAgICAgZm9yIChjb25zdCBvdXRjb21lIG9mIG91dHMpIHtcclxuICAgICAgICAgICAgdGhpcy5PdXRjb21lc1tvdXRjb21lLmRldmVsb3Blck5hbWVdID0gbmV3IEZsb3dPdXRjb21lKG91dGNvbWUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBnZXRPdXRjb21lQnlJZChvdXRjb21lSWQ6IHN0cmluZyk6IEZsb3dPdXRjb21lIHwgdW5kZWZpbmVkIHtcclxuICAgICAgICBsZXQgb2M7XHJcbiAgICAgICAgT2JqZWN0LmtleXModGhpcy5vdXRjb21lcykuZm9yRWFjaCgoa2V5OiBzdHJpbmcpID0+IHtcclxuICAgICAgICAgICAgaWYodGhpcy5vdXRjb21lc1trZXldLmlkID09PSBvdXRjb21lSWQpIHtcclxuICAgICAgICAgICAgICAgIG9jID0gdGhpcy5vdXRjb21lc1trZXldO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgaWYoIW9jKXtcclxuICAgICAgICAgICAgb2MgPSB0aGlzLmxvYWRPdXRjb21lKG91dGNvbWVJZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBvYztcclxuICAgIH1cclxuXHJcbiAgICBsb2FkQXR0cmlidXRlcygpIHtcclxuICAgICAgICBjb25zdCBtb2RlbCA9IG1hbnl3aG8ubW9kZWwuZ2V0Q29tcG9uZW50KHRoaXMuQ29tcG9uZW50SWQsIHRoaXMuRmxvd0tleSk7XHJcbiAgICAgICAgLy8gYWRkIHRoZSBhdHRyaWJ1dGVzXHJcbiAgICAgICAgY29uc3QgYXR0cnMgPSBtb2RlbC5hdHRyaWJ1dGVzO1xyXG4gICAgICAgIGlmIChhdHRycykge1xyXG4gICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBvZiBPYmplY3Qua2V5cyhhdHRycykpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuQXR0cmlidXRlc1trZXldID0gbmV3IEZsb3dBdHRyaWJ1dGUoa2V5LCBhdHRyc1trZXldKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBsb2FkTW9kZWwoKSB7XHJcbiAgICAgICAgY29uc3QgbW9kZWwgPSBtYW55d2hvLm1vZGVsLmdldENvbXBvbmVudCh0aGlzLkNvbXBvbmVudElkLCB0aGlzLkZsb3dLZXkpO1xyXG4gICAgICAgIGlmIChtb2RlbCkge1xyXG4gICAgICAgICAgICB0aGlzLk1vZGVsID0ge1xyXG4gICAgICAgICAgICAgICAgY29udGVudFR5cGU6IG1vZGVsLmNvbnRlbnRUeXBlLFxyXG4gICAgICAgICAgICAgICAgZGF0YVNvdXJjZTogIG5ldyBGbG93T2JqZWN0RGF0YUFycmF5KFtdKSxcclxuICAgICAgICAgICAgICAgIGRldmVsb3Blck5hbWU6IG1vZGVsLmRldmVsb3Blck5hbWUsXHJcbiAgICAgICAgICAgICAgICBkaXNwbGF5Q29sdW1uczogW10sXHJcbiAgICAgICAgICAgICAgICBlbmFibGVkOiAgbW9kZWwuaXNFbmFibGVkLFxyXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiAgbW9kZWwuaGVpZ2h0LFxyXG4gICAgICAgICAgICAgICAgaGVscEluZm86ICBtb2RlbC5oZWxwSW5mbyxcclxuICAgICAgICAgICAgICAgIGhpbnRJbmZvOiAgbW9kZWwuaGludFZhbHVlLFxyXG4gICAgICAgICAgICAgICAgam9pblVyaTogdGhpcy5qb2luVVJJLFxyXG4gICAgICAgICAgICAgICAgbGFiZWw6ICBtb2RlbC5sYWJlbCxcclxuICAgICAgICAgICAgICAgIG1heFNpemU6ICBtb2RlbC5tYXhTaXplLFxyXG4gICAgICAgICAgICAgICAgbXVsdGlTZWxlY3Q6ICBtb2RlbC5pc011bHRpU2VsZWN0LFxyXG4gICAgICAgICAgICAgICAgcmVhZE9ubHk6ICAhbW9kZWwuaXNFZGl0YWJsZSxcclxuICAgICAgICAgICAgICAgIHJlcXVpcmVkOiAgbW9kZWwuaXNSZXF1aXJlZCxcclxuICAgICAgICAgICAgICAgIHNpemU6ICBtb2RlbC5zaXplLFxyXG4gICAgICAgICAgICAgICAgdmFsaWRhdGlvbk1lc3NhZ2U6ICBtb2RlbC52YWxpZGF0aW9uTWVzc2FnZSxcclxuICAgICAgICAgICAgICAgIHZpc2libGU6ICBtb2RlbC5pc1Zpc2libGUsXHJcbiAgICAgICAgICAgICAgICB3aWR0aDogbW9kZWwud2lkdGgsXHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAvLyBnZXQgdGhlIGRhdGFzb3VyY2UgdmFsdWUgbmFtZVxyXG4gICAgICAgICAgICBjb25zdCBkcyA9IG1vZGVsLm9iamVjdERhdGE7XHJcbiAgICAgICAgICAgIGlmIChkcykge1xyXG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBvZCBvZiBkcykge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuTW9kZWwuZGF0YVNvdXJjZS5hZGRJdGVtKG5ldyBGbG93T2JqZWN0RGF0YShbb2RdKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGNvbnN0IGNvbHMgPSBtb2RlbC5jb2x1bW5zO1xyXG4gICAgICAgICAgICBpZiAoY29scykge1xyXG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBjb2wgb2YgY29scykge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuTW9kZWwuZGlzcGxheUNvbHVtbnMucHVzaChuZXcgRmxvd0Rpc3BsYXlDb2x1bW4oY29sKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgbG9hZFZhbHVlKHZhbHVlTmFtZTogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICAgICAgdGhpcy5Mb2FkaW5nU3RhdGUgPSBlTG9hZGluZ1N0YXRlLmxvYWRpbmc7XHJcblxyXG5cclxuICAgICAgICBjb25zdCB2YWx1ZTogYW55ID0gbWFueXdoby5jb25uZWN0aW9uLnJlcXVlc3QodGhpcywgXCJcIiwgdGhpcy52YWx1ZXVybCArIFwiL1wiICsgdmFsdWVOYW1lICwgJ0dFVCcsIHRoaXMuVGVuYW50SWQsIHRoaXMuU3RhdGVJZCwgbWFueXdoby5zdGF0ZS5nZXRBdXRoZW50aWNhdGlvblRva2VuKHRoaXMuRmxvd0tleSksIHt9KTtcclxuICAgICAgICBpZih2YWx1ZSkge1xyXG4gICAgICAgICAgICB0aGlzLkZpZWxkc1t2YWx1ZS5kZXZlbG9wZXJOYW1lXSA9IG5ldyBGbG93RmllbGQodmFsdWUpOyBcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuTG9hZGluZ1N0YXRlID0gZUxvYWRpbmdTdGF0ZS5yZWFkeTtcclxuXHJcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIGdldFJlc3VsdEJvZHlUZXh0KHJlc3BvbnNlOiBhbnkpIDogUHJvbWlzZTxzdHJpbmc+IHtcclxuICAgICAgICByZXR1cm4gcmVzcG9uc2UudGV4dCgpXHJcbiAgICAgICAgLnRoZW4oKHRleHQgOiBzdHJpbmcpID0+IHtcclxuICAgICAgICAgICAgaWYodGV4dC5zdGFydHNXaXRoKFwiXFxcIlwiKSkge1xyXG4gICAgICAgICAgICAgICAgdGV4dCA9IHRleHQuc3Vic3RyKDEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmKHRleHQuZW5kc1dpdGgoXCJcXFwiXCIpKSB7XHJcbiAgICAgICAgICAgICAgICB0ZXh0ID0gdGV4dC5zdWJzdHIoMCwgdGV4dC5sZW5ndGgtMSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHRleHQ7XHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICBcclxuICAgIGFzeW5jIGNhbGxSZXF1ZXN0KHVybDogc3RyaW5nLCBtZXRob2Q6IHN0cmluZywgZGF0YTogYW55LCBhdXRoZW50aWNhdGlvblRva2VuOiBzdHJpbmcpOiBQcm9taXNlPGFueT4ge1xyXG4gICAgICAgIGNvbnN0IHJlc3VsdHM6IGFueSA9IFtdO1xyXG4gICAgICAgIGNvbnN0IHJlcXVlc3Q6IFJlcXVlc3RJbml0ID0ge307XHJcblxyXG4gICAgICAgIHJlcXVlc3QubWV0aG9kID0gbWV0aG9kOyAgXHJcbiAgICAgICAgcmVxdWVzdC5oZWFkZXJzID0ge1xyXG4gICAgICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcclxuICAgICAgICAgICAgXCJBdXRob3JpemF0aW9uXCI6IGF1dGhlbnRpY2F0aW9uVG9rZW4sXHJcbiAgICAgICAgICAgIFwiTWFueVdob1RlbmFudFwiOiB0aGlzLnRlbmFudElkXHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXF1ZXN0LmNyZWRlbnRpYWxzPSBcInNhbWUtb3JpZ2luXCI7XHJcblxyXG4gICAgICAgIGlmKG1ldGhvZCA9PT0gXCJQT1NUXCIgfHwgbWV0aG9kID09PSBcIlBVVFwiKSB7XHJcbiAgICAgICAgICAgIHJlcXVlc3QuYm9keSA9IGRhdGE7XHJcbiAgICAgICAgfVxyXG4gICAgICAgICAgICBcclxuICAgICAgICBhd2FpdCBmZXRjaCh1cmwsIHJlcXVlc3QpXHJcbiAgICAgICAgLnRoZW4oYXN5bmMgKHJlc3BvbnNlOiBhbnkpID0+IHtcclxuICAgICAgICAgICAgaWYocmVzcG9uc2Uuc3RhdHVzID09PSAyMDApIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGpzb24gPSBhd2FpdCB0aGlzLmdldFJlc3VsdEJvZHlUZXh0KHJlc3BvbnNlKTtcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgSlNPTi5wYXJzZShqc29uKS5mb3JFYWNoKCh2YWx1ZSA6IGFueSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdHMucHVzaCh2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICB9KTs7XHJcblxyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJMb2FkZWQgVmFsdWVzXCIpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdHM7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvL2Vycm9yXHJcbiAgICAgICAgICAgICAgICBjb25zdCBlcnJvclRleHQgPSBhd2FpdCB0aGlzLmdldFJlc3VsdEJvZHlUZXh0KHJlc3BvbnNlKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiQ2FuJ3QgbG9hZCB2YWx1ZXMgLSBcIiArIGVycm9yVGV4dCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0cztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIFxyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIGNhbGxSZXF1ZXN0T2xkKCB1cmw6IHN0cmluZywgbWV0aG9kOiBzdHJpbmcsIGRhdGE6IGFueSk6IFByb21pc2U8YW55PiB7XHJcbiAgICAgICAgbGV0IG91dHB1dDogYW55O1xyXG4gICAgICAgIGNvbnN0IHhociA9IGF3YWl0IG1hbnl3aG8uY29ubmVjdGlvbi5yZXF1ZXN0KHRoaXMsIG51bGwsIHVybCAsIG1ldGhvZCwgdGhpcy5UZW5hbnRJZCwgdGhpcy5TdGF0ZUlkLCBtYW55d2hvLnN0YXRlLmdldEF1dGhlbnRpY2F0aW9uVG9rZW4odGhpcy5GbG93S2V5KSwgbnVsbClcclxuXHJcbiAgICAgICAgcmV0dXJuIHhocjtcclxuICAgIH1cclxuXHJcbiAgICBhc3luYyBsb2FkVmFsdWVzKCk6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgICAgIHRoaXMuTG9hZGluZ1N0YXRlID0gZUxvYWRpbmdTdGF0ZS5sb2FkaW5nO1xyXG4gICAgICAgIHRoaXMuRmllbGRzID0ge31cclxuICAgICAgICBjb25zdCB2YWx1ZXM6IGFueSA9IGF3YWl0IHRoaXMuY2FsbFJlcXVlc3RPbGQodGhpcy51cmwsJ0dFVCcse30pO1xyXG5cclxuICAgICAgICAoKHZhbHVlcyBhcyBBcnJheTxJRmxvd1N0YXRlVmFsdWU+KSB8fCBbXSkubWFwKCh2YWx1ZTogSUZsb3dTdGF0ZVZhbHVlKSA9PiB7XHJcbiAgICAgICAgICAgIGlmKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLkZpZWxkc1t2YWx1ZS5kZXZlbG9wZXJOYW1lXSA9IG5ldyBGbG93RmllbGQodmFsdWUpOyBcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBjb25zdCB1c2VydmFsID0gYXdhaXQgdGhpcy5jYWxsUmVxdWVzdE9sZCh0aGlzLnVzZXJ1cmwsJ0dFVCcse30pO1xyXG4gICAgICAgIC8vbWFueXdoby5jb25uZWN0aW9uLnJlcXVlc3QodGhpcywgXCJcIiwgdGhpcy51c2VydXJsICwgJ0dFVCcsIHRoaXMuVGVuYW50SWQsIHRoaXMuU3RhdGVJZCwgbWFueXdoby5zdGF0ZS5nZXRBdXRoZW50aWNhdGlvblRva2VuKHRoaXMuRmxvd0tleSksIHt9KTtcclxuICAgICAgICBpZih1c2VydmFsKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHUgPSBuZXcgRmxvd0ZpZWxkKHVzZXJ2YWwpO1xyXG4gICAgICAgICAgICBjb25zdCBwcm9wcyA9ICh1LnZhbHVlIGFzIEZsb3dPYmplY3REYXRhKS5wcm9wZXJ0aWVzO1xyXG4gICAgXHJcbiAgICAgICAgICAgIHRoaXMuVXNlciA9IHtcclxuICAgICAgICAgICAgICAgIGRpcmVjdG9yeUlkOiBwcm9wc1snRGlyZWN0b3J5IElkJ10udmFsdWUgYXMgc3RyaW5nLFxyXG4gICAgICAgICAgICAgICAgZGlyZWN0b3J5TmFtZTogcHJvcHNbJ0RpcmVjdG9yeSBOYW1lJ10udmFsdWUgYXMgc3RyaW5nLFxyXG4gICAgICAgICAgICAgICAgZW1haWw6IHByb3BzWydFbWFpbCddLnZhbHVlIGFzIHN0cmluZyB8fCAnbWFyaycsXHJcbiAgICAgICAgICAgICAgICBmaXJzdE5hbWU6IHByb3BzWydGaXJzdCBOYW1lJ10udmFsdWUgYXMgc3RyaW5nLFxyXG4gICAgICAgICAgICAgICAgZ3JvdXBJZDogcHJvcHNbJ1ByaW1hcnkgR3JvdXAgSWQnXS52YWx1ZSBhcyBzdHJpbmcsXHJcbiAgICAgICAgICAgICAgICBncm91cE5hbWU6IHByb3BzWydQcmltYXJ5IEdyb3VwIE5hbWUnXS52YWx1ZSBhcyBzdHJpbmcsXHJcbiAgICAgICAgICAgICAgICBpZDogcHJvcHNbJ1VzZXIgSUQnXS52YWx1ZSBhcyBzdHJpbmcsXHJcbiAgICAgICAgICAgICAgICBpcEFkZHJlc3M6IHByb3BzWydJUCBBZGRyZXNzJ10udmFsdWUgYXMgc3RyaW5nLFxyXG4gICAgICAgICAgICAgICAgbGFuZ3VhZ2U6IHByb3BzWydMYW5ndWFnZSddLnZhbHVlIGFzIHN0cmluZyxcclxuICAgICAgICAgICAgICAgIGxhc3ROYW1lOiBwcm9wc1snTGFzdCBOYW1lJ10udmFsdWUgYXMgc3RyaW5nLFxyXG4gICAgICAgICAgICAgICAgbG9jYXRpb246IHByb3BzWydMb2NhdGlvbiddLnZhbHVlIGFzIHN0cmluZyxcclxuICAgICAgICAgICAgICAgIHJvbGVJZDogcHJvcHNbJ1JvbGUgSWQnXS52YWx1ZSBhcyBzdHJpbmcsXHJcbiAgICAgICAgICAgICAgICByb2xlTmFtZTogcHJvcHNbJ1JvbGUgTmFtZSddLnZhbHVlIGFzIHN0cmluZyxcclxuICAgICAgICAgICAgICAgIHN0YXR1czogcHJvcHNbJ1N0YXR1cyddLnZhbHVlIGFzIHN0cmluZyxcclxuICAgICAgICAgICAgICAgIHVzZXJOYW1lOiBwcm9wc1snVXNlcm5hbWUnXS52YWx1ZSBhcyBzdHJpbmcsXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG5cclxuICAgICAgICB0aGlzLkxvYWRpbmdTdGF0ZSA9IGVMb2FkaW5nU3RhdGUucmVhZHk7XHJcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIGRvbnRMb2FkVmFsdWVzKCk6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgICAgIHRoaXMuTG9hZGluZ1N0YXRlID0gZUxvYWRpbmdTdGF0ZS5yZWFkeTtcclxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0U3RhdGVWYWx1ZSgpOiBzdHJpbmcgfCBib29sZWFuIHwgbnVtYmVyIHwgRGF0ZSB8IEZsb3dPYmplY3REYXRhIHwgRmxvd09iamVjdERhdGFBcnJheSB7XHJcbiAgICAgICAgY29uc3QgZmxvd1N0YXRlID0gbWFueXdoby5zdGF0ZS5nZXRDb21wb25lbnQodGhpcy5jb21wb25lbnRJZCwgdGhpcy5mbG93S2V5KSB8fCB7fTtcclxuICAgICAgICBjb25zdCBmbG93TW9kZWwgPSBtYW55d2hvLm1vZGVsLmdldENvbXBvbmVudCh0aGlzLkNvbXBvbmVudElkLCB0aGlzLkZsb3dLZXkpO1xyXG4gICAgICAgIHN3aXRjaCAoZmxvd01vZGVsLmNvbnRlbnRUeXBlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgJ0NvbnRlbnRPYmplY3QnOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBGbG93T2JqZWN0RGF0YShmbG93U3RhdGUub2JqZWN0RGF0YSAmJiBmbG93U3RhdGUub2JqZWN0RGF0YVswXT8gZmxvd1N0YXRlLm9iamVjdERhdGFbMF0gOiBmbG93TW9kZWwub2JqZWN0RGF0YVswXSk7XHJcblxyXG4gICAgICAgICAgICBjYXNlICdDb250ZW50TGlzdCc6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEZsb3dPYmplY3REYXRhQXJyYXkoZmxvd1N0YXRlLm9iamVjdERhdGE/IGZsb3dTdGF0ZS5vYmplY3REYXRhIDogZmxvd01vZGVsLm9iamVjdERhdGEpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZsb3dTdGF0ZS5jb250ZW50VmFsdWU/IGZsb3dTdGF0ZS5jb250ZW50VmFsdWUgOiBcIlwiO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGdldFN0YXRlVmFsdWVUeXBlKCk6IHN0cmluZyB8IGJvb2xlYW4gfCBudW1iZXIgfCBEYXRlIHwgRmxvd09iamVjdERhdGEgfCBGbG93T2JqZWN0RGF0YUFycmF5IHtcclxuICAgICAgICBjb25zdCBmbG93U3RhdGUgPSBtYW55d2hvLnN0YXRlLmdldENvbXBvbmVudCh0aGlzLmNvbXBvbmVudElkLCB0aGlzLmZsb3dLZXkpIHx8IHt9O1xyXG4gICAgICAgIGNvbnN0IGZsb3dNb2RlbCA9IG1hbnl3aG8ubW9kZWwuZ2V0Q29tcG9uZW50KHRoaXMuQ29tcG9uZW50SWQsIHRoaXMuRmxvd0tleSk7XHJcbiAgICAgICAgc3dpdGNoIChmbG93TW9kZWwuY29udGVudFR5cGUpIHtcclxuICAgICAgICAgICAgY2FzZSAnQ29udGVudE9iamVjdCc6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEZsb3dPYmplY3REYXRhKGZsb3dTdGF0ZS5vYmplY3REYXRhICYmIGZsb3dTdGF0ZS5vYmplY3REYXRhWzBdPyBmbG93U3RhdGUub2JqZWN0RGF0YVswXSA6IGZsb3dNb2RlbC5vYmplY3REYXRhWzBdKTtcclxuXHJcbiAgICAgICAgICAgIGNhc2UgJ0NvbnRlbnRMaXN0JzpcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgRmxvd09iamVjdERhdGFBcnJheShmbG93U3RhdGUub2JqZWN0RGF0YT8gZmxvd1N0YXRlLm9iamVjdERhdGEgOiBmbG93TW9kZWwub2JqZWN0RGF0YSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmxvd1N0YXRlLmNvbnRlbnRWYWx1ZT8gZmxvd1N0YXRlLmNvbnRlbnRWYWx1ZSA6IFwiXCIgO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICBhc3luYyBzZXRTdGF0ZVZhbHVlKHZhbHVlOiBzdHJpbmcgfCBib29sZWFuIHwgbnVtYmVyIHwgRGF0ZSB8IEZsb3dPYmplY3REYXRhIHwgRmxvd09iamVjdERhdGFBcnJheSwgaWdub3JlU3RhdGU/OiBib29sZWFuKTogUHJvbWlzZTx2b2lkPiB7XHJcblxyXG4gICAgICAgIGlmKHRoaXMuTG9hZGluZ1N0YXRlID09PSBlTG9hZGluZ1N0YXRlLm1vdW50aW5nIHx8IHRoaXMuTG9hZGluZ1N0YXRlID09PSBlTG9hZGluZ1N0YXRlLnJlYWR5KSB7XHJcbiAgICAgICAgICAgIGxldCBvbGRTdGF0ZTogZUxvYWRpbmdTdGF0ZSA9IHRoaXMubG9hZGluZ1N0YXRlO1xyXG4gICAgICAgICAgICB0aGlzLkxvYWRpbmdTdGF0ZSA9IGVMb2FkaW5nU3RhdGUuc2F2aW5nO1xyXG5cclxuICAgICAgICAgICAgY29uc3QgZmxvd01vZGVsID0gbWFueXdoby5tb2RlbC5nZXRDb21wb25lbnQodGhpcy5Db21wb25lbnRJZCwgdGhpcy5GbG93S2V5KTtcclxuICAgICAgICAgICAgY29uc3QgZmxvd1N0YXRlID0gbWFueXdoby5zdGF0ZS5nZXRDb21wb25lbnQodGhpcy5jb21wb25lbnRJZCwgdGhpcy5mbG93S2V5KSB8fCB7fTtcclxuICAgICAgICAgICAgbGV0IG5ld1N0YXRlOiBhbnk7XHJcblxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgc3dpdGNoIChmbG93TW9kZWwuY29udGVudFR5cGUpIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ0NvbnRlbnRPYmplY3QnOlxyXG4gICAgICAgICAgICAgICAgICAgIGxldCBvYmplY3REYXRhOiBhbnkgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdERhdGEgPSAodmFsdWUgYXMgRmxvd09iamVjdERhdGEpLmlGbG93T2JqZWN0RGF0YUFycmF5KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdERhdGEgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KG9iamVjdERhdGEpKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgbmV3U3RhdGUgPSB7IFwib2JqZWN0RGF0YVwiOiBvYmplY3REYXRhIH07XHJcbiAgICAgICAgICAgICAgICAgICAgLy9uZXdTdGF0ZSA9IHsgb2JqZWN0RGF0YSB9O1xyXG4gICAgICAgICAgICAgICAgICAgIG1hbnl3aG8uc3RhdGUuc2V0Q29tcG9uZW50KHRoaXMuY29tcG9uZW50SWQsIG5ld1N0YXRlLCB0aGlzLmZsb3dLZXksIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgIGNhc2UgJ0NvbnRlbnRMaXN0JzpcclxuICAgICAgICAgICAgICAgICAgICBsZXQgb2JqZWN0RGF0YUFycmF5OiBhbnkgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdERhdGFBcnJheSA9ICh2YWx1ZSBhcyBGbG93T2JqZWN0RGF0YUFycmF5KS5pRmxvd09iamVjdERhdGFBcnJheSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvYmplY3REYXRhQXJyYXkgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KG9iamVjdERhdGFBcnJheSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBuZXdTdGF0ZSA9IHsgXCJvYmplY3REYXRhXCI6IG9iamVjdERhdGFBcnJheSB9O1xyXG4gICAgICAgICAgICAgICAgICAgIG1hbnl3aG8uc3RhdGUuc2V0Q29tcG9uZW50KHRoaXMuY29tcG9uZW50SWQsIG5ld1N0YXRlLCB0aGlzLmZsb3dLZXksIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgIGNhc2UgJ0NvbnRlbnREYXRlJzpcclxuICAgICAgICAgICAgICAgICAgICBuZXdTdGF0ZSA9IHsgXCJjb250ZW50VmFsdWVcIjogKHZhbHVlIGFzIERhdGUpLnRvSVNPU3RyaW5nKCkgfTtcclxuICAgICAgICAgICAgICAgICAgICBtYW55d2hvLnN0YXRlLnNldENvbXBvbmVudCh0aGlzLmNvbXBvbmVudElkLCBuZXdTdGF0ZSwgdGhpcy5mbG93S2V5LCB0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICAvL2Zsb3dTdGF0ZS5jb250ZW50VmFsdWUgPSAodmFsdWUgYXMgRGF0ZSkudG9JU09TdHJpbmcoKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgIG5ld1N0YXRlID0geyBcImNvbnRlbnRWYWx1ZVwiOiB2YWx1ZSB9O1xyXG4gICAgICAgICAgICAgICAgICAgIG1hbnl3aG8uc3RhdGUuc2V0Q29tcG9uZW50KHRoaXMuY29tcG9uZW50SWQsIG5ld1N0YXRlLCB0aGlzLmZsb3dLZXksIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vZmxvd1N0YXRlLmNvbnRlbnRWYWx1ZSA9IHZhbHVlIGFzIHN0cmluZztcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMuTG9hZGluZ1N0YXRlID0gb2xkU3RhdGU7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBcclxuXHJcbiAgICAgICAgICAgIC8vbWFueXdoby5jb21wb25lbnQuaGFuZGxlRXZlbnQodGhpcyxtYW55d2hvLm1vZGVsLmdldENvbXBvbmVudCh0aGlzLkNvbXBvbmVudElkLHRoaXMuRmxvd0tleSksdGhpcy5GbG93S2V5LG51bGwpO1xyXG4gICAgICAgICAgICAvL2F3YWl0IG1hbnl3aG8uZW5naW5lLnN5bmModGhpcy5mbG93S2V5KTtcclxuXHJcbiAgICAgICAgICAgIGlmKG1hbnl3aG8uY29sbGFib3JhdGlvbi5pc0luaXRpYWxpemVkKHRoaXMuZmxvd0tleSkpIHtcclxuICAgICAgICAgICAgICAgIC8vbWFueXdoby5jb2xsYWJvcmF0aW9uLnN5bmModGhpcy5mbG93S2V5KTtcclxuICAgICAgICAgICAgICAgIC8vdXBkYXRlRmllbGRzLmZvckVhY2goKGZpZWxkOiBJRmxvd0ZpZWxkKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAvLyAgICBtYW55d2hvLmNvbGxhYm9yYXRpb24ucHVzaCh0aGlzLkNvbXBvbmVudElkLHtcIm1lc3NhZ2VcIjoge1wiYWN0aW9uXCI6XCJSRUZSRVNIX0ZJRUxEXCIsXCJmaWVsZE5hbWVcIjogZmllbGQuZGV2ZWxvcGVyTmFtZSB9fSx0aGlzLmZsb3dLZXkpO1xyXG4gICAgICAgICAgICAgICAgLy99KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vbWFueXdoby5jb21wb25lbnQuaGFuZGxlRXZlbnQodGhpcyxtYW55d2hvLm1vZGVsLmdldENvbXBvbmVudCh0aGlzLmNvbXBvbmVudElkLCB0aGlzLmZsb3dLZXkpLHRoaXMuRmxvd0tleSwgdGhpcy5ldmVudEhhbmRsZWQpO1xyXG4gICAgICAgICAvL21hbnl3aG8uZW5naW5lLnN5bmModGhpcy5mbG93S2V5KTtcclxuICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIGV2ZW50SGFuZGxlZChhPzogYW55LCBiPzogYW55KSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJwaW5nXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIHVwZGF0ZVZhbHVlcyh2YWx1ZXM6IEZsb3dGaWVsZFtdIHwgRmxvd0ZpZWxkKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICAgICAgdGhpcy5Mb2FkaW5nU3RhdGUgPSBlTG9hZGluZ1N0YXRlLnNhdmluZztcclxuICAgICAgICAvL3RoaXMuZm9yY2VVcGRhdGUoKTtcclxuXHJcbiAgICAgICAgY29uc3QgdXBkYXRlRmllbGRzOiBJRmxvd0ZpZWxkW10gPSBbXTtcclxuXHJcbiAgICAgICAgaWYodmFsdWVzLmNvbnN0cnVjdG9yLm5hbWUgPT09IEZsb3dGaWVsZC5uYW1lKSB7XHJcbiAgICAgICAgICAgIHVwZGF0ZUZpZWxkcy5wdXNoKCh2YWx1ZXMgYXMgRmxvd0ZpZWxkKS5pRmxvd0ZpZWxkKCkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBmb3IgKGNvbnN0IGZpZWxkIG9mICh2YWx1ZXMgYXMgQXJyYXk8Rmxvd0ZpZWxkPikpIHtcclxuICAgICAgICAgICAgICAgIHVwZGF0ZUZpZWxkcy5wdXNoKGZpZWxkLmlGbG93RmllbGQoKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcblxyXG4gICAgICAgIGF3YWl0IG1hbnl3aG8uY29ubmVjdGlvbi5yZXF1ZXN0KHRoaXMsIG51bGwsIHRoaXMudXJsICwgJ1BPU1QnLCB0aGlzLlRlbmFudElkLCB0aGlzLlN0YXRlSWQsIG1hbnl3aG8uc3RhdGUuZ2V0QXV0aGVudGljYXRpb25Ub2tlbih0aGlzLkZsb3dLZXkpLCB1cGRhdGVGaWVsZHMpO1xyXG4gICAgICAgIC8vbWFueXdoby5jb21wb25lbnQuaGFuZGxlRXZlbnQodGhpcyxtYW55d2hvLm1vZGVsLmdldENvbXBvbmVudCh0aGlzLkNvbXBvbmVudElkLHRoaXMuRmxvd0tleSksdGhpcy5GbG93S2V5LG51bGwpO1xyXG4gICAgICAgIC8vYXdhaXQgbWFueXdoby5lbmdpbmUuc3luYyh0aGlzLmZsb3dLZXkpO1xyXG5cclxuICAgICAgICBpZihtYW55d2hvLmNvbGxhYm9yYXRpb24uaXNJbml0aWFsaXplZCh0aGlzLmZsb3dLZXkpKSB7XHJcbiAgICAgICAgICAgIC8vbWFueXdoby5jb2xsYWJvcmF0aW9uLnN5bmModGhpcy5mbG93S2V5KTtcclxuICAgICAgICAgICAgdXBkYXRlRmllbGRzLmZvckVhY2goKGZpZWxkOiBJRmxvd0ZpZWxkKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBtYW55d2hvLmNvbGxhYm9yYXRpb24ucHVzaCh0aGlzLkNvbXBvbmVudElkLHtcIm1lc3NhZ2VcIjoge1wiYWN0aW9uXCI6XCJSRUZSRVNIX0ZJRUxEXCIsXCJmaWVsZE5hbWVcIjogZmllbGQuZGV2ZWxvcGVyTmFtZSB9fSx0aGlzLmZsb3dLZXkpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5Mb2FkaW5nU3RhdGUgPSBlTG9hZGluZ1N0YXRlLnJlYWR5O1xyXG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcclxuICAgIH1cclxuXHJcbiAgICAvL3NlbmRzIGEgY29sbGFib3JhdGlvbiBtZXNzYWdlIGJ1dCBsaW1pdGVkIHRvIDEgY2FsbCBldmVyeSAxMDBtc1xyXG4gICAgc2VuZENvbGxhYm9yYXRpb25NZXNzYWdlID0gdGhyb3R0bGUodGhpcy5fc2VuZENvbGxhYm9yYXRpb25NZXNzYWdlLCAxMDAsIG51bGwpO1xyXG4gICAgX3NlbmRDb2xsYWJvcmF0aW9uTWVzc2FnZShtZXNzYWdlOiBhbnkpe1xyXG4gICAgICAgIGlmKG1hbnl3aG8uY29sbGFib3JhdGlvbi5pc0luaXRpYWxpemVkKHRoaXMuZmxvd0tleSkpIHtcclxuICAgICAgICAgICAgLy9tYW55d2hvLmNvbGxhYm9yYXRpb24uc3luYyh0aGlzLmZsb3dLZXkpO1xyXG4gICAgICAgICAgICBtYW55d2hvLmNvbGxhYm9yYXRpb24ucHVzaCh0aGlzLkNvbXBvbmVudElkLHtcIm1lc3NhZ2VcIjogbWVzc2FnZX0sdGhpcy5mbG93S2V5KTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgXHJcbiAgICBcclxuXHJcbiAgICBcclxuICAgIC8vdHJpZ2dlcnMgdGhlIHNwZWNpZmllZCBvdXRjb21lLCBvcHRpb25hbGx5IHBhc3NlcyBhIGRhdGEgb2JqZWN0IFxyXG4gICAgYXN5bmMgdHJpZ2dlck91dGNvbWUob3V0Y29tZU5hbWU6IHN0cmluZywgZGF0YT86IElGbG93T2JqZWN0RGF0YVtdKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICAgICAgdGhpcy5Mb2FkaW5nU3RhdGUgPSBlTG9hZGluZ1N0YXRlLm1vdmluZztcclxuICAgICAgICAvL3RoaXMuZm9yY2VVcGRhdGUoKTtcclxuXHJcbiAgICAgICAgaWYgKCFkYXRhKSB7XHJcbiAgICAgICAgICAgIGRhdGEgPSBbXTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCBvYzogYW55O1xyXG4gICAgICAgIGlmICh0aGlzLm91dGNvbWVzW291dGNvbWVOYW1lXSkge1xyXG4gICAgICAgICAgICBvYyA9IHRoaXMub3V0Y29tZXNbb3V0Y29tZU5hbWVdLmlGbG93T3V0Y29tZSgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKG9jKSB7XHJcbiAgICAgICAgICAgIGF3YWl0IG1hbnl3aG8uY29tcG9uZW50Lm9uT3V0Y29tZShvYywgZGF0YSwgdGhpcy5GbG93S2V5KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmxvZygnQ291bGQgbm90IGZpbmQgb3V0Y29tZSAnICsgb3V0Y29tZU5hbWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy90cmlnZ2VycyB0aGUgc3BlY2lmaWVkIG91dGNvbWUsIG9wdGlvbmFsbHkgcGFzc2VzIGEgZGF0YSBvYmplY3QgXHJcbiAgICBhc3luYyBtb3ZlVG8oZmxvd0VsZW1lbnRJZDogc3RyaW5nLCBkYXRhPzogSUZsb3dPYmplY3REYXRhW10pOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgICAgICB0aGlzLkxvYWRpbmdTdGF0ZSA9IGVMb2FkaW5nU3RhdGUubW92aW5nO1xyXG4gICAgICAgIC8vdGhpcy5mb3JjZVVwZGF0ZSgpO1xyXG5cclxuICAgICAgICBpZiAoIWRhdGEpIHtcclxuICAgICAgICAgICAgZGF0YSA9IFtdO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvKlxyXG4gICAgICAgIGxldCBvYzogYW55O1xyXG4gICAgICAgIGlmICh0aGlzLm91dGNvbWVzW291dGNvbWVOYW1lXSkge1xyXG4gICAgICAgICAgICBvYyA9IHRoaXMub3V0Y29tZXNbb3V0Y29tZU5hbWVdLmlGbG93T3V0Y29tZSgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKG9jKSB7XHJcbiAgICAgICAgICAgIGF3YWl0IG1hbnl3aG8uY29tcG9uZW50Lm9uT3V0Y29tZShvYywgZGF0YSwgdGhpcy5GbG93S2V5KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmxvZygnQ291bGQgbm90IGZpbmQgb3V0Y29tZSAnICsgb3V0Y29tZU5hbWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAqL1xyXG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcclxuICAgIH1cclxuXHJcbiAgICBsb2cobWVzc2FnZTogc3RyaW5nKSB7XHJcbiAgICAgICAgY29uc3Qgbm93ID0gbmV3IERhdGUoKTtcclxuICAgICAgICBjb25zdCB0aW1lID0gWygnMCcgKyBub3cuZ2V0SG91cnMoKSkuc2xpY2UoLTIpLCAoJzAnICsgbm93LmdldE1pbnV0ZXMoKSkuc2xpY2UoLTIpLFxyXG4gICAgICAgICAgICAoJzAnICsgbm93LmdldFNlY29uZHMoKSkuc2xpY2UoLTIpXTtcclxuICAgICAgICBjb25zdCB0aW1lc3RhbXAgPSAnWycgKyB0aW1lLmpvaW4oJzonKSArICddICc7XHJcbiAgICAgICAgY29uc29sZS5sb2codGltZXN0YW1wICsgbWVzc2FnZSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy9oZWxwZXIgdG8gc2lsZW50bHkgbGF1bmNoIGEgZmxvd1xyXG4gICAgYXN5bmMgbGF1bmNoRmxvd1NpbGVudCh0ZW5hbnQ6IHN0cmluZywgZmxvd0lkOiBzdHJpbmcsIHBsYXllcjogc3RyaW5nLCBvYmplY3REYXRhPzogRmxvd09iamVjdERhdGFBcnJheSk6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgICAgIGNvbnN0IGJhc2VVcmwgPSBtYW55d2hvLnNldHRpbmdzLmdsb2JhbCgncGxhdGZvcm0udXJpJykgfHwgJ2h0dHBzOi8vZmxvdy5tYW55d2hvLmNvbSc7XHJcbiAgICAgICAgY29uc3QgdXJsID0gYCR7YmFzZVVybH0vYXBpL3J1bi8xL3N0YXRlYDtcclxuXHJcbiAgICAgICAgY29uc3QgZGF0YTogYW55ID0ge307XHJcbiAgICAgICAgZGF0YS5pZCA9IGZsb3dJZDtcclxuICAgICAgICBkYXRhLmRldmVsb3Blck5hbWUgPSBudWxsO1xyXG4gICAgICAgIGRhdGEuaW5wdXRzID0gb2JqZWN0RGF0YSA/IG9iamVjdERhdGEuaUZsb3dPYmplY3REYXRhQXJyYXkoKSA6IG51bGw7XHJcbiAgICAgICAgbWFueXdoby5jb25uZWN0aW9uLnJlcXVlc3QodGhpcywgXCJcIiwgdXJsICwgJ1BPU1QnLCB0aGlzLlRlbmFudElkLCBcIlwiLCBtYW55d2hvLnN0YXRlLmdldEF1dGhlbnRpY2F0aW9uVG9rZW4odGhpcy5GbG93S2V5KSwgZGF0YSk7XHJcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vaGVscGVyIHRvIG9wZW4gYSBzcGVjaWZpYyBmbG93IGluIGEgbmV3IHRhYlxyXG4gICAgYXN5bmMgbGF1bmNoRmxvd1RhYih0ZW5hbnQ6IHN0cmluZywgZmxvd0lkOiBzdHJpbmcsIHBsYXllcjogc3RyaW5nLCBvYmplY3REYXRhPzogRmxvd09iamVjdERhdGFBcnJheSk6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgICAgIGNvbnN0IGJhc2VVcmwgPSBtYW55d2hvLnNldHRpbmdzLmdsb2JhbCgncGxhdGZvcm0udXJpJykgfHwgJ2h0dHBzOi8vZmxvdy5ib29taS5jb20nO1xyXG4gICAgICAgIGNvbnN0IHVybCA9IGJhc2VVcmwgKyAnLycgKyB0ZW5hbnQgKyAnL3BsYXkvJyArIHBsYXllciArICc/Zmxvdy1pZD0nICsgZmxvd0lkO1xyXG5cclxuICAgICAgICB3aW5kb3cub3Blbih1cmwsICdfbmV3Jyk7XHJcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vdGhpcyB3aWxsIGdldCB0cmlnZ2VyZWQgYnkgdGhlIGNvbGxhYm9yYXRpb24gZW5naW5lXHJcbiAgICBhc3luYyBjb21wb25lbnREaWRVcGRhdGUoKTogUHJvbWlzZTxhbnk+IHtcclxuICAgICAgICBjb25zdCBzdGF0ZTogYW55ID0gbWFueXdoby5zdGF0ZS5nZXRDb21wb25lbnQodGhpcy5jb21wb25lbnRJZCwgdGhpcy5mbG93S2V5KSBhcyBJQ29tcG9uZW50VmFsdWU7XHJcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IHN0YXRlLm1lc3NhZ2U7XHJcbiAgICAgICAgdGhpcy5sb2FkTW9kZWwoKTtcclxuXHJcbiAgICAgICAgaWYobWVzc2FnZSkge1xyXG4gICAgICAgICAgICBtYW55d2hvLnN0YXRlLnNldENvbXBvbmVudCh0aGlzLmNvbXBvbmVudElkLHtcIm1lc3NhZ2VcIjoge319IGFzIGFueSwgdGhpcy5mbG93S2V5LCBmYWxzZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vJiYgc3RhdGUubWVzc2FnZS5hY3Rpb24gPT09IFwiUkVMT0FEVkFMVUVTXCJcclxuICAgICAgICBpZihtZXNzYWdlICYmIG1lc3NhZ2UuYWN0aW9uICkge1xyXG4gICAgICAgICAgICBzd2l0Y2ggKG1lc3NhZ2UuYWN0aW9uLnRvVXBwZXJDYXNlKCkpIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ1JFRlJFU0hfRklFTERTJzpcclxuICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmxvYWRWYWx1ZXMoKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgY2FzZSAnUkVGUkVTSF9GSUVMRCc6XHJcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5sb2FkVmFsdWUobWVzc2FnZS5maWVsZE5hbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7IFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xyXG4gICB9XHJcblxyXG4gICAvL3RoaXMgaXMgdXNlZCBieSBvdGhlciBjb21wb25lbnRzIHdobyBtaWdodCB3YW50IHRvIHNlbmQgaW4gYSBnZW5lcmljIHdpbmRvdyBtZXNzYWdlXHJcbiAgIC8vbm90aGluZyB0byBkbyB3aXRoIGNvbGxhYm9yYXRpb25cclxuICAgIGFzeW5jIHJlY2VpdmVNZXNzYWdlKG1lc3NhZ2U6IGFueSk6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgICAgIGlmIChtZXNzYWdlLmRhdGEpIHtcclxuICAgICAgICAgICAgY29uc3QgbXNnOiBhbnkgPSBtZXNzYWdlLmRhdGE7XHJcbiAgICAgICAgICAgIGlmIChtc2cuYWN0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKG1zZy5hY3Rpb24udG9VcHBlckNhc2UoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ09VVENPTUUnOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnRyaWdnZXJPdXRjb21lKG1zZy5kYXRhKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnUkVGUkVTSF9GSUVMRFMnOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5sb2FkVmFsdWVzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICBjYXNlICdSRUZSRVNIX0ZJRUxEJzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5sb2FkVmFsdWUobXNnLmZpZWxkTmFtZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmhhbmRsZU1lc3NhZ2UobXNnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIGhhbmRsZU1lc3NhZ2UobXNnOiBhbnkpOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XHJcbiAgICB9XHJcblxyXG59XHJcbiIsImV4cG9ydCBjbGFzcyBGbG93QXR0cmlidXRlIHtcclxuXHJcbiAgICBwcml2YXRlIE5hbWU6IHN0cmluZztcclxuICAgIHByaXZhdGUgVmFsdWU6IHN0cmluZztcclxuXHJcbiAgICBnZXQgbmFtZSgpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiB0aGlzLk5hbWU7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHZhbHVlKCk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuVmFsdWU7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3RydWN0b3IobmFtZTogc3RyaW5nLCB2YWx1ZTogc3RyaW5nKSB7XHJcbiAgICAgICAgdGhpcy5OYW1lID0gbmFtZTtcclxuICAgICAgICB0aGlzLlZhbHVlID0gdmFsdWU7XHJcbiAgICB9XHJcbn1cclxuIiwiZXhwb3J0ICogZnJvbSAnLi9GbG93Q29tcG9uZW50JztcclxuZXhwb3J0ICogZnJvbSAnLi9GbG93UGFnZSc7XHJcbmV4cG9ydCAqIGZyb20gJy4vTW9kYWxEaWFsb2cnO1xyXG5leHBvcnQgKiBmcm9tICcuL0ljb25QaWNrZXInO1xyXG4iLCJpbXBvcnQgeyBGbG93QmFzZUNvbXBvbmVudCB9IGZyb20gJy4vRmxvd0Jhc2VDb21wb25lbnQnO1xyXG5pbXBvcnQgeyAgSU1hbnl3aG8gfSBmcm9tICcuL2ludGVyZmFjZXMnO1xyXG5cclxuZGVjbGFyZSBjb25zdCBtYW55d2hvOiBJTWFueXdobztcclxuZGVjbGFyZSBjb25zdCAkOiBKUXVlcnlTdGF0aWM7XHJcblxyXG5leHBvcnQgY2xhc3MgRmxvd0NvbXBvbmVudCBleHRlbmRzIEZsb3dCYXNlQ29tcG9uZW50IHtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihwcm9wczogYW55KSB7XHJcbiAgICAgICAgc3VwZXIocHJvcHMpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIHRoZSBGbG93UGFnZSBhdXRvbWF0aWNhbGx5IGdldHMgdmFsdWVzXHJcbiAgICBhc3luYyBjb21wb25lbnREaWRNb3VudCgpIHtcclxuICAgICAgICBhd2FpdCBzdXBlci5jb21wb25lbnREaWRNb3VudCgpO1xyXG4gICAgICAgIGF3YWl0IHRoaXMuZG9udExvYWRWYWx1ZXMoKTtcclxuICAgIH1cclxuXHJcbiAgICBhc3luYyBjb21wb25lbnREaWRVcGRhdGUoKSB7XHJcbiAgICAgICAgYXdhaXQgc3VwZXIuY29tcG9uZW50RGlkVXBkYXRlKCk7XHJcbiAgICB9XHJcbn1cclxuIiwiZGVjbGFyZSBjb25zdCBtYW55d2hvOiBhbnk7XHJcblxyXG5pZiAoIShtYW55d2hvIGFzIGFueSkuZXZlbnRNYW5hZ2VyKSB7XHJcbiAgICAobWFueXdobyBhcyBhbnkpLmV2ZW50TWFuYWdlciA9IHt9O1xyXG4gICAgKG1hbnl3aG8gYXMgYW55KS5ldmVudE1hbmFnZXIuYmVmb3JlU2VuZExpc3RlbmVycyA9IHt9O1xyXG4gICAgKG1hbnl3aG8gYXMgYW55KS5ldmVudE1hbmFnZXIuZG9uZUxpc3RlbmVycyA9IHt9O1xyXG4gICAgKG1hbnl3aG8gYXMgYW55KS5ldmVudE1hbmFnZXIuZmFpbExpc3RlbmVycyA9IHt9O1xyXG4gICAgKG1hbnl3aG8gYXMgYW55KS5ldmVudE1hbmFnZXIub3V0Y29tZUJlaW5nVHJpZ2dlcmVkO1xyXG5cclxuICAgIChtYW55d2hvIGFzIGFueSkuZXZlbnRNYW5hZ2VyLmJlZm9yZVNlbmQgPSAoeGhyOiBYTUxIdHRwUmVxdWVzdCwgcmVxdWVzdDogYW55KSA9PiB7XHJcbiAgICAgICAgLy8obWFueXdobyBhcyBhbnkpLmV2ZW50TWFuYWdlci5iZWZvcmVTZW5kTGlzdGVuZXJzLmZvckVhY2goKGxpc3RlbmVyOiBhbnkpID0+IGxpc3RlbmVyKHhociwgcmVxdWVzdCkpO1xyXG4gICAgICAgIGZvcihjb25zdCBrZXkgaW4gKG1hbnl3aG8gYXMgYW55KS5ldmVudE1hbmFnZXIuYmVmb3JlU2VuZExpc3RlbmVycyApXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICAobWFueXdobyBhcyBhbnkpLmV2ZW50TWFuYWdlci5iZWZvcmVTZW5kTGlzdGVuZXJzW2tleV0oeGhyLCByZXF1ZXN0KTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIChtYW55d2hvIGFzIGFueSkuZXZlbnRNYW5hZ2VyLmRvbmUgPSAoeGhyOiBYTUxIdHRwUmVxdWVzdCwgcmVxdWVzdDogYW55KSA9PiB7XHJcbiAgICAgICAgLy8obWFueXdobyBhcyBhbnkpLmV2ZW50TWFuYWdlci5kb25lTGlzdGVuZXJzLmZvckVhY2goKGxpc3RlbmVyOiBhbnkpID0+IGxpc3RlbmVyKHhociwgcmVxdWVzdCkpO1xyXG4gICAgICAgIGZvcihjb25zdCBrZXkgaW4gKG1hbnl3aG8gYXMgYW55KS5ldmVudE1hbmFnZXIuZG9uZUxpc3RlbmVycyApXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICAobWFueXdobyBhcyBhbnkpLmV2ZW50TWFuYWdlci5kb25lTGlzdGVuZXJzW2tleV0oeGhyLCByZXF1ZXN0KTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIChtYW55d2hvIGFzIGFueSkuZXZlbnRNYW5hZ2VyLmZhaWwgPSAoeGhyOiBYTUxIdHRwUmVxdWVzdCwgcmVxdWVzdDogYW55KSA9PiB7XHJcbiAgICAgICAgLy8obWFueXdobyBhcyBhbnkpLmV2ZW50TWFuYWdlci5mYWlsTGlzdGVuZXJzLmZvckVhY2goKGxpc3RlbmVyOiBhbnkpID0+IGxpc3RlbmVyKHhociwgcmVxdWVzdCkpO1xyXG4gICAgICAgIGZvcihjb25zdCBrZXkgaW4gKG1hbnl3aG8gYXMgYW55KS5ldmVudE1hbmFnZXIuZmFpbExpc3RlbmVycyApXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICAobWFueXdobyBhcyBhbnkpLmV2ZW50TWFuYWdlci5mYWlsTGlzdGVuZXJzW2tleV0oeGhyLCByZXF1ZXN0KTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIChtYW55d2hvIGFzIGFueSkuZXZlbnRNYW5hZ2VyLmFkZEJlZm9yZVNlbmRMaXN0ZW5lciA9IChoYW5kbGVyOiAoeGhyOiBYTUxIdHRwUmVxdWVzdCwgcmVxdWVzdDogYW55KSA9PiB2b2lkLCBjb21wb25lbnRJZDogc3RyaW5nKSA9PiB7XHJcbiAgICAgICAgKG1hbnl3aG8gYXMgYW55KS5ldmVudE1hbmFnZXIuYmVmb3JlU2VuZExpc3RlbmVyc1tjb21wb25lbnRJZF0gPSBoYW5kbGVyO1xyXG4gICAgfTtcclxuXHJcbiAgICAobWFueXdobyBhcyBhbnkpLmV2ZW50TWFuYWdlci5yZW1vdmVCZWZvcmVTZW5kTGlzdGVuZXIgPSAoY29tcG9uZW50SWQ6IHN0cmluZykgPT4ge1xyXG4gICAgICAgIGRlbGV0ZSAobWFueXdobyBhcyBhbnkpLmV2ZW50TWFuYWdlci5iZWZvcmVTZW5kTGlzdGVuZXJzW2NvbXBvbmVudElkXTtcclxuICAgIH07XHJcblxyXG4gICAgKG1hbnl3aG8gYXMgYW55KS5ldmVudE1hbmFnZXIuYWRkRG9uZUxpc3RlbmVyID0gKGhhbmRsZXI6ICh4aHI6IFhNTEh0dHBSZXF1ZXN0LCByZXF1ZXN0OiBhbnkpID0+IHZvaWQsIGNvbXBvbmVudElkOiBzdHJpbmcpID0+IHtcclxuICAgICAgICAobWFueXdobyBhcyBhbnkpLmV2ZW50TWFuYWdlci5kb25lTGlzdGVuZXJzW2NvbXBvbmVudElkXSA9IGhhbmRsZXI7XHJcbiAgICB9O1xyXG5cclxuICAgIChtYW55d2hvIGFzIGFueSkuZXZlbnRNYW5hZ2VyLnJlbW92ZURvbmVMaXN0ZW5lciA9IChjb21wb25lbnRJZDogc3RyaW5nKSA9PiB7XHJcbiAgICAgICAgZGVsZXRlIChtYW55d2hvIGFzIGFueSkuZXZlbnRNYW5hZ2VyLmRvbmVMaXN0ZW5lcnNbY29tcG9uZW50SWRdO1xyXG4gICAgfTtcclxuXHJcbiAgICAobWFueXdobyBhcyBhbnkpLmV2ZW50TWFuYWdlci5hZGRGYWlsTGlzdGVuZXIgPSAoaGFuZGxlcjogKHhocjogWE1MSHR0cFJlcXVlc3QsIHJlcXVlc3Q6IGFueSkgPT4gdm9pZCwgY29tcG9uZW50SWQ6IHN0cmluZykgPT4ge1xyXG4gICAgICAgIChtYW55d2hvIGFzIGFueSkuZXZlbnRNYW5hZ2VyLmZhaWxMaXN0ZW5lcnNbY29tcG9uZW50SWRdID0gaGFuZGxlcjtcclxuICAgIH07XHJcblxyXG4gICAgKG1hbnl3aG8gYXMgYW55KS5ldmVudE1hbmFnZXIucmVtb3ZlRmFpbExpc3RlbmVyID0gKGNvbXBvbmVudElkOiBzdHJpbmcpID0+IHtcclxuICAgICAgICBkZWxldGUgKG1hbnl3aG8gYXMgYW55KS5ldmVudE1hbmFnZXIuZmFpbExpc3RlbmVyc1tjb21wb25lbnRJZF07XHJcbiAgICB9O1xyXG5cclxuICAgIG1hbnl3aG8uc2V0dGluZ3MuaW5pdGlhbGl6ZShudWxsLCB7XHJcbiAgICAgICAgaW52b2tlOiB7XHJcbiAgICAgICAgICAgIGJlZm9yZVNlbmQ6IChtYW55d2hvIGFzIGFueSkuZXZlbnRNYW5hZ2VyLmJlZm9yZVNlbmQsXHJcbiAgICAgICAgICAgIGRvbmU6IChtYW55d2hvIGFzIGFueSkuZXZlbnRNYW5hZ2VyLmRvbmUsXHJcbiAgICAgICAgICAgIGZhaWw6IChtYW55d2hvIGFzIGFueSkuZXZlbnRNYW5hZ2VyLmZhaWwsXHJcbiAgICAgICAgfSxcclxuICAgIH0pO1xyXG59XHJcblxyXG5leHBvcnR7fTsiLCJpbXBvcnQgeyBlQ29udGVudFR5cGUgfSBmcm9tIFwiLi9GbG93RmllbGRcIjtcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgSUZsb3dEaXNwbGF5Q29sdW1uIHtcclxuXHJcbiAgICBjb21wb25lbnRUeXBlOiBzdHJpbmc7XHJcbiAgICBjb250ZW50Rm9ybWF0OiBzdHJpbmc7XHJcbiAgICBjb250ZW50VHlwZTogc3RyaW5nO1xyXG4gICAgZGV2ZWxvcGVyTmFtZTogc3RyaW5nO1xyXG4gICAgaXNEaXNwbGF5VmFsdWU6IGJvb2xlYW47XHJcbiAgICBpc0VkaXRhYmxlOiBib29sZWFuO1xyXG4gICAgbGFiZWw6IHN0cmluZztcclxuICAgIG9yZGVyOiBudW1iZXI7XHJcbiAgICB0eXBlRWxlbWVudFByb3BlcnR5SWQ6IHN0cmluZztcclxuICAgIHR5cGVFbGVtZW10UHJvcGVydHlUb0Rpc3BsYXlJZDogc3RyaW5nO1xyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgRmxvd0Rpc3BsYXlDb2x1bW4ge1xyXG4gICAgcHJpdmF0ZSBDb21wb25lbnRUeXBlOiBzdHJpbmc7XHJcbiAgICBwcml2YXRlIENvbnRlbnRGb3JtYXQ6IHN0cmluZztcclxuICAgIHByaXZhdGUgQ29udGVudFR5cGU6IGVDb250ZW50VHlwZTtcclxuICAgIHByaXZhdGUgRGV2ZWxvcGVyTmFtZTogc3RyaW5nO1xyXG4gICAgcHJpdmF0ZSBWaXNpYmxlOiBib29sZWFuO1xyXG4gICAgcHJpdmF0ZSBSZWFkT25seTogYm9vbGVhbjtcclxuICAgIHByaXZhdGUgTGFiZWw6IHN0cmluZztcclxuICAgIHByaXZhdGUgRGlzcGxheU9yZGVyOiBudW1iZXI7XHJcbiAgICBwcml2YXRlIFR5cGVFbGVtZW50UHJvcGVydHlJZDogc3RyaW5nO1xyXG4gICAgcHJpdmF0ZSBUeXBlRWxlbWVtdFByb3BlcnR5VG9EaXNwbGF5SWQ6IHN0cmluZztcclxuICAgIHByaXZhdGUgQ29sdW1uOiBJRmxvd0Rpc3BsYXlDb2x1bW47XHJcblxyXG4gICAgZ2V0IGNvbXBvbmVudFR5cGUoKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5Db21wb25lbnRUeXBlO1xyXG4gICAgfVxyXG4gICAgZ2V0IGNvbnRlbnRGb3JtYXQoKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5Db250ZW50Rm9ybWF0O1xyXG4gICAgfVxyXG4gICAgZ2V0IGNvbnRlbnRUeXBlKCk6IGVDb250ZW50VHlwZSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuQ29udGVudFR5cGU7XHJcbiAgICB9XHJcbiAgICBnZXQgZGV2ZWxvcGVyTmFtZSgpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiB0aGlzLkRldmVsb3Blck5hbWU7XHJcbiAgICB9XHJcbiAgICBnZXQgdmlzaWJsZSgpOiBib29sZWFuIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5WaXNpYmxlO1xyXG4gICAgfVxyXG4gICAgZ2V0IHJlYWRPbmx5KCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLlJlYWRPbmx5O1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBsYWJlbCgpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiB0aGlzLkxhYmVsO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBkaXNwbGF5T3JkZXIoKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5EaXNwbGF5T3JkZXI7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHR5cGVFbGVtZW50UHJvcGVydHlJZCgpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiB0aGlzLlR5cGVFbGVtZW50UHJvcGVydHlJZDtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgdHlwZUVsZW1lbXRQcm9wZXJ0eVRvRGlzcGxheUlkKCk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuVHlwZUVsZW1lbXRQcm9wZXJ0eVRvRGlzcGxheUlkO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0cnVjdG9yKGNvbHVtbjogSUZsb3dEaXNwbGF5Q29sdW1uKSB7XHJcbiAgICAgICAgdGhpcy5Db2x1bW4gPSBjb2x1bW47XHJcbiAgICAgICAgdGhpcy5Db21wb25lbnRUeXBlID0gY29sdW1uLmNvbXBvbmVudFR5cGU7XHJcbiAgICAgICAgdGhpcy5Db250ZW50Rm9ybWF0ID0gY29sdW1uLmNvbnRlbnRGb3JtYXQ7XHJcbiAgICAgICAgdGhpcy5Db250ZW50VHlwZSA9IGVDb250ZW50VHlwZVtjb2x1bW4uY29udGVudFR5cGUgYXMga2V5b2YgdHlwZW9mIGVDb250ZW50VHlwZV07XHJcbiAgICAgICAgdGhpcy5EZXZlbG9wZXJOYW1lID0gY29sdW1uLmRldmVsb3Blck5hbWU7XHJcbiAgICAgICAgdGhpcy5EaXNwbGF5T3JkZXIgPSBjb2x1bW4ub3JkZXI7XHJcbiAgICAgICAgdGhpcy5MYWJlbCA9IGNvbHVtbi5sYWJlbDtcclxuICAgICAgICB0aGlzLlJlYWRPbmx5ID0gIWNvbHVtbi5pc0VkaXRhYmxlO1xyXG4gICAgICAgIHRoaXMuVHlwZUVsZW1lbXRQcm9wZXJ0eVRvRGlzcGxheUlkID0gY29sdW1uLnR5cGVFbGVtZW10UHJvcGVydHlUb0Rpc3BsYXlJZDtcclxuICAgICAgICB0aGlzLlR5cGVFbGVtZW50UHJvcGVydHlJZCA9IGNvbHVtbi50eXBlRWxlbWVudFByb3BlcnR5SWQ7XHJcbiAgICAgICAgdGhpcy5WaXNpYmxlID0gY29sdW1uLmlzRGlzcGxheVZhbHVlO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBpRmxvd0Rpc3BsYXlDb2x1bW4oKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuQ29sdW1uO1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCB7IGVDb250ZW50VHlwZSB9IGZyb20gJy4vRmxvd0ZpZWxkJztcclxuaW1wb3J0IHsgRmxvd09iamVjdERhdGEsIElGbG93T2JqZWN0RGF0YSB9IGZyb20gJy4vRmxvd09iamVjdERhdGEnO1xyXG5pbXBvcnQgeyBGbG93T2JqZWN0RGF0YUFycmF5IH0gZnJvbSAnLi9GbG93T2JqZWN0RGF0YUFycmF5JztcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgSUZsb3dPYmplY3REYXRhUHJvcGVydHkge1xyXG4gICAgY29udGVudEZvcm1hdDogc3RyaW5nIHwgbnVsbDtcclxuICAgIGNvbnRlbnRUeXBlOiBzdHJpbmc7XHJcbiAgICBjb250ZW50VmFsdWU6IHN0cmluZyB8IG51bWJlciB8IGJvb2xlYW4gfCBudWxsO1xyXG4gICAgZGV2ZWxvcGVyTmFtZTogc3RyaW5nO1xyXG4gICAgb2JqZWN0RGF0YTogSUZsb3dPYmplY3REYXRhW10gfCBudWxsO1xyXG4gICAgdHlwZUVsZW1lbnRJZDogc3RyaW5nIHwgbnVsbDtcclxuICAgIHR5cGVFbGVtZW50UHJvcGVydHlJZDogc3RyaW5nO1xyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgRmxvd09iamVjdERhdGFQcm9wZXJ0eSB7XHJcblxyXG4gICAgc3RhdGljIG5ld0luc3RhbmNlKGRldmVsb3Blck5hbWU6IHN0cmluZywgY29udGVudFR5cGU6IGVDb250ZW50VHlwZSwgdmFsdWU6IHN0cmluZyB8IG51bWJlciB8IGJvb2xlYW4gfCBGbG93T2JqZWN0RGF0YSB8IEZsb3dPYmplY3REYXRhQXJyYXkpIHtcclxuXHJcbiAgICAgICAgbGV0IGN2OiBzdHJpbmcgPVwiXCI7XHJcbiAgICAgICAgbGV0IG9iamQ6IElGbG93T2JqZWN0RGF0YVtdID0gW107XHJcblxyXG4gICAgICAgIHN3aXRjaCAoY29udGVudFR5cGUpIHtcclxuICAgICAgICAgICAgY2FzZSBlQ29udGVudFR5cGUuQ29udGVudE9iamVjdDpcclxuICAgICAgICAgICAgICAgIGNvbnN0IG9kOiBGbG93T2JqZWN0RGF0YSA9IHZhbHVlIGFzIEZsb3dPYmplY3REYXRhO1xyXG4gICAgICAgICAgICAgICAgb2JqZC5wdXNoKG9kLmlPYmplY3REYXRhKCkpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICBjYXNlIGVDb250ZW50VHlwZS5Db250ZW50TGlzdDpcclxuICAgICAgICAgICAgICAgIGNvbnN0IG9kYTogRmxvd09iamVjdERhdGFBcnJheSA9IHZhbHVlIGFzIEZsb3dPYmplY3REYXRhQXJyYXk7XHJcbiAgICAgICAgICAgICAgICBvYmpkID0gb2RhLmlGbG93T2JqZWN0RGF0YUFycmF5KCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICBjdiA9IHZhbHVlIGFzIHN0cmluZztcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBkYXRhOiBJRmxvd09iamVjdERhdGFQcm9wZXJ0eSA9IHtcclxuICAgICAgICAgICAgY29udGVudEZvcm1hdDogXCJcIixcclxuICAgICAgICAgICAgY29udGVudFR5cGU6IGVDb250ZW50VHlwZVtjb250ZW50VHlwZV0sXHJcbiAgICAgICAgICAgIGNvbnRlbnRWYWx1ZTogY3YsXHJcbiAgICAgICAgICAgIGRldmVsb3Blck5hbWUsXHJcbiAgICAgICAgICAgIG9iamVjdERhdGE6IG9iamQsXHJcbiAgICAgICAgICAgIHR5cGVFbGVtZW50SWQ6IFwiXCIsXHJcbiAgICAgICAgICAgIHR5cGVFbGVtZW50UHJvcGVydHlJZDogXCJcIixcclxuICAgICAgICB9O1xyXG4gICAgICAgIHJldHVybiBuZXcgdGhpcyhkYXRhKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIENvbnRlbnRGb3JtYXQ6IHN0cmluZyA9IFwiXCI7XHJcbiAgICBwcml2YXRlIENvbnRlbnRUeXBlOiBlQ29udGVudFR5cGUgPSBlQ29udGVudFR5cGUudW5rbm93bjtcclxuICAgIHByaXZhdGUgRGV2ZWxvcGVyTmFtZTogc3RyaW5nID0gXCJcIjtcclxuICAgIHByaXZhdGUgVHlwZUVsZW1lbnRJZDogc3RyaW5nID0gXCJcIjtcclxuICAgIHByaXZhdGUgVHlwZUVsZW1lbnRQcm9wZXJ0eUlkOiBzdHJpbmc9IFwiXCI7XHJcbiAgICBwcml2YXRlIFZhbHVlOiBzdHJpbmcgfCBudW1iZXIgfCBib29sZWFuIHwgRmxvd09iamVjdERhdGEgfCBGbG93T2JqZWN0RGF0YUFycmF5IHwgdW5kZWZpbmVkO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHByb3BlcnR5OiBJRmxvd09iamVjdERhdGFQcm9wZXJ0eSB8IHVuZGVmaW5lZCkge1xyXG4gICAgICAgIGlmKHByb3BlcnR5KSB7XHJcbiAgICAgICAgICAgIHRoaXMuRGV2ZWxvcGVyTmFtZSA9IHByb3BlcnR5LmRldmVsb3Blck5hbWU7XHJcbiAgICAgICAgICAgIHRoaXMuQ29udGVudFR5cGUgPSBlQ29udGVudFR5cGVbcHJvcGVydHkuY29udGVudFR5cGUgYXMga2V5b2YgdHlwZW9mIGVDb250ZW50VHlwZV07XHJcbiAgICAgICAgICAgIHRoaXMuQ29udGVudEZvcm1hdCA9IHByb3BlcnR5LmNvbnRlbnRGb3JtYXQ/IHByb3BlcnR5LmNvbnRlbnRGb3JtYXQgOiBcIlwiO1xyXG4gICAgICAgICAgICB0aGlzLlR5cGVFbGVtZW50SWQgPSBwcm9wZXJ0eS50eXBlRWxlbWVudElkPyBwcm9wZXJ0eS50eXBlRWxlbWVudElkIDogXCJcIjtcclxuICAgICAgICAgICAgdGhpcy5UeXBlRWxlbWVudFByb3BlcnR5SWQgPSBwcm9wZXJ0eS50eXBlRWxlbWVudFByb3BlcnR5SWQ7XHJcblxyXG4gICAgICAgICAgICBzd2l0Y2ggKHRoaXMuQ29udGVudFR5cGUpIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgZUNvbnRlbnRUeXBlLkNvbnRlbnRPYmplY3Q6XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5WYWx1ZSA9IHByb3BlcnR5Lm9iamVjdERhdGEgPyBuZXcgRmxvd09iamVjdERhdGEocHJvcGVydHkub2JqZWN0RGF0YSkgOiB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgY2FzZSBlQ29udGVudFR5cGUuQ29udGVudExpc3Q6XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy52YWx1ZSA9IHByb3BlcnR5Lm9iamVjdERhdGEgPyBuZXcgRmxvd09iamVjdERhdGFBcnJheShwcm9wZXJ0eS5vYmplY3REYXRhKSA6IG5ldyBGbG93T2JqZWN0RGF0YUFycmF5KFtdKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudmFsdWUgPSBwcm9wZXJ0eS5jb250ZW50VmFsdWU/IHByb3BlcnR5LmNvbnRlbnRWYWx1ZSA6IFwiXCIgO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGdldCBjb250ZW50Rm9ybWF0KCk6IHN0cmluZyB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLkNvbnRlbnRGb3JtYXQ7XHJcbiAgICAgICAgfVxyXG4gICAgc2V0IGNvbnRlbnRGb3JtYXQoY29udGVudEZvcm1hdDogc3RyaW5nKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY29udGVudEZvcm1hdCA9IGNvbnRlbnRGb3JtYXQ7XHJcbiAgICAgICAgfVxyXG5cclxuICAgIGdldCBjb250ZW50VHlwZSgpOiBlQ29udGVudFR5cGUge1xyXG4gICAgICAgIHJldHVybiB0aGlzLkNvbnRlbnRUeXBlO1xyXG4gICAgICAgIH1cclxuICAgIHNldCBjb250ZW50VHlwZShjb250ZW50VHlwZTogZUNvbnRlbnRUeXBlKSB7XHJcbiAgICAgICAgdGhpcy5Db250ZW50VHlwZSA9IGNvbnRlbnRUeXBlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICBnZXQgZGV2ZWxvcGVyTmFtZSgpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiB0aGlzLkRldmVsb3Blck5hbWU7XHJcbiAgICAgICAgfVxyXG4gICAgc2V0IGRldmVsb3Blck5hbWUoZGV2ZWxvcGVyTmFtZTogc3RyaW5nKSB7XHJcbiAgICAgICAgdGhpcy5EZXZlbG9wZXJOYW1lID0gZGV2ZWxvcGVyTmFtZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgZ2V0IHR5cGVFbGVtZW50SWQoKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5UeXBlRWxlbWVudElkO1xyXG4gICAgICAgIH1cclxuICAgIHNldCB0eXBlRWxlbWVudElkKHR5cGVFbGVtZW50SWQ6IHN0cmluZykge1xyXG4gICAgICAgIHRoaXMuVHlwZUVsZW1lbnRJZCA9IHR5cGVFbGVtZW50SWQ7XHJcbiAgICAgICAgfVxyXG5cclxuICAgIGdldCB0eXBlRWxlbWVudFByb3BlcnR5SWQoKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5UeXBlRWxlbWVudFByb3BlcnR5SWQ7XHJcbiAgICAgICAgfVxyXG4gICAgc2V0IHR5cGVFbGVtZW50UHJvcGVydHlJZCh0eXBlRWxlbWVudFByb3BlcnR5SWQ6IHN0cmluZykge1xyXG4gICAgICAgIHRoaXMuVHlwZUVsZW1lbnRQcm9wZXJ0eUlkID0gdHlwZUVsZW1lbnRQcm9wZXJ0eUlkO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICBnZXQgdmFsdWUoKTogc3RyaW5nIHwgbnVtYmVyIHwgYm9vbGVhbiB8IEZsb3dPYmplY3REYXRhIHwgRmxvd09iamVjdERhdGFBcnJheSB8IHVuZGVmaW5lZCB7XHJcbiAgICAgICAgc3dpdGNoICh0aGlzLmNvbnRlbnRUeXBlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgZUNvbnRlbnRUeXBlLkNvbnRlbnROdW1iZXI6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcGFyc2VGbG9hdCh0aGlzLlZhbHVlID8gdGhpcy5WYWx1ZSBhcyBzdHJpbmcgOiAnMCcpO1xyXG5cclxuICAgICAgICAgICAgY2FzZSBlQ29udGVudFR5cGUuQ29udGVudEJvb2xlYW46XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFN0cmluZyh0aGlzLlZhbHVlKS50b0xvd2VyQ2FzZSgpID09PSAndHJ1ZSc7XHJcblxyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuVmFsdWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxuXHJcbiAgICBzZXQgdmFsdWUodmFsdWU6IHN0cmluZyB8IG51bWJlciB8IGJvb2xlYW4gfCBGbG93T2JqZWN0RGF0YSB8IEZsb3dPYmplY3REYXRhQXJyYXkgfCB1bmRlZmluZWQpIHtcclxuICAgICAgICB0aGlzLlZhbHVlID0gdmFsdWU7XHJcbiAgICB9XHJcblxyXG4gICAgY2xvbmUoKSA6IEZsb3dPYmplY3REYXRhUHJvcGVydHkge1xyXG5cclxuICAgICAgICBsZXQgdmFsdWU6IGFueTtcclxuICAgICAgICBzd2l0Y2godGhpcy5jb250ZW50VHlwZSkge1xyXG4gICAgICAgICAgICBjYXNlIGVDb250ZW50VHlwZS5Db250ZW50TGlzdDogXHJcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IG5ldyBGbG93T2JqZWN0RGF0YUFycmF5KCk7XHJcbiAgICAgICAgICAgICAgICAodGhpcy52YWx1ZSBhcyBGbG93T2JqZWN0RGF0YUFycmF5KS5pdGVtcy5mb3JFYWNoKChpdGVtOiBGbG93T2JqZWN0RGF0YSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICh2YWx1ZSBhcyBGbG93T2JqZWN0RGF0YUFycmF5KS5hZGRJdGVtKGl0ZW0uY2xvbmUoaXRlbS5kZXZlbG9wZXJOYW1lKSk7XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICBjYXNlIGVDb250ZW50VHlwZS5Db250ZW50T2JqZWN0OlxyXG4gICAgICAgICAgICAgICAgdmFsdWU9KHRoaXMudmFsdWUgYXMgRmxvd09iamVjdERhdGEpLmNsb25lKCh0aGlzLnZhbHVlIGFzIEZsb3dPYmplY3REYXRhKS5kZXZlbG9wZXJOYW1lKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIHZhbHVlID0gdGhpcy52YWx1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgY2xvbmU6IEZsb3dPYmplY3REYXRhUHJvcGVydHkgPSBGbG93T2JqZWN0RGF0YVByb3BlcnR5Lm5ld0luc3RhbmNlKHRoaXMuZGV2ZWxvcGVyTmFtZSwgdGhpcy5jb250ZW50VHlwZSwgdmFsdWUpO1xyXG4gICAgICAgIHJldHVybiBjbG9uZTtcclxuICAgIH1cclxuXHJcbiAgICBpRmxvd09iamVjdERhdGFQcm9wZXJ0eSgpOiBJRmxvd09iamVjdERhdGFQcm9wZXJ0eSB7XHJcblxyXG4gICAgICAgIGxldCBjb250ZW50VmFsdWU6IHN0cmluZyA9IFwiXCI7XHJcbiAgICAgICAgbGV0IG9iamVjdERhdGE6IElGbG93T2JqZWN0RGF0YVtdID0gW107XHJcblxyXG4gICAgICAgIHN3aXRjaCAodGhpcy5Db250ZW50VHlwZSkge1xyXG4gICAgICAgICAgICBjYXNlIGVDb250ZW50VHlwZS5Db250ZW50T2JqZWN0OlxyXG4gICAgICAgICAgICAgICAgY29uc3Qgb2Q6IEZsb3dPYmplY3REYXRhID0gdGhpcy5WYWx1ZSBhcyBGbG93T2JqZWN0RGF0YTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBpZiBpdCBoYXMgbm8gZGV2ZWxvcGVyTmFtZSB0aGVuIHNraXAgaXRcclxuICAgICAgICAgICAgICAgIGlmIChvZCAmJiBvZC5kZXZlbG9wZXJOYW1lICYmIG9kLmRldmVsb3Blck5hbWUubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIG9iamVjdERhdGEucHVzaChvZC5pT2JqZWN0RGF0YSgpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgY2FzZSBlQ29udGVudFR5cGUuQ29udGVudExpc3Q6XHJcbiAgICAgICAgICAgICAgICBjb25zdCBvZGE6IEZsb3dPYmplY3REYXRhQXJyYXkgPSB0aGlzLlZhbHVlIGFzIEZsb3dPYmplY3REYXRhQXJyYXk7XHJcbiAgICAgICAgICAgICAgICBvYmplY3REYXRhID0gb2RhLmlGbG93T2JqZWN0RGF0YUFycmF5KCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICBjb250ZW50VmFsdWUgPSB0aGlzLlZhbHVlIGFzIHN0cmluZztcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3Qgb3V0cHV0OiBJRmxvd09iamVjdERhdGFQcm9wZXJ0eSA9IHtcclxuICAgICAgICAgICAgY29udGVudEZvcm1hdDogdGhpcy5Db250ZW50Rm9ybWF0LFxyXG4gICAgICAgICAgICBjb250ZW50VHlwZTogZUNvbnRlbnRUeXBlW3RoaXMuQ29udGVudFR5cGVdLFxyXG4gICAgICAgICAgICBjb250ZW50VmFsdWUsXHJcbiAgICAgICAgICAgIGRldmVsb3Blck5hbWU6IHRoaXMuRGV2ZWxvcGVyTmFtZSxcclxuICAgICAgICAgICAgb2JqZWN0RGF0YSxcclxuICAgICAgICAgICAgdHlwZUVsZW1lbnRJZDogdGhpcy5UeXBlRWxlbWVudElkLFxyXG4gICAgICAgICAgICB0eXBlRWxlbWVudFByb3BlcnR5SWQ6IHRoaXMuVHlwZUVsZW1lbnRQcm9wZXJ0eUlkLFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmV0dXJuIG91dHB1dDtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGRpc3BsYXlTdHJpbmcoKTogc3RyaW5nIHtcclxuICAgICAgICBsZXQgbGFiZWw6IHN0cmluZyA9ICcnO1xyXG4gICAgXHJcbiAgICAgICAgaWYgKHRoaXMuVmFsdWUpIHtcclxuICAgICAgICAgICAgc3dpdGNoICh0aGlzLkNvbnRlbnRUeXBlKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIGVDb250ZW50VHlwZS5Db250ZW50U3RyaW5nOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBlQ29udGVudFR5cGUuQ29udGVudE51bWJlcjpcclxuICAgICAgICAgICAgICAgICAgICBsYWJlbCA9IHRoaXMuVmFsdWUgYXMgc3RyaW5nO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgXHJcbiAgICAgICAgICAgICAgICBjYXNlIGVDb250ZW50VHlwZS5Db250ZW50Qm9vbGVhbjpcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5WYWx1ZSA9PT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsYWJlbCA9ICdUcnVlJztcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsYWJlbCA9ICdGYWxzZSc7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgXHJcbiAgICAgICAgICAgICAgICBjYXNlIGVDb250ZW50VHlwZS5Db250ZW50RGF0ZVRpbWU6XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZDogbnVtYmVyID0gRGF0ZS5wYXJzZSh0aGlzLlZhbHVlIGFzIHN0cmluZyk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFpc05hTihkKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkdDogRGF0ZSA9IG5ldyBEYXRlKGQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobGFiZWwubGVuZ3RoIDw9IDEwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZHQudG9Mb2NhbGVEYXRlU3RyaW5nKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZHQudG9Mb2NhbGVTdHJpbmcoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgIFxyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICBsYWJlbCA9IGVDb250ZW50VHlwZVt0aGlzLkNvbnRlbnRUeXBlXTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGxhYmVsID0gJ1VuZGVmaW5lZCc7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBsYWJlbDtcclxuICAgIH1cclxuXHJcbn1cclxuIiwiaW1wb3J0IHtGbG93QXR0cmlidXRlfSBmcm9tICcuL0Zsb3dBdHRyaWJ1dGUnO1xyXG5cclxuZXhwb3J0IGVudW0gZVBhZ2VBY3Rpb25CaW5kaW5nVHlwZSB7XHJcbiAgICBTYXZlID0gJ1NBVkUnLFxyXG4gICAgUGFydGlhbFNhdmUgPSAnUEFSVElBTF9TQVZFJyxcclxuICAgIE5vU2F2ZSA9ICdOT19TQVZFJyxcclxufVxyXG5cclxuZXhwb3J0IGVudW0gZVBhZ2VBY3Rpb25UeXBlIHtcclxuICAgIE5ldyA9ICdORVcnLFxyXG4gICAgUXVlcnkgPSAnUVVFUlknLFxyXG4gICAgSW5zZXJ0ID0gJ0lOU0VSVCcsXHJcbiAgICBVcGRhdGUgPSAnVVBEQVRFJyxcclxuICAgIFVwc2VydCA9ICdVUFNFUlQnLFxyXG4gICAgRGVsZXRlID0gJ0RFTEVURScsXHJcbiAgICBSZW1vdmUgPSAnUkVNT1ZFJyxcclxuICAgIEFkZCA9ICdBREQnLFxyXG4gICAgRWRpdCA9ICdFRElUJyxcclxuICAgIE5leHQgPSAnTkVYVCcsXHJcbiAgICBCYWNrID0gJ0JBQ0snLFxyXG4gICAgRG9uZSA9ICdET05FJyxcclxuICAgIFNhdmUgPSAnU0FWRScsXHJcbiAgICBDYW5jZWwgPSAnQ0FOQ0VMJyxcclxuICAgIEFwcGx5ID0gJ0FQUExZJyxcclxuICAgIEltcG9ydCA9ICdJTVBPUlQnLFxyXG4gICAgQ2xvc2UgPSAnQ0xPU0UnLFxyXG4gICAgT3BlbiA9ICdPUEVOJyxcclxuICAgIFN1Ym1pdCA9ICdTVUJNSVQnLFxyXG4gICAgRXNjYWxhdGUgPSAnRVNDQUxBVEUnLFxyXG4gICAgUmVqZWN0ID0gJ1JFSkVDVCcsXHJcbiAgICBEZWxlZ2F0ZSA9ICdERUxFR0FURScsXHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgSUZsb3dPdXRjb21lIHtcclxuICAgIGF0dHJpYnV0ZXM6IGFueTtcclxuICAgIGRldmVsb3Blck5hbWU6IHN0cmluZztcclxuICAgIGlkOiBzdHJpbmc7XHJcbiAgICBpc0J1bGtBY3Rpb246IGJvb2xlYW47XHJcbiAgICBpc091dDogYm9vbGVhbjtcclxuICAgIGxhYmVsOiBzdHJpbmc7XHJcbiAgICBvcmRlcjogbnVtYmVyO1xyXG4gICAgcGFnZUFjdGlvbkJpbmRpbmdUeXBlOiBlUGFnZUFjdGlvbkJpbmRpbmdUeXBlO1xyXG4gICAgcGFnZUFjdGlvblR5cGU6IGVQYWdlQWN0aW9uVHlwZTtcclxuICAgIHBhZ2VPYmplY3RCaW5kaW5nSWQ6IHN0cmluZztcclxufVxyXG5leHBvcnQgY2xhc3MgRmxvd091dGNvbWUge1xyXG4gICAgcHJpdmF0ZSBBdHRyaWJ1dGVzOiB7W2tleTogc3RyaW5nXTogRmxvd0F0dHJpYnV0ZX07XHJcbiAgICBwcml2YXRlIERldmVsb3Blck5hbWU6IHN0cmluZztcclxuICAgIHByaXZhdGUgSWQ6IHN0cmluZztcclxuICAgIHByaXZhdGUgSXNCdWxrQWN0aW9uOiBib29sZWFuO1xyXG4gICAgcHJpdmF0ZSBJc091dDogYm9vbGVhbjtcclxuICAgIHByaXZhdGUgTGFiZWw6IHN0cmluZztcclxuICAgIHByaXZhdGUgT3JkZXI6IG51bWJlcjtcclxuICAgIHByaXZhdGUgUGFnZUFjdGlvbkJpbmRpbmdUeXBlOiBlUGFnZUFjdGlvbkJpbmRpbmdUeXBlO1xyXG4gICAgcHJpdmF0ZSBQYWdlQWN0aW9uVHlwZTogZVBhZ2VBY3Rpb25UeXBlO1xyXG4gICAgcHJpdmF0ZSBQYWdlT2JqZWN0QmluZGluZ0lkOiBzdHJpbmc7XHJcbiAgICBwcml2YXRlIE91dGNvbWU6IElGbG93T3V0Y29tZTtcclxuXHJcbiAgICBnZXQgZGV2ZWxvcGVyTmFtZSgpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiB0aGlzLkRldmVsb3Blck5hbWU7XHJcbiAgICB9XHJcbiAgICBnZXQgaWQoKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5JZDtcclxuICAgIH1cclxuICAgIGdldCBpc0J1bGtBY3Rpb24oKTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuSXNCdWxrQWN0aW9uO1xyXG4gICAgfVxyXG4gICAgZ2V0IGlzT3V0KCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLklzT3V0O1xyXG4gICAgfVxyXG4gICAgZ2V0IGxhYmVsKCk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuTGFiZWw7XHJcbiAgICB9XHJcbiAgICBnZXQgb3JkZXIoKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5PcmRlcjtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgcGFnZUFjdGlvbkJpbmRpbmdUeXBlKCk6IGVQYWdlQWN0aW9uQmluZGluZ1R5cGUge1xyXG4gICAgICAgIHJldHVybiB0aGlzLlBhZ2VBY3Rpb25CaW5kaW5nVHlwZTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgcGFnZUFjdGlvblR5cGUoKTogZVBhZ2VBY3Rpb25UeXBlIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5QYWdlQWN0aW9uVHlwZTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgcGFnZU9iamVjdEJpbmRpbmdJZCgpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiB0aGlzLlBhZ2VPYmplY3RCaW5kaW5nSWQ7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGF0dHJpYnV0ZXMoKToge1trZXk6IHN0cmluZ106IEZsb3dBdHRyaWJ1dGV9IHtcclxuICAgICAgICByZXR1cm4gdGhpcy5BdHRyaWJ1dGVzO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0cnVjdG9yKG91dGNvbWU6IElGbG93T3V0Y29tZSkge1xyXG4gICAgICAgIHRoaXMuRGV2ZWxvcGVyTmFtZSA9IG91dGNvbWUuZGV2ZWxvcGVyTmFtZTtcclxuICAgICAgICB0aGlzLklkID0gb3V0Y29tZS5pZDtcclxuICAgICAgICB0aGlzLklzQnVsa0FjdGlvbiA9IG91dGNvbWUuaXNCdWxrQWN0aW9uO1xyXG4gICAgICAgIHRoaXMuSXNPdXQgPSBvdXRjb21lLmlzT3V0O1xyXG4gICAgICAgIHRoaXMuTGFiZWwgPSBvdXRjb21lLmxhYmVsO1xyXG4gICAgICAgIHRoaXMuT3JkZXIgPSBvdXRjb21lLm9yZGVyO1xyXG4gICAgICAgIHRoaXMuUGFnZUFjdGlvbkJpbmRpbmdUeXBlID0gb3V0Y29tZS5wYWdlQWN0aW9uQmluZGluZ1R5cGU7XHJcbiAgICAgICAgdGhpcy5QYWdlQWN0aW9uVHlwZSA9IG91dGNvbWUucGFnZUFjdGlvblR5cGU7XHJcbiAgICAgICAgdGhpcy5QYWdlT2JqZWN0QmluZGluZ0lkID0gb3V0Y29tZS5wYWdlT2JqZWN0QmluZGluZ0lkO1xyXG4gICAgICAgIHRoaXMuQXR0cmlidXRlcyA9IHt9O1xyXG4gICAgICAgIGlmIChvdXRjb21lLmF0dHJpYnV0ZXMpIHtcclxuICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgb2YgT2JqZWN0LmtleXMob3V0Y29tZS5hdHRyaWJ1dGVzKSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5BdHRyaWJ1dGVzW2tleV0gPSBuZXcgRmxvd0F0dHJpYnV0ZShrZXksIG91dGNvbWUuYXR0cmlidXRlc1trZXldKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5PdXRjb21lID0gb3V0Y29tZTtcclxuICAgIH1cclxuXHJcbiAgICBpRmxvd091dGNvbWUoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuT3V0Y29tZTtcclxuICAgIH1cclxufVxyXG4iLCIvKipcbiAqIGxvZGFzaCAoQ3VzdG9tIEJ1aWxkKSA8aHR0cHM6Ly9sb2Rhc2guY29tLz5cbiAqIEJ1aWxkOiBgbG9kYXNoIG1vZHVsYXJpemUgZXhwb3J0cz1cIm5wbVwiIC1vIC4vYFxuICogQ29weXJpZ2h0IGpRdWVyeSBGb3VuZGF0aW9uIGFuZCBvdGhlciBjb250cmlidXRvcnMgPGh0dHBzOi8vanF1ZXJ5Lm9yZy8+XG4gKiBSZWxlYXNlZCB1bmRlciBNSVQgbGljZW5zZSA8aHR0cHM6Ly9sb2Rhc2guY29tL2xpY2Vuc2U+XG4gKiBCYXNlZCBvbiBVbmRlcnNjb3JlLmpzIDEuOC4zIDxodHRwOi8vdW5kZXJzY29yZWpzLm9yZy9MSUNFTlNFPlxuICogQ29weXJpZ2h0IEplcmVteSBBc2hrZW5hcywgRG9jdW1lbnRDbG91ZCBhbmQgSW52ZXN0aWdhdGl2ZSBSZXBvcnRlcnMgJiBFZGl0b3JzXG4gKi9cblxuLyoqIFVzZWQgYXMgdGhlIGBUeXBlRXJyb3JgIG1lc3NhZ2UgZm9yIFwiRnVuY3Rpb25zXCIgbWV0aG9kcy4gKi9cbnZhciBGVU5DX0VSUk9SX1RFWFQgPSAnRXhwZWN0ZWQgYSBmdW5jdGlvbic7XG5cbi8qKiBVc2VkIGFzIHJlZmVyZW5jZXMgZm9yIHZhcmlvdXMgYE51bWJlcmAgY29uc3RhbnRzLiAqL1xudmFyIE5BTiA9IDAgLyAwO1xuXG4vKiogYE9iamVjdCN0b1N0cmluZ2AgcmVzdWx0IHJlZmVyZW5jZXMuICovXG52YXIgc3ltYm9sVGFnID0gJ1tvYmplY3QgU3ltYm9sXSc7XG5cbi8qKiBVc2VkIHRvIG1hdGNoIGxlYWRpbmcgYW5kIHRyYWlsaW5nIHdoaXRlc3BhY2UuICovXG52YXIgcmVUcmltID0gL15cXHMrfFxccyskL2c7XG5cbi8qKiBVc2VkIHRvIGRldGVjdCBiYWQgc2lnbmVkIGhleGFkZWNpbWFsIHN0cmluZyB2YWx1ZXMuICovXG52YXIgcmVJc0JhZEhleCA9IC9eWy0rXTB4WzAtOWEtZl0rJC9pO1xuXG4vKiogVXNlZCB0byBkZXRlY3QgYmluYXJ5IHN0cmluZyB2YWx1ZXMuICovXG52YXIgcmVJc0JpbmFyeSA9IC9eMGJbMDFdKyQvaTtcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IG9jdGFsIHN0cmluZyB2YWx1ZXMuICovXG52YXIgcmVJc09jdGFsID0gL14wb1swLTddKyQvaTtcblxuLyoqIEJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzIHdpdGhvdXQgYSBkZXBlbmRlbmN5IG9uIGByb290YC4gKi9cbnZhciBmcmVlUGFyc2VJbnQgPSBwYXJzZUludDtcblxuLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBnbG9iYWxgIGZyb20gTm9kZS5qcy4gKi9cbnZhciBmcmVlR2xvYmFsID0gdHlwZW9mIGdsb2JhbCA9PSAnb2JqZWN0JyAmJiBnbG9iYWwgJiYgZ2xvYmFsLk9iamVjdCA9PT0gT2JqZWN0ICYmIGdsb2JhbDtcblxuLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBzZWxmYC4gKi9cbnZhciBmcmVlU2VsZiA9IHR5cGVvZiBzZWxmID09ICdvYmplY3QnICYmIHNlbGYgJiYgc2VsZi5PYmplY3QgPT09IE9iamVjdCAmJiBzZWxmO1xuXG4vKiogVXNlZCBhcyBhIHJlZmVyZW5jZSB0byB0aGUgZ2xvYmFsIG9iamVjdC4gKi9cbnZhciByb290ID0gZnJlZUdsb2JhbCB8fCBmcmVlU2VsZiB8fCBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpO1xuXG4vKiogVXNlZCBmb3IgYnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMuICovXG52YXIgb2JqZWN0UHJvdG8gPSBPYmplY3QucHJvdG90eXBlO1xuXG4vKipcbiAqIFVzZWQgdG8gcmVzb2x2ZSB0aGVcbiAqIFtgdG9TdHJpbmdUYWdgXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1vYmplY3QucHJvdG90eXBlLnRvc3RyaW5nKVxuICogb2YgdmFsdWVzLlxuICovXG52YXIgb2JqZWN0VG9TdHJpbmcgPSBvYmplY3RQcm90by50b1N0cmluZztcblxuLyogQnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMgZm9yIHRob3NlIHdpdGggdGhlIHNhbWUgbmFtZSBhcyBvdGhlciBgbG9kYXNoYCBtZXRob2RzLiAqL1xudmFyIG5hdGl2ZU1heCA9IE1hdGgubWF4LFxuICAgIG5hdGl2ZU1pbiA9IE1hdGgubWluO1xuXG4vKipcbiAqIEdldHMgdGhlIHRpbWVzdGFtcCBvZiB0aGUgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyB0aGF0IGhhdmUgZWxhcHNlZCBzaW5jZVxuICogdGhlIFVuaXggZXBvY2ggKDEgSmFudWFyeSAxOTcwIDAwOjAwOjAwIFVUQykuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAyLjQuMFxuICogQGNhdGVnb3J5IERhdGVcbiAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHRpbWVzdGFtcC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5kZWZlcihmdW5jdGlvbihzdGFtcCkge1xuICogICBjb25zb2xlLmxvZyhfLm5vdygpIC0gc3RhbXApO1xuICogfSwgXy5ub3coKSk7XG4gKiAvLyA9PiBMb2dzIHRoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIGl0IHRvb2sgZm9yIHRoZSBkZWZlcnJlZCBpbnZvY2F0aW9uLlxuICovXG52YXIgbm93ID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiByb290LkRhdGUubm93KCk7XG59O1xuXG4vKipcbiAqIENyZWF0ZXMgYSBkZWJvdW5jZWQgZnVuY3Rpb24gdGhhdCBkZWxheXMgaW52b2tpbmcgYGZ1bmNgIHVudGlsIGFmdGVyIGB3YWl0YFxuICogbWlsbGlzZWNvbmRzIGhhdmUgZWxhcHNlZCBzaW5jZSB0aGUgbGFzdCB0aW1lIHRoZSBkZWJvdW5jZWQgZnVuY3Rpb24gd2FzXG4gKiBpbnZva2VkLiBUaGUgZGVib3VuY2VkIGZ1bmN0aW9uIGNvbWVzIHdpdGggYSBgY2FuY2VsYCBtZXRob2QgdG8gY2FuY2VsXG4gKiBkZWxheWVkIGBmdW5jYCBpbnZvY2F0aW9ucyBhbmQgYSBgZmx1c2hgIG1ldGhvZCB0byBpbW1lZGlhdGVseSBpbnZva2UgdGhlbS5cbiAqIFByb3ZpZGUgYG9wdGlvbnNgIHRvIGluZGljYXRlIHdoZXRoZXIgYGZ1bmNgIHNob3VsZCBiZSBpbnZva2VkIG9uIHRoZVxuICogbGVhZGluZyBhbmQvb3IgdHJhaWxpbmcgZWRnZSBvZiB0aGUgYHdhaXRgIHRpbWVvdXQuIFRoZSBgZnVuY2AgaXMgaW52b2tlZFxuICogd2l0aCB0aGUgbGFzdCBhcmd1bWVudHMgcHJvdmlkZWQgdG8gdGhlIGRlYm91bmNlZCBmdW5jdGlvbi4gU3Vic2VxdWVudFxuICogY2FsbHMgdG8gdGhlIGRlYm91bmNlZCBmdW5jdGlvbiByZXR1cm4gdGhlIHJlc3VsdCBvZiB0aGUgbGFzdCBgZnVuY2BcbiAqIGludm9jYXRpb24uXG4gKlxuICogKipOb3RlOioqIElmIGBsZWFkaW5nYCBhbmQgYHRyYWlsaW5nYCBvcHRpb25zIGFyZSBgdHJ1ZWAsIGBmdW5jYCBpc1xuICogaW52b2tlZCBvbiB0aGUgdHJhaWxpbmcgZWRnZSBvZiB0aGUgdGltZW91dCBvbmx5IGlmIHRoZSBkZWJvdW5jZWQgZnVuY3Rpb25cbiAqIGlzIGludm9rZWQgbW9yZSB0aGFuIG9uY2UgZHVyaW5nIHRoZSBgd2FpdGAgdGltZW91dC5cbiAqXG4gKiBJZiBgd2FpdGAgaXMgYDBgIGFuZCBgbGVhZGluZ2AgaXMgYGZhbHNlYCwgYGZ1bmNgIGludm9jYXRpb24gaXMgZGVmZXJyZWRcbiAqIHVudGlsIHRvIHRoZSBuZXh0IHRpY2ssIHNpbWlsYXIgdG8gYHNldFRpbWVvdXRgIHdpdGggYSB0aW1lb3V0IG9mIGAwYC5cbiAqXG4gKiBTZWUgW0RhdmlkIENvcmJhY2hvJ3MgYXJ0aWNsZV0oaHR0cHM6Ly9jc3MtdHJpY2tzLmNvbS9kZWJvdW5jaW5nLXRocm90dGxpbmctZXhwbGFpbmVkLWV4YW1wbGVzLylcbiAqIGZvciBkZXRhaWxzIG92ZXIgdGhlIGRpZmZlcmVuY2VzIGJldHdlZW4gYF8uZGVib3VuY2VgIGFuZCBgXy50aHJvdHRsZWAuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjEuMFxuICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBkZWJvdW5jZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbd2FpdD0wXSBUaGUgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyB0byBkZWxheS5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucz17fV0gVGhlIG9wdGlvbnMgb2JqZWN0LlxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5sZWFkaW5nPWZhbHNlXVxuICogIFNwZWNpZnkgaW52b2tpbmcgb24gdGhlIGxlYWRpbmcgZWRnZSBvZiB0aGUgdGltZW91dC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5tYXhXYWl0XVxuICogIFRoZSBtYXhpbXVtIHRpbWUgYGZ1bmNgIGlzIGFsbG93ZWQgdG8gYmUgZGVsYXllZCBiZWZvcmUgaXQncyBpbnZva2VkLlxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy50cmFpbGluZz10cnVlXVxuICogIFNwZWNpZnkgaW52b2tpbmcgb24gdGhlIHRyYWlsaW5nIGVkZ2Ugb2YgdGhlIHRpbWVvdXQuXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBkZWJvdW5jZWQgZnVuY3Rpb24uXG4gKiBAZXhhbXBsZVxuICpcbiAqIC8vIEF2b2lkIGNvc3RseSBjYWxjdWxhdGlvbnMgd2hpbGUgdGhlIHdpbmRvdyBzaXplIGlzIGluIGZsdXguXG4gKiBqUXVlcnkod2luZG93KS5vbigncmVzaXplJywgXy5kZWJvdW5jZShjYWxjdWxhdGVMYXlvdXQsIDE1MCkpO1xuICpcbiAqIC8vIEludm9rZSBgc2VuZE1haWxgIHdoZW4gY2xpY2tlZCwgZGVib3VuY2luZyBzdWJzZXF1ZW50IGNhbGxzLlxuICogalF1ZXJ5KGVsZW1lbnQpLm9uKCdjbGljaycsIF8uZGVib3VuY2Uoc2VuZE1haWwsIDMwMCwge1xuICogICAnbGVhZGluZyc6IHRydWUsXG4gKiAgICd0cmFpbGluZyc6IGZhbHNlXG4gKiB9KSk7XG4gKlxuICogLy8gRW5zdXJlIGBiYXRjaExvZ2AgaXMgaW52b2tlZCBvbmNlIGFmdGVyIDEgc2Vjb25kIG9mIGRlYm91bmNlZCBjYWxscy5cbiAqIHZhciBkZWJvdW5jZWQgPSBfLmRlYm91bmNlKGJhdGNoTG9nLCAyNTAsIHsgJ21heFdhaXQnOiAxMDAwIH0pO1xuICogdmFyIHNvdXJjZSA9IG5ldyBFdmVudFNvdXJjZSgnL3N0cmVhbScpO1xuICogalF1ZXJ5KHNvdXJjZSkub24oJ21lc3NhZ2UnLCBkZWJvdW5jZWQpO1xuICpcbiAqIC8vIENhbmNlbCB0aGUgdHJhaWxpbmcgZGVib3VuY2VkIGludm9jYXRpb24uXG4gKiBqUXVlcnkod2luZG93KS5vbigncG9wc3RhdGUnLCBkZWJvdW5jZWQuY2FuY2VsKTtcbiAqL1xuZnVuY3Rpb24gZGVib3VuY2UoZnVuYywgd2FpdCwgb3B0aW9ucykge1xuICB2YXIgbGFzdEFyZ3MsXG4gICAgICBsYXN0VGhpcyxcbiAgICAgIG1heFdhaXQsXG4gICAgICByZXN1bHQsXG4gICAgICB0aW1lcklkLFxuICAgICAgbGFzdENhbGxUaW1lLFxuICAgICAgbGFzdEludm9rZVRpbWUgPSAwLFxuICAgICAgbGVhZGluZyA9IGZhbHNlLFxuICAgICAgbWF4aW5nID0gZmFsc2UsXG4gICAgICB0cmFpbGluZyA9IHRydWU7XG5cbiAgaWYgKHR5cGVvZiBmdW5jICE9ICdmdW5jdGlvbicpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKEZVTkNfRVJST1JfVEVYVCk7XG4gIH1cbiAgd2FpdCA9IHRvTnVtYmVyKHdhaXQpIHx8IDA7XG4gIGlmIChpc09iamVjdChvcHRpb25zKSkge1xuICAgIGxlYWRpbmcgPSAhIW9wdGlvbnMubGVhZGluZztcbiAgICBtYXhpbmcgPSAnbWF4V2FpdCcgaW4gb3B0aW9ucztcbiAgICBtYXhXYWl0ID0gbWF4aW5nID8gbmF0aXZlTWF4KHRvTnVtYmVyKG9wdGlvbnMubWF4V2FpdCkgfHwgMCwgd2FpdCkgOiBtYXhXYWl0O1xuICAgIHRyYWlsaW5nID0gJ3RyYWlsaW5nJyBpbiBvcHRpb25zID8gISFvcHRpb25zLnRyYWlsaW5nIDogdHJhaWxpbmc7XG4gIH1cblxuICBmdW5jdGlvbiBpbnZva2VGdW5jKHRpbWUpIHtcbiAgICB2YXIgYXJncyA9IGxhc3RBcmdzLFxuICAgICAgICB0aGlzQXJnID0gbGFzdFRoaXM7XG5cbiAgICBsYXN0QXJncyA9IGxhc3RUaGlzID0gdW5kZWZpbmVkO1xuICAgIGxhc3RJbnZva2VUaW1lID0gdGltZTtcbiAgICByZXN1bHQgPSBmdW5jLmFwcGx5KHRoaXNBcmcsIGFyZ3MpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICBmdW5jdGlvbiBsZWFkaW5nRWRnZSh0aW1lKSB7XG4gICAgLy8gUmVzZXQgYW55IGBtYXhXYWl0YCB0aW1lci5cbiAgICBsYXN0SW52b2tlVGltZSA9IHRpbWU7XG4gICAgLy8gU3RhcnQgdGhlIHRpbWVyIGZvciB0aGUgdHJhaWxpbmcgZWRnZS5cbiAgICB0aW1lcklkID0gc2V0VGltZW91dCh0aW1lckV4cGlyZWQsIHdhaXQpO1xuICAgIC8vIEludm9rZSB0aGUgbGVhZGluZyBlZGdlLlxuICAgIHJldHVybiBsZWFkaW5nID8gaW52b2tlRnVuYyh0aW1lKSA6IHJlc3VsdDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlbWFpbmluZ1dhaXQodGltZSkge1xuICAgIHZhciB0aW1lU2luY2VMYXN0Q2FsbCA9IHRpbWUgLSBsYXN0Q2FsbFRpbWUsXG4gICAgICAgIHRpbWVTaW5jZUxhc3RJbnZva2UgPSB0aW1lIC0gbGFzdEludm9rZVRpbWUsXG4gICAgICAgIHJlc3VsdCA9IHdhaXQgLSB0aW1lU2luY2VMYXN0Q2FsbDtcblxuICAgIHJldHVybiBtYXhpbmcgPyBuYXRpdmVNaW4ocmVzdWx0LCBtYXhXYWl0IC0gdGltZVNpbmNlTGFzdEludm9rZSkgOiByZXN1bHQ7XG4gIH1cblxuICBmdW5jdGlvbiBzaG91bGRJbnZva2UodGltZSkge1xuICAgIHZhciB0aW1lU2luY2VMYXN0Q2FsbCA9IHRpbWUgLSBsYXN0Q2FsbFRpbWUsXG4gICAgICAgIHRpbWVTaW5jZUxhc3RJbnZva2UgPSB0aW1lIC0gbGFzdEludm9rZVRpbWU7XG5cbiAgICAvLyBFaXRoZXIgdGhpcyBpcyB0aGUgZmlyc3QgY2FsbCwgYWN0aXZpdHkgaGFzIHN0b3BwZWQgYW5kIHdlJ3JlIGF0IHRoZVxuICAgIC8vIHRyYWlsaW5nIGVkZ2UsIHRoZSBzeXN0ZW0gdGltZSBoYXMgZ29uZSBiYWNrd2FyZHMgYW5kIHdlJ3JlIHRyZWF0aW5nXG4gICAgLy8gaXQgYXMgdGhlIHRyYWlsaW5nIGVkZ2UsIG9yIHdlJ3ZlIGhpdCB0aGUgYG1heFdhaXRgIGxpbWl0LlxuICAgIHJldHVybiAobGFzdENhbGxUaW1lID09PSB1bmRlZmluZWQgfHwgKHRpbWVTaW5jZUxhc3RDYWxsID49IHdhaXQpIHx8XG4gICAgICAodGltZVNpbmNlTGFzdENhbGwgPCAwKSB8fCAobWF4aW5nICYmIHRpbWVTaW5jZUxhc3RJbnZva2UgPj0gbWF4V2FpdCkpO1xuICB9XG5cbiAgZnVuY3Rpb24gdGltZXJFeHBpcmVkKCkge1xuICAgIHZhciB0aW1lID0gbm93KCk7XG4gICAgaWYgKHNob3VsZEludm9rZSh0aW1lKSkge1xuICAgICAgcmV0dXJuIHRyYWlsaW5nRWRnZSh0aW1lKTtcbiAgICB9XG4gICAgLy8gUmVzdGFydCB0aGUgdGltZXIuXG4gICAgdGltZXJJZCA9IHNldFRpbWVvdXQodGltZXJFeHBpcmVkLCByZW1haW5pbmdXYWl0KHRpbWUpKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHRyYWlsaW5nRWRnZSh0aW1lKSB7XG4gICAgdGltZXJJZCA9IHVuZGVmaW5lZDtcblxuICAgIC8vIE9ubHkgaW52b2tlIGlmIHdlIGhhdmUgYGxhc3RBcmdzYCB3aGljaCBtZWFucyBgZnVuY2AgaGFzIGJlZW5cbiAgICAvLyBkZWJvdW5jZWQgYXQgbGVhc3Qgb25jZS5cbiAgICBpZiAodHJhaWxpbmcgJiYgbGFzdEFyZ3MpIHtcbiAgICAgIHJldHVybiBpbnZva2VGdW5jKHRpbWUpO1xuICAgIH1cbiAgICBsYXN0QXJncyA9IGxhc3RUaGlzID0gdW5kZWZpbmVkO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICBmdW5jdGlvbiBjYW5jZWwoKSB7XG4gICAgaWYgKHRpbWVySWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgY2xlYXJUaW1lb3V0KHRpbWVySWQpO1xuICAgIH1cbiAgICBsYXN0SW52b2tlVGltZSA9IDA7XG4gICAgbGFzdEFyZ3MgPSBsYXN0Q2FsbFRpbWUgPSBsYXN0VGhpcyA9IHRpbWVySWQgPSB1bmRlZmluZWQ7XG4gIH1cblxuICBmdW5jdGlvbiBmbHVzaCgpIHtcbiAgICByZXR1cm4gdGltZXJJZCA9PT0gdW5kZWZpbmVkID8gcmVzdWx0IDogdHJhaWxpbmdFZGdlKG5vdygpKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGRlYm91bmNlZCgpIHtcbiAgICB2YXIgdGltZSA9IG5vdygpLFxuICAgICAgICBpc0ludm9raW5nID0gc2hvdWxkSW52b2tlKHRpbWUpO1xuXG4gICAgbGFzdEFyZ3MgPSBhcmd1bWVudHM7XG4gICAgbGFzdFRoaXMgPSB0aGlzO1xuICAgIGxhc3RDYWxsVGltZSA9IHRpbWU7XG5cbiAgICBpZiAoaXNJbnZva2luZykge1xuICAgICAgaWYgKHRpbWVySWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gbGVhZGluZ0VkZ2UobGFzdENhbGxUaW1lKTtcbiAgICAgIH1cbiAgICAgIGlmIChtYXhpbmcpIHtcbiAgICAgICAgLy8gSGFuZGxlIGludm9jYXRpb25zIGluIGEgdGlnaHQgbG9vcC5cbiAgICAgICAgdGltZXJJZCA9IHNldFRpbWVvdXQodGltZXJFeHBpcmVkLCB3YWl0KTtcbiAgICAgICAgcmV0dXJuIGludm9rZUZ1bmMobGFzdENhbGxUaW1lKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHRpbWVySWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgdGltZXJJZCA9IHNldFRpbWVvdXQodGltZXJFeHBpcmVkLCB3YWl0KTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuICBkZWJvdW5jZWQuY2FuY2VsID0gY2FuY2VsO1xuICBkZWJvdW5jZWQuZmx1c2ggPSBmbHVzaDtcbiAgcmV0dXJuIGRlYm91bmNlZDtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgdGhyb3R0bGVkIGZ1bmN0aW9uIHRoYXQgb25seSBpbnZva2VzIGBmdW5jYCBhdCBtb3N0IG9uY2UgcGVyXG4gKiBldmVyeSBgd2FpdGAgbWlsbGlzZWNvbmRzLiBUaGUgdGhyb3R0bGVkIGZ1bmN0aW9uIGNvbWVzIHdpdGggYSBgY2FuY2VsYFxuICogbWV0aG9kIHRvIGNhbmNlbCBkZWxheWVkIGBmdW5jYCBpbnZvY2F0aW9ucyBhbmQgYSBgZmx1c2hgIG1ldGhvZCB0b1xuICogaW1tZWRpYXRlbHkgaW52b2tlIHRoZW0uIFByb3ZpZGUgYG9wdGlvbnNgIHRvIGluZGljYXRlIHdoZXRoZXIgYGZ1bmNgXG4gKiBzaG91bGQgYmUgaW52b2tlZCBvbiB0aGUgbGVhZGluZyBhbmQvb3IgdHJhaWxpbmcgZWRnZSBvZiB0aGUgYHdhaXRgXG4gKiB0aW1lb3V0LiBUaGUgYGZ1bmNgIGlzIGludm9rZWQgd2l0aCB0aGUgbGFzdCBhcmd1bWVudHMgcHJvdmlkZWQgdG8gdGhlXG4gKiB0aHJvdHRsZWQgZnVuY3Rpb24uIFN1YnNlcXVlbnQgY2FsbHMgdG8gdGhlIHRocm90dGxlZCBmdW5jdGlvbiByZXR1cm4gdGhlXG4gKiByZXN1bHQgb2YgdGhlIGxhc3QgYGZ1bmNgIGludm9jYXRpb24uXG4gKlxuICogKipOb3RlOioqIElmIGBsZWFkaW5nYCBhbmQgYHRyYWlsaW5nYCBvcHRpb25zIGFyZSBgdHJ1ZWAsIGBmdW5jYCBpc1xuICogaW52b2tlZCBvbiB0aGUgdHJhaWxpbmcgZWRnZSBvZiB0aGUgdGltZW91dCBvbmx5IGlmIHRoZSB0aHJvdHRsZWQgZnVuY3Rpb25cbiAqIGlzIGludm9rZWQgbW9yZSB0aGFuIG9uY2UgZHVyaW5nIHRoZSBgd2FpdGAgdGltZW91dC5cbiAqXG4gKiBJZiBgd2FpdGAgaXMgYDBgIGFuZCBgbGVhZGluZ2AgaXMgYGZhbHNlYCwgYGZ1bmNgIGludm9jYXRpb24gaXMgZGVmZXJyZWRcbiAqIHVudGlsIHRvIHRoZSBuZXh0IHRpY2ssIHNpbWlsYXIgdG8gYHNldFRpbWVvdXRgIHdpdGggYSB0aW1lb3V0IG9mIGAwYC5cbiAqXG4gKiBTZWUgW0RhdmlkIENvcmJhY2hvJ3MgYXJ0aWNsZV0oaHR0cHM6Ly9jc3MtdHJpY2tzLmNvbS9kZWJvdW5jaW5nLXRocm90dGxpbmctZXhwbGFpbmVkLWV4YW1wbGVzLylcbiAqIGZvciBkZXRhaWxzIG92ZXIgdGhlIGRpZmZlcmVuY2VzIGJldHdlZW4gYF8udGhyb3R0bGVgIGFuZCBgXy5kZWJvdW5jZWAuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjEuMFxuICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byB0aHJvdHRsZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbd2FpdD0wXSBUaGUgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyB0byB0aHJvdHRsZSBpbnZvY2F0aW9ucyB0by5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucz17fV0gVGhlIG9wdGlvbnMgb2JqZWN0LlxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5sZWFkaW5nPXRydWVdXG4gKiAgU3BlY2lmeSBpbnZva2luZyBvbiB0aGUgbGVhZGluZyBlZGdlIG9mIHRoZSB0aW1lb3V0LlxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy50cmFpbGluZz10cnVlXVxuICogIFNwZWNpZnkgaW52b2tpbmcgb24gdGhlIHRyYWlsaW5nIGVkZ2Ugb2YgdGhlIHRpbWVvdXQuXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyB0aHJvdHRsZWQgZnVuY3Rpb24uXG4gKiBAZXhhbXBsZVxuICpcbiAqIC8vIEF2b2lkIGV4Y2Vzc2l2ZWx5IHVwZGF0aW5nIHRoZSBwb3NpdGlvbiB3aGlsZSBzY3JvbGxpbmcuXG4gKiBqUXVlcnkod2luZG93KS5vbignc2Nyb2xsJywgXy50aHJvdHRsZSh1cGRhdGVQb3NpdGlvbiwgMTAwKSk7XG4gKlxuICogLy8gSW52b2tlIGByZW5ld1Rva2VuYCB3aGVuIHRoZSBjbGljayBldmVudCBpcyBmaXJlZCwgYnV0IG5vdCBtb3JlIHRoYW4gb25jZSBldmVyeSA1IG1pbnV0ZXMuXG4gKiB2YXIgdGhyb3R0bGVkID0gXy50aHJvdHRsZShyZW5ld1Rva2VuLCAzMDAwMDAsIHsgJ3RyYWlsaW5nJzogZmFsc2UgfSk7XG4gKiBqUXVlcnkoZWxlbWVudCkub24oJ2NsaWNrJywgdGhyb3R0bGVkKTtcbiAqXG4gKiAvLyBDYW5jZWwgdGhlIHRyYWlsaW5nIHRocm90dGxlZCBpbnZvY2F0aW9uLlxuICogalF1ZXJ5KHdpbmRvdykub24oJ3BvcHN0YXRlJywgdGhyb3R0bGVkLmNhbmNlbCk7XG4gKi9cbmZ1bmN0aW9uIHRocm90dGxlKGZ1bmMsIHdhaXQsIG9wdGlvbnMpIHtcbiAgdmFyIGxlYWRpbmcgPSB0cnVlLFxuICAgICAgdHJhaWxpbmcgPSB0cnVlO1xuXG4gIGlmICh0eXBlb2YgZnVuYyAhPSAnZnVuY3Rpb24nKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihGVU5DX0VSUk9SX1RFWFQpO1xuICB9XG4gIGlmIChpc09iamVjdChvcHRpb25zKSkge1xuICAgIGxlYWRpbmcgPSAnbGVhZGluZycgaW4gb3B0aW9ucyA/ICEhb3B0aW9ucy5sZWFkaW5nIDogbGVhZGluZztcbiAgICB0cmFpbGluZyA9ICd0cmFpbGluZycgaW4gb3B0aW9ucyA/ICEhb3B0aW9ucy50cmFpbGluZyA6IHRyYWlsaW5nO1xuICB9XG4gIHJldHVybiBkZWJvdW5jZShmdW5jLCB3YWl0LCB7XG4gICAgJ2xlYWRpbmcnOiBsZWFkaW5nLFxuICAgICdtYXhXYWl0Jzogd2FpdCxcbiAgICAndHJhaWxpbmcnOiB0cmFpbGluZ1xuICB9KTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyB0aGVcbiAqIFtsYW5ndWFnZSB0eXBlXShodHRwOi8vd3d3LmVjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtZWNtYXNjcmlwdC1sYW5ndWFnZS10eXBlcylcbiAqIG9mIGBPYmplY3RgLiAoZS5nLiBhcnJheXMsIGZ1bmN0aW9ucywgb2JqZWN0cywgcmVnZXhlcywgYG5ldyBOdW1iZXIoMClgLCBhbmQgYG5ldyBTdHJpbmcoJycpYClcbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDAuMS4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBvYmplY3QsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc09iamVjdCh7fSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdChbMSwgMiwgM10pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3QoXy5ub29wKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0KG51bGwpO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNPYmplY3QodmFsdWUpIHtcbiAgdmFyIHR5cGUgPSB0eXBlb2YgdmFsdWU7XG4gIHJldHVybiAhIXZhbHVlICYmICh0eXBlID09ICdvYmplY3QnIHx8IHR5cGUgPT0gJ2Z1bmN0aW9uJyk7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgb2JqZWN0LWxpa2UuIEEgdmFsdWUgaXMgb2JqZWN0LWxpa2UgaWYgaXQncyBub3QgYG51bGxgXG4gKiBhbmQgaGFzIGEgYHR5cGVvZmAgcmVzdWx0IG9mIFwib2JqZWN0XCIuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgb2JqZWN0LWxpa2UsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc09iamVjdExpa2Uoe30pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3RMaWtlKFsxLCAyLCAzXSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdExpa2UoXy5ub29wKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5pc09iamVjdExpa2UobnVsbCk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc09iamVjdExpa2UodmFsdWUpIHtcbiAgcmV0dXJuICEhdmFsdWUgJiYgdHlwZW9mIHZhbHVlID09ICdvYmplY3QnO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBgU3ltYm9sYCBwcmltaXRpdmUgb3Igb2JqZWN0LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgc3ltYm9sLCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNTeW1ib2woU3ltYm9sLml0ZXJhdG9yKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzU3ltYm9sKCdhYmMnKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzU3ltYm9sKHZhbHVlKSB7XG4gIHJldHVybiB0eXBlb2YgdmFsdWUgPT0gJ3N5bWJvbCcgfHxcbiAgICAoaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBvYmplY3RUb1N0cmluZy5jYWxsKHZhbHVlKSA9PSBzeW1ib2xUYWcpO1xufVxuXG4vKipcbiAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYSBudW1iZXIuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHByb2Nlc3MuXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBudW1iZXIuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8udG9OdW1iZXIoMy4yKTtcbiAqIC8vID0+IDMuMlxuICpcbiAqIF8udG9OdW1iZXIoTnVtYmVyLk1JTl9WQUxVRSk7XG4gKiAvLyA9PiA1ZS0zMjRcbiAqXG4gKiBfLnRvTnVtYmVyKEluZmluaXR5KTtcbiAqIC8vID0+IEluZmluaXR5XG4gKlxuICogXy50b051bWJlcignMy4yJyk7XG4gKiAvLyA9PiAzLjJcbiAqL1xuZnVuY3Rpb24gdG9OdW1iZXIodmFsdWUpIHtcbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PSAnbnVtYmVyJykge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuICBpZiAoaXNTeW1ib2wodmFsdWUpKSB7XG4gICAgcmV0dXJuIE5BTjtcbiAgfVxuICBpZiAoaXNPYmplY3QodmFsdWUpKSB7XG4gICAgdmFyIG90aGVyID0gdHlwZW9mIHZhbHVlLnZhbHVlT2YgPT0gJ2Z1bmN0aW9uJyA/IHZhbHVlLnZhbHVlT2YoKSA6IHZhbHVlO1xuICAgIHZhbHVlID0gaXNPYmplY3Qob3RoZXIpID8gKG90aGVyICsgJycpIDogb3RoZXI7XG4gIH1cbiAgaWYgKHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykge1xuICAgIHJldHVybiB2YWx1ZSA9PT0gMCA/IHZhbHVlIDogK3ZhbHVlO1xuICB9XG4gIHZhbHVlID0gdmFsdWUucmVwbGFjZShyZVRyaW0sICcnKTtcbiAgdmFyIGlzQmluYXJ5ID0gcmVJc0JpbmFyeS50ZXN0KHZhbHVlKTtcbiAgcmV0dXJuIChpc0JpbmFyeSB8fCByZUlzT2N0YWwudGVzdCh2YWx1ZSkpXG4gICAgPyBmcmVlUGFyc2VJbnQodmFsdWUuc2xpY2UoMiksIGlzQmluYXJ5ID8gMiA6IDgpXG4gICAgOiAocmVJc0JhZEhleC50ZXN0KHZhbHVlKSA/IE5BTiA6ICt2YWx1ZSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gdGhyb3R0bGU7XG4iLCJ2YXIgZztcblxuLy8gVGhpcyB3b3JrcyBpbiBub24tc3RyaWN0IG1vZGVcbmcgPSAoZnVuY3Rpb24oKSB7XG5cdHJldHVybiB0aGlzO1xufSkoKTtcblxudHJ5IHtcblx0Ly8gVGhpcyB3b3JrcyBpZiBldmFsIGlzIGFsbG93ZWQgKHNlZSBDU1ApXG5cdGcgPSBnIHx8IG5ldyBGdW5jdGlvbihcInJldHVybiB0aGlzXCIpKCk7XG59IGNhdGNoIChlKSB7XG5cdC8vIFRoaXMgd29ya3MgaWYgdGhlIHdpbmRvdyByZWZlcmVuY2UgaXMgYXZhaWxhYmxlXG5cdGlmICh0eXBlb2Ygd2luZG93ID09PSBcIm9iamVjdFwiKSBnID0gd2luZG93O1xufVxuXG4vLyBnIGNhbiBzdGlsbCBiZSB1bmRlZmluZWQsIGJ1dCBub3RoaW5nIHRvIGRvIGFib3V0IGl0Li4uXG4vLyBXZSByZXR1cm4gdW5kZWZpbmVkLCBpbnN0ZWFkIG9mIG5vdGhpbmcgaGVyZSwgc28gaXQnc1xuLy8gZWFzaWVyIHRvIGhhbmRsZSB0aGlzIGNhc2UuIGlmKCFnbG9iYWwpIHsgLi4ufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGc7XG4iLCJpbXBvcnQgeyBGbG93QmFzZUNvbXBvbmVudCB9IGZyb20gJy4vRmxvd0Jhc2VDb21wb25lbnQnO1xyXG5pbXBvcnQgeyBJRmxvd09iamVjdERhdGEgfSBmcm9tICcuL0Zsb3dPYmplY3REYXRhJztcclxuaW1wb3J0IHsgIElNYW55d2hvIH0gZnJvbSAnLi9pbnRlcmZhY2VzJztcclxuXHJcbmRlY2xhcmUgY29uc3QgbWFueXdobzogSU1hbnl3aG87XHJcbmRlY2xhcmUgY29uc3QgJDogSlF1ZXJ5U3RhdGljO1xyXG5cclxuZXhwb3J0IGNsYXNzIEZsb3dQYWdlIGV4dGVuZHMgRmxvd0Jhc2VDb21wb25lbnQge1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHByb3BzOiBhbnkpIHtcclxuICAgICAgICBzdXBlcihwcm9wcyk7XHJcbiAgICAgICAgdGhpcy5yZWxvYWRWYWx1ZXMgPSB0aGlzLnJlbG9hZFZhbHVlcy5iaW5kKHRoaXMpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIHRoZSBGbG93UGFnZSBhdXRvbWF0aWNhbGx5IGdldHMgdmFsdWVzXHJcbiAgICBhc3luYyBjb21wb25lbnREaWRNb3VudCgpOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgICAgICBhd2FpdCBzdXBlci5jb21wb25lbnREaWRNb3VudCgpO1xyXG4gICAgICAgIChtYW55d2hvIGFzIGFueSkuZXZlbnRNYW5hZ2VyLmFkZERvbmVMaXN0ZW5lcih0aGlzLnJlbG9hZFZhbHVlcyx0aGlzLmNvbXBvbmVudElkICsgXCJfUEdcIik7XHJcbiAgICAgICAgLy9zaW5jZSB3ZSBhcmUgYSBwYWdlIHdlIG5vdyBsb2FkIGFsbCB2YWx1ZXNcclxuICAgICAgICBhd2FpdCB0aGlzLmxvYWRWYWx1ZXMoKTtcclxuICAgICAgICAvL3RoaXMuZm9yY2VVcGRhdGUoKTtcclxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XHJcbiAgICAgICAgXHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgY29tcG9uZW50RGlkVXBkYXRlKCk6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgICAgIGF3YWl0IHN1cGVyLmNvbXBvbmVudERpZFVwZGF0ZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIGNvbXBvbmVudFdpbGxVbm1vdW50KCk6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgICAgIGF3YWl0IHN1cGVyLmNvbXBvbmVudFdpbGxVbm1vdW50KCk7XHJcbiAgICAgICAgKG1hbnl3aG8gYXMgYW55KS5ldmVudE1hbmFnZXIucmVtb3ZlRG9uZUxpc3RlbmVyKHRoaXMuY29tcG9uZW50SWQgKyBcIl9QR1wiKTtcclxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XHJcbiAgICB9XHJcbiAgICAvL1xyXG4gICAgYXN5bmMgdHJpZ2dlck91dGNvbWUob3V0Y29tZU5hbWU6IHN0cmluZywgZGF0YT86IElGbG93T2JqZWN0RGF0YVtdKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICAgICAgYXdhaXQgc3VwZXIudHJpZ2dlck91dGNvbWUob3V0Y29tZU5hbWUsIGRhdGEpO1xyXG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcclxuICAgIH1cclxuXHJcbiAgICBhc3luYyByZWxvYWRWYWx1ZXMoeGhyOiBYTUxIdHRwUmVxdWVzdCwgcmVxdWVzdDogYW55KTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICAgICAgYXdhaXQgdGhpcy5sb2FkTW9kZWwoKTtcclxuICAgICAgICBhd2FpdCB0aGlzLmxvYWRWYWx1ZXMoKTtcclxuICAgICAgICBhd2FpdCB0aGlzLmZvcmNlVXBkYXRlKCk7XHJcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xyXG4gICAgICAgIFxyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcclxuXHJcbmltcG9ydCAnLi9jc3MvTW9kYWxEaWFsb2cuY3NzJztcclxuXHJcbmV4cG9ydCBjbGFzcyBtb2RhbERpYWxvZ0J1dHRvbiB7XHJcbiAgbGFiZWw6IHN0cmluZztcclxuICBoYW5kbGVyOiBhbnk7XHJcblxyXG4gIGNvbnN0cnVjdG9yKGxhYmVsOiBzdHJpbmcsIGhhbmRsZXI6IGFueSkge1xyXG4gICAgdGhpcy5sYWJlbCA9IGxhYmVsO1xyXG4gICAgdGhpcy5oYW5kbGVyID0gaGFuZGxlcjtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBlbnVtIGVEcmFnRXZlbnRUeXBlXHJcbntcclxuICAgIHVua25vd24sXHJcbiAgICBjYW52YXMsXHJcbiAgICB0YWJsZSxcclxuICAgIGxpbmssXHJcbiAgICBkaWFsb2dcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIERyYWdFdmVudFxyXG57XHJcbiAgICB0eXBlOiBlRHJhZ0V2ZW50VHlwZTtcclxuICAgIHNvdXJjZUVsZW1lbnQ6IGFueTtcclxuICAgIHRhcmdldEVsZW1lbnQ6IGFueTtcclxuICAgIG1vdXNlWDogbnVtYmVyO1xyXG4gICAgbW91c2VZOiBudW1iZXI7XHJcbiAgICBtb3VzZU9mZnNldFg6IG51bWJlcjtcclxuICAgIG1vdXNlT2Zmc2V0WTogbnVtYmVyO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKClcclxuICAgIHtcclxuICAgICAgICB0aGlzLnR5cGUgPSBlRHJhZ0V2ZW50VHlwZS51bmtub3duO1xyXG4gICAgICAgIHRoaXMuc291cmNlRWxlbWVudCA9IG51bGw7XHJcbiAgICAgICAgdGhpcy50YXJnZXRFbGVtZW50ID0gbnVsbDtcclxuICAgICAgICB0aGlzLm1vdXNlWCA9IDA7XHJcbiAgICAgICAgdGhpcy5tb3VzZVkgPSAwO1xyXG4gICAgICAgIHRoaXMubW91c2VPZmZzZXRYID0gMDtcclxuICAgICAgICB0aGlzLm1vdXNlT2Zmc2V0WSA9IDA7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBzdGFydCh0eXBlOiBlRHJhZ0V2ZW50VHlwZSwgc291cmNlRWxlbWVudDogYW55LCBtb3VzZVg6IG51bWJlciwgbW91c2VZOiBudW1iZXIpOiBEcmFnRXZlbnRcclxuICAgIHtcclxuICAgICAgICBjb25zdCBldnQ6IERyYWdFdmVudCA9IG5ldyBEcmFnRXZlbnQoKTtcclxuICAgICAgICBldnQudHlwZSA9IHR5cGU7XHJcbiAgICAgICAgZXZ0LnNvdXJjZUVsZW1lbnQgPSBzb3VyY2VFbGVtZW50O1xyXG4gICAgICAgIGV2dC50YXJnZXRFbGVtZW50ID0gbnVsbDtcclxuICAgICAgICBldnQubW91c2VYID0gbW91c2VYO1xyXG4gICAgICAgIGV2dC5tb3VzZVkgPSBtb3VzZVk7XHJcbiAgICAgICAgZXZ0Lm1vdXNlT2Zmc2V0WCA9IG1vdXNlWDtcclxuICAgICAgICBldnQubW91c2VPZmZzZXRZID0gbW91c2VZO1xyXG4gICAgICAgIHJldHVybiBldnQ7XHJcbiAgICB9XHJcblxyXG4gICAgZHJhZyhtb3VzZVg6IG51bWJlciwgbW91c2VZOiBudW1iZXIpXHJcbiAgICB7XHJcbiAgICAgICAgdGhpcy5tb3VzZVggPSBtb3VzZVg7XHJcbiAgICAgICAgdGhpcy5tb3VzZVkgPSBtb3VzZVk7XHJcbiAgICB9XHJcblxyXG4gICAgZW5kKHRhcmdldDogYW55LCBtb3VzZVg6IG51bWJlciwgbW91c2VZOiBudW1iZXIpIDogYW55XHJcbiAgICB7XHJcblxyXG4gICAgICAgIHRoaXMudGFyZ2V0RWxlbWVudCA9IHRhcmdldDtcclxuICAgICAgICB0aGlzLm1vdXNlWCA9IG1vdXNlWDtcclxuICAgICAgICB0aGlzLm1vdXNlWSA9IG1vdXNlWTtcclxuXHJcbiAgICAgICAgdGhpcy50eXBlPWVEcmFnRXZlbnRUeXBlLnVua25vd247ICAgICAgXHJcbiAgICB9XHJcbn1cclxuXHJcbi8vIERlY2xhcmF0aW9uIG9mIHRoZSBjb21wb25lbnQgYXMgUmVhY3QgQ2xhc3MgQ29tcG9uZW50XHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1vZGFsRGlhbG9nIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50PGFueSwgYW55PiB7XHJcbiAgICBkcmFnRXZlbnQ6IERyYWdFdmVudCA9IG5ldyBEcmFnRXZlbnQoKTtcclxuICAgIG1vZGFsOiBhbnk7XHJcbiAgICBkaWFsb2c6IGFueTtcclxuXHJcbiAgICB0b3A6IG51bWJlciA9IDA7XHJcbiAgICBsZWZ0OiBudW1iZXIgPSAwO1xyXG4gIC8vIEluaXQgb2YgdGhlIGNvbXBvbmVudCBiZWZvcmUgaXQgaXMgbW91bnRlZC5cclxuICAgIGNvbnN0cnVjdG9yKHByb3BzOiBhbnkpIHtcclxuICAgICAgICBzdXBlcihwcm9wcyk7XHJcblxyXG4gICAgICAgIHRoaXMuaGFuZGxlS2V5VXAgPSB0aGlzLmhhbmRsZUtleVVwLmJpbmQodGhpcyk7XHJcbiAgICAgICAgdGhpcy5oYW5kbGVPdXRzaWRlQ2xpY2sgPSB0aGlzLmhhbmRsZU91dHNpZGVDbGljay5iaW5kKHRoaXMpO1xyXG4gICAgICAgIHRoaXMub25DbG9zZVJlcXVlc3QgPSB0aGlzLm9uQ2xvc2VSZXF1ZXN0LmJpbmQodGhpcyk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RvcEV2ZW50QnViYmxlKGU6ICBhbnkpIHtcclxuICAgICAgICBpZihlLnN0b3BQcm9wYWdhdGlvbikgZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICBpZihlLnByZXZlbnREZWZhdWx0KSBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgZS5jYW5jZWxCdWJibGU9dHJ1ZTtcclxuICAgICAgICBlLnJldHVyblZhbHVlPWZhbHNlO1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgLy8gQWRkIGxpc3RlbmVycyBpbW1lZGlhdGVseSBhZnRlciB0aGUgY29tcG9uZW50IGlzIG1vdW50ZWQuXHJcbiAgICBjb21wb25lbnREaWRNb3VudCgpIHtcclxuXHJcbiAgICAgIC8vbmVlZCB0byBjZW50ZXIgdGhlIHdpbmRvd1xyXG4gICAgICBpZih0aGlzLmRpYWxvZykge1xyXG4gICAgICAgIGNvbnN0IHBhcmVudFhDZW50ZXIgPSB0aGlzLmRpYWxvZy5vZmZzZXRQYXJlbnQuY2xpZW50V2lkdGggLyAyO1xyXG4gICAgICAgIGNvbnN0IHBhcmVudFlDZW50ZXIgPSB0aGlzLmRpYWxvZy5vZmZzZXRQYXJlbnQuY2xpZW50SGVpZ2h0IC8gMjtcclxuICAgICAgICBjb25zdCBkaWFsb2dYT2Zmc2V0ID0gdGhpcy5kaWFsb2cuY2xpZW50V2lkdGggLyAyO1xyXG4gICAgICAgIGNvbnN0IGRpYWxvZ1lPZmZzZXQgPSB0aGlzLmRpYWxvZy5jbGllbnRIZWlnaHQgLyAyO1xyXG5cclxuXHJcbiAgICAgICAgdGhpcy5sZWZ0ID0gcGFyZW50WENlbnRlciAtIGRpYWxvZ1hPZmZzZXQ7XHJcbiAgICAgICAgdGhpcy50b3AgPSBwYXJlbnRZQ2VudGVyIC0gZGlhbG9nWU9mZnNldDtcclxuICAgICAgICB0aGlzLmZvcmNlVXBkYXRlKCk7XHJcbiAgICAgICAgdGhpcy5kaWFsb2cuY2xhc3NMaXN0LmFkZCgnc2hvd24nKTtcclxuICAgICAgICB0aGlzLmZvcmNlVXBkYXRlKCk7XHJcbiAgICAgIH1cclxuICAgIC8vd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgdGhpcy5oYW5kbGVLZXlVcCwgZmFsc2UpO1xyXG4gICAgLy9kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuaGFuZGxlT3V0c2lkZUNsaWNrLCBmYWxzZSk7XHJcbiAgfVxyXG4gIFxyXG5cclxuICAvLyBSZW1vdmUgbGlzdGVuZXJzIGltbWVkaWF0ZWx5IGJlZm9yZSBhIGNvbXBvbmVudCBpcyB1bm1vdW50ZWQgYW5kIGRlc3Ryb3llZC5cclxuICAgIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xyXG4gICAgLy93aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5dXAnLCB0aGlzLmhhbmRsZUtleVVwLCBmYWxzZSk7XHJcbiAgICAvL2RvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5oYW5kbGVPdXRzaWRlQ2xpY2ssIGZhbHNlKTtcclxuICB9XHJcblxyXG4gIG9uQ2xvc2VSZXF1ZXN0KCkge1xyXG4gICAgaWYodGhpcy5wcm9wcy5vbkNsb3NlUmVxdWVzdCkge1xyXG4gICAgICAvL2RvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5oYW5kbGVPdXRzaWRlQ2xpY2ssIGZhbHNlKTtcclxuICAgICAgLy93aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5dXAnLCB0aGlzLmhhbmRsZUtleVVwLCBmYWxzZSk7XHJcbiAgICAgIHRoaXMucHJvcHMub25DbG9zZVJlcXVlc3QoKTtcclxuICAgIH1cclxuICB9XHJcbiAgXHJcbiAgLy8gSGFuZGxlIHRoZSBrZXkgcHJlc3MgZXZlbnQuXHJcbiAgaGFuZGxlS2V5VXAoZTogYW55KSB7XHJcbiAgICBjb25zdCBrZXlzOiBhbnkgPSB7XHJcbiAgICAgIDI3OiAoKSA9PiB7XHJcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIHRoaXMub25DbG9zZVJlcXVlc3QoKTtcclxuICAgICAgfSxcclxuICAgIH07XHJcblxyXG4gICAgaWYgKGtleXNbZS5rZXlDb2RlXSkgeyBcclxuICAgICAga2V5c1tlLmtleUNvZGVdKCk7IFxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgXHJcblxyXG4gIC8vIEhhbmRsZSB0aGUgbW91c2UgY2xpY2sgb24gYnJvd3NlciB3aW5kb3cuXHJcbiAgaGFuZGxlT3V0c2lkZUNsaWNrKGU6IGFueSkge1xyXG4gICAgXHJcbiAgICAgaWYgKCF0aGlzLmRpYWxvZykge1xyXG4gICAgICAgIGlmICghdGhpcy5kaWFsb2cuY29udGFpbnMoZS50YXJnZXQpKSB7XHJcbiAgICAgICAgICB0aGlzLm9uQ2xvc2VSZXF1ZXN0KCk7XHJcbiAgICAgICAgfVxyXG4gICAgIH1cclxuICB9XHJcbiAgXHJcblxyXG4gIC8vIFJlbmRlciB0aGUgY29tcG9uZW50IHBhc3Npbmcgb25DbG9zZVJlcXVlc3QgYW5kIGNoaWxkcmVuIGFzIHByb3BzLlxyXG4gIHJlbmRlcigpIHtcclxuICAgIGNvbnN0IHN0eWxlOiBhbnkgPSB7fTtcclxuICAgIHN0eWxlLmxlZnQ9dGhpcy5sZWZ0O1xyXG4gICAgc3R5bGUudG9wID0gdGhpcy50b3A7XHJcblxyXG4gICAgY29uc3QgYnV0dG9uczogQXJyYXk8SlNYLkVsZW1lbnQ+ID0gW107XHJcbiAgICBmb3IoY29uc3QgYnV0dG9uIG9mIHRoaXMucHJvcHMuYnV0dG9ucykge1xyXG4gICAgICBidXR0b25zLnB1c2goXHJcbiAgICAgIDxidXR0b24gXHJcbiAgICAgICAgY2xhc3NOYW1lPVwibW9kYWwtZGlhbG9nLWJ1dHRvbi1iYXItYnV0dG9uXCIgXHJcbiAgICAgICAgdGl0bGU9XCJDYW5jZWxcIiBcclxuICAgICAgICBvbk1vdXNlRG93bj17KGUpID0+IHtlLnN0b3BQcm9wYWdhdGlvbigpO2J1dHRvbi5oYW5kbGVyKCl9fVxyXG4gICAgICA+XHJcbiAgICAgICAge2J1dHRvbi5sYWJlbH1cclxuICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gKFxyXG4gICAgICA8ZGl2IFxyXG4gICAgICAgIGNsYXNzTmFtZT1cIm1vZGFsLXJlZGFjdGlvblwiXHJcbiAgICAgICAgb25Nb3VzZU1vdmU9eyhlKSA9PiB7dGhpcy5vbk1vdXNlTW92ZShlKX19XHJcbiAgICAgICAgb25Nb3VzZVVwPXsoZSkgPT4ge3RoaXMub25Nb3VzZVVwKGUpfX1cclxuICAgICAgICBvbk1vdXNlRG93bj17KGUpID0+IHt0aGlzLmhhbmRsZU91dHNpZGVDbGljayhlKX19XHJcbiAgICAgID5cclxuICAgICAgICA8ZGl2IFxyXG4gICAgICAgICAgc3R5bGU9e3N0eWxlfVxyXG4gICAgICAgICAgY2xhc3NOYW1lPVwibW9kYWwtY29udGVudFwiXHJcbiAgICAgICAgICByZWY9eyhub2RlKSA9PiAodGhpcy5kaWFsb2cgPSBub2RlKX1cclxuICAgICAgICAgID5cclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1kaWFsb2dcIj5cclxuICAgICAgICAgICAgICA8ZGl2IFxyXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwibW9kYWwtZGlhbG9nLWhlYWRlclwiXHJcbiAgICAgICAgICAgICAgICBvbk1vdXNlRG93bj17KGUpID0+IHt0aGlzLm9uTW91c2VEb3duKGUpfX1cclxuICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7ZGlzcGxheTogJ2ZsZXgnLCBmbGV4RGlyZWN0aW9uOiBcInJvd1wiLCBmbGV4R3JvdzogMX19PlxyXG4gICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtb2RhbC1kaWFsb2ctaGVhZGVyLXRpdGxlXCI+e3RoaXMucHJvcHMudGl0bGV9PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7ZGlzcGxheTogJ2ZsZXgnLCBmbGV4RGlyZWN0aW9uOiBcInJvd1wiLCBtYXJnaW5MZWZ0OiAnYXV0bycsIGZsZXhHcm93OiAwfX0+XHJcbiAgICAgICAgICAgICAgICAgIDxzcGFuXHJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZ2x5cGhpY29uIGdseXBoaWNvbi1yZW1vdmUgbW9kYWwtZGlhbG9nLWhlYWRlci1idXR0b25cIlxyXG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7Y3Vyc29yOiAncG9pbnRlcicgLCBjb2xvcjogJyNmZWZlZmUnLCBtYXJnaW5SaWdodDogJzVweCcsIGZvbnRTaXplOiAnMTRwdCd9fVxyXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlPVwiQ2xvc2VcIlxyXG4gICAgICAgICAgICAgICAgICAgIG9uTW91c2VEb3duPXsoZSkgPT4ge2Uuc3RvcFByb3BhZ2F0aW9uKCk7IHRoaXMucHJvcHMub25DbG9zZSgnY2FuY2VsJyl9fVxyXG4gICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1kaWFsb2ctYm9keVwiPlxyXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWRpYWxvZy1ib2R5LWNsaWVudFwiPlxyXG4gICAgICAgICAgICAgICAgICB7dGhpcy5wcm9wcy5jaGlsZHJlbn0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgIDwvZGl2ID5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtZGlhbG9nLWJ1dHRvbi1iYXJcIj5cclxuICAgICAgICAgICAgICAgICAgICAge2J1dHRvbnN9ICAgXHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9kaXYgPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICA8L2Rpdj5cclxuICAgICk7XHJcbiAgfVxyXG5cclxuICBtb3ZlTWUobGVmdDogbnVtYmVyLCB0b3A6IG51bWJlcikge1xyXG4gICAgICB0aGlzLmxlZnQgPSBsZWZ0O1xyXG4gICAgICB0aGlzLnRvcCA9IHRvcDsgLy8gLSB0aGlzLmJveC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3A7XHJcbiAgICAgIHRoaXMuZm9yY2VVcGRhdGUoKTtcclxuICB9XHJcblxyXG4gIG9uTW91c2VEb3duKGU6IGFueSkge1xyXG4gICAgLy90aGlzLnN0b3BFdmVudEJ1YmJsZShlKTtcclxuICAgIC8vaW5jbHVkZSBjb21wb25lbnQgYm91bmRpbmcgcmVjdCB0byBhbGxvdyBmb3IgbW91c2Ugb2Zmc2V0IGludG8gY29tcG9uZW50XHJcbiAgICBsZXQgY2xpZW50UmVjdCA9IGUudGFyZ2V0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG4gICAgbGV0IG1vdXNlT2Zmc2V0WTogbnVtYmVyID0gZS5jbGllbnRZIC0gY2xpZW50UmVjdC50b3A7XHJcbiAgICBjb25zb2xlLmxvZyhcImdyYWIgZGlhbG9nXCIpO1xyXG4gICAgdGhpcy5kcmFnRXZlbnQgPSBEcmFnRXZlbnQuc3RhcnQoZURyYWdFdmVudFR5cGUuZGlhbG9nLCB0aGlzLCBlLmNsaWVudFggLSBjbGllbnRSZWN0LmxlZnQsIG1vdXNlT2Zmc2V0WSk7XHJcbiAgfVxyXG5cclxuICBvbk1vdXNlTW92ZShlOiBhbnkpIHtcclxuICAgIC8vdGhpcy5zdG9wRXZlbnRCdWJibGUoZSk7XHJcbiAgICBpZih0aGlzLmRyYWdFdmVudC50eXBlID09PSBlRHJhZ0V2ZW50VHlwZS5kaWFsb2cpXHJcbiAgICB7XHJcbiAgICAgIGNvbnNvbGUubG9nKFwibW92ZSBkaWFsb2dcIik7XHJcbiAgICAgIHRoaXMubW92ZU1lKGUuY2xpZW50WCAtIHRoaXMuZHJhZ0V2ZW50Lm1vdXNlT2Zmc2V0WCwgZS5jbGllbnRZIC0gdGhpcy5kcmFnRXZlbnQubW91c2VPZmZzZXRZKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIG9uTW91c2VVcChlOiBhbnkpIHtcclxuICAgIC8vdGhpcy5zdG9wRXZlbnRCdWJibGUoZSk7XHJcbiAgICBpZih0aGlzLmRyYWdFdmVudC50eXBlID09PSBlRHJhZ0V2ZW50VHlwZS5kaWFsb2cpXHJcbiAgICB7XHJcbiAgICAgIGNvbnNvbGUubG9nKFwiZHJvcCBkaWFsb2dcIik7XHJcbiAgICAgIHRoaXMuZHJhZ0V2ZW50LmVuZChudWxsLGUuY2xpZW50WCwgZS5jbGllbnRZKTtcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbiIsImltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0ICcuL2Nzcy9JY29uUGlja2VyLmNzcyc7XHJcblxyXG4vLyBEZWNsYXJhdGlvbiBvZiB0aGUgY29tcG9uZW50IGFzIFJlYWN0IENsYXNzIENvbXBvbmVudFxyXG5jbGFzcyBJY29uUGlja2VyIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50PGFueSwgYW55PiB7XHJcblxyXG4gICAgaWNvbnM6IGFueSA9IHt9O1xyXG5cclxuICAgIHNlbGVjdGVkSXRlbTogc3RyaW5nO1xyXG5cclxuICAgIG9uY2hhbmdlKGU6IGFueSkge1xyXG4gICAgICAgIHRoaXMuc2VsZWN0ZWRJdGVtID0gZS50YXJnZXQuaW5uZXJUZXh0O1xyXG4gICAgICAgIGlmICh0aGlzLnByb3BzLm9uQ2hhbmdlKSB7XHJcbiAgICAgICAgICAgIHRoaXMucHJvcHMub25DaGFuZ2UodGhpcy5zZWxlY3RlZEl0ZW0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmZvcmNlVXBkYXRlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3RydWN0b3IocHJvcHM6IGFueSkge1xyXG4gICAgICAgIHN1cGVyKHByb3BzKTtcclxuICAgICAgICB0aGlzLnNlbGVjdGVkSXRlbSA9IHRoaXMucHJvcHMub25DaGFuZ2VWYWx1ZTtcclxuICAgICAgICB0aGlzLmljb25zLmFzdGVyaXNrID0ge25hbWU6ICdhc3RlcmlzaycsIHRpdGxlOiAnQXN0ZXJpc2snLCBjb2RlOiAnJiN4MmE7J307XHJcbiAgICAgICAgdGhpcy5pY29ucy5wbHVzID0ge25hbWU6ICdwbHVzJywgdGl0bGU6ICdQbHVzJywgY29kZTogJyYjeDJiOyd9O1xyXG4gICAgICAgIHRoaXMuaWNvbnMuZXVybyA9IHtuYW1lOiAnZXVybycsIHRpdGxlOiAnRXVybycsIGNvZGU6ICcmI3gyMGFjOyd9O1xyXG4gICAgICAgIHRoaXMuaWNvbnMubWludXMgPSB7bmFtZTogJ21pbnVzJywgdGl0bGU6ICdNaW51cycsIGNvZGU6ICcmI3gyMjEyOyd9O1xyXG4gICAgICAgIHRoaXMuaWNvbnMuY2xvdWQgPSB7bmFtZTogJ2Nsb3VkJywgdGl0bGU6ICdDbG91ZCcsIGNvZGU6ICcmI3gyNjAxOyd9O1xyXG4gICAgICAgIHRoaXMub25jaGFuZ2UgPSB0aGlzLm9uY2hhbmdlLmJpbmQodGhpcyk7XHJcbiAgICB9XHJcblxyXG4gICAgcmVuZGVyKCkge1xyXG5cclxuICAgICAgICBjb25zdCBvcHRpb25zOiBKU1guRWxlbWVudFtdID0gW107XHJcbiAgICAgICAgbGV0IGNsczogc3RyaW5nO1xyXG4gICAgICAgIGZvciAoY29uc3Qgb3B0IG9mIE9iamVjdC5rZXlzKHRoaXMuaWNvbnMpKSB7XHJcbiAgICAgICAgICAgICBjb25zdCBjbHMgPSAnZ2x5cGhpY29uIGdseXBoaWNvbi0nICsgdGhpcy5pY29uc1tvcHRdLm5hbWUgKyAnIGljb24tcGlja2VyLWljb24nO1xyXG4gICAgICAgICAgICAgb3B0aW9ucy5wdXNoKDxsaSBvbkNsaWNrPXsoZSkgPT4ge3RoaXMub25jaGFuZ2UoZSk7IH19PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPXtjbHN9Pjwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHt0aGlzLmljb25zW29wdF0ubmFtZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9saT4pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJidG4tZ3JvdXBcIj5cclxuICAgICAgICAgICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdCBkcm9wZG93bi10b2dnbGVcIiBkYXRhLXRvZ2dsZT1cImRyb3Bkb3duXCI+XHJcbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9eydnbHlwaGljb24gZ2x5cGhpY29uLScgKyB0aGlzLnNlbGVjdGVkSXRlbX0+PC9zcGFuPjxzcGFuIGNsYXNzTmFtZT1cImNhcmV0XCI+PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgIDx1bCBjbGFzc05hbWU9XCJkcm9wZG93bi1tZW51XCIgcm9sZT1cIm1lbnVcIj5cclxuICAgICAgICAgICAgICAgIHtvcHRpb25zfVxyXG4gICAgICAgICAgICA8L3VsPlxyXG4gICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICApO1xyXG5cclxuICAgICAgICAvLyA8c2VsZWN0IGNsYXNzTmFtZT1cIm1vZGFsLWRpYWxvZy1zZWxlY3RcIiBkYXRhLXNob3ctaWNvbj1cInRydWVcIiBvbkNoYW5nZT17KGUpID0+IHt0aGlzLml0ZW1TZWxlY3RlZDsgfX0+XHJcbiAgICAgICAgLy8gICAge29wdGlvbnN9XHJcbiAgICAgICAgLy8gPC9zZWxlY3Q+XHJcbiAgfVxyXG59XHJcblxyXG4vLyBFeHBvcnQgdGhlIGNvbXBvbmVudCB0byB1c2UgaXQgaW4gb3RoZXIgY29tcG9uZW50cy5cclxuZXhwb3J0IGRlZmF1bHQgSWNvblBpY2tlcjtcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==